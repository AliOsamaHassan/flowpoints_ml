{"version":3,"sources":["sidebar/FlowOrder.js","sidebar/parsers/pytorch/PyTorchParser.js","libraries/pytorch.js","sidebar/TabContainer.js","sidebar/Sidebar.js","URLparser.js","DBhandler.js","App.js","serviceWorker.js","index.js"],"names":["getPointName","lib","key","p","name","replace","recursive_getOrder","myKey","order","depth","maxDepth","me","visited","ready","Object","keys","inputs","map","isReady","includes","push","outputs","out_key","getStateNames","states","idx","specTitle","lastUser","target_key","maxIndex","test_key","index","Math","max","getLastUser","length","FlowOrder","flowpoints","n_inputs","specs","title","ref","params","downstreamVisited","statename","needState","console","log","prepPoints","inp_key","PyTorchParser","link","addflatten","msg","Initials","max_l","param_key","i","type","current","val","min","substring","Constructor","steplib","stepmsg","maxL","step","Array","from","Forward","pointcode","SaveLoad","PyTorchModules","input","n_dims","Infinity","dimensions","autoparams","inp","outshape","linear","id","in_features","out_features","bias","out_shape","flatten","features","round","conv1d","in_channels","out_channels","kernel_size","stride","padding","dilation","groups","L_in","L_out","floor","conv2d","H_in","W_in","H_out","W_out","conv3d","D_in","D_out","maxpool1d","return_indices","ceil_mode","maxpool2d","maxpool3d","batchnorm1d","num_features","eps","momentum","affine","track_running_stats","batchnorm2d","batchnorm3d","groupnorm","num_groups","num_channels","instancenorm1d","instancenorm2d","instancenorm3d","rnn","input_size","hidden_size","num_layers","nonlinearity","options","batch_first","dropout","bidirectional","lstm","gru","rnncell","lstmcell","grucell","inplace","dropout2d","dropout3d","alphadropout","elu","alpha","hardshrink","lambd","hardtanh","min_val","max_val","leakyrelu","negative_slope","logsigmoid","prelu","num_parameters","init","relu","relu6","rrelu","lower","upper","selu","celu","sigmoid","softplus","beta","threshold","softshrink","softsign","tanh","tanhshrink","value","softmin","dim","softmax","softmax2d","logsoftmax","TabContainer","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","undefined","tab","tabs","indexOf","_this2","classes","width","ceil","react_default","a","createElement","className","root","style","overflow","Tabs_default","onChange","e","setState","onSelectTab","textColor","tabsRoot","indicator","tabsIndicator","scrollButtons","Tab_default","disableRipple","tabRoot","selected","tabSelected","label","React","Component","withStyles","theme","flexGrow","borderBottom","backgroundColor","textTransform","minWidth","fontWeight","typography","fontWeightRegular","marginRight","spacing","unit","fontFamily","join","&:hover","color","opacity","&$tabSelected","&:focus","darktheme","createMuiTheme","palette","useNextVariants","lighttheme","github","hljs","background","themes","SettingsTab","env","environment","marginTop","FormControl_default","InputLabel_default","htmlFor","Select_default","library","inputProps","refresh","target","updateEnv","libraries","libname","MenuItem_default","paddingTop","paddingBottom","paddingRight","settings","updateSettings","themename","variant","varname","r","t","tmp","FormControlLabel_default","control","Switch_default","checked","CodeTab","codetheme","atelierForestDark","fontSize","default_highlight","language","showLineNumbers","code","FlowpointTab","point","fields","int","double","bool","tuple","select","TextField_default","margin","splice","updatePointSettings","paramkey","param","opt_val","opt_idx","modules","getModules","title2key","mod_key","IconButton_default","aria-label","red","marginLeft","onClick","deleteSelected","Delete_default","display","height","verticalAlign","textAlign","Sidebar","styles","Drawer_default","anchor","open","class","maxWidth","drawerWidth","Typography_default","gutterBottom","component","sidebar_TabContainer","Sidebar_SettingsTab","Sidebar_CodeTab","Sidebar_FlowpointTab","lvls","0","1","2","3","num2string","num","toString","string2num","str","parseInt","decodeParams","queries","split","sort","pkey","q","pval","pidx","decodeOutputs","pos2title","l","b","query","output","encodePoint","pos","x","y","encodeOutputs","encodeParams","parseFromQuery","key2lib","P","showName","showSidebar","count","id2key","point_query","newpoint","output_shape","isHover","decodePoint","postToDB","content","cb","mod_id","d","Date","n","getSeconds","getMonth","getYear","getHours","getMinutes","random","getId","url","axios","get","then","res","ReplaceAll","search","replacement","newstr","App","lastPos","current_url","showShape","avoidCollisions","snackshow","snackmsg","snackcolor","green","modelUrl","baseUrl","window","location","href","addFlowpoint","bind","assertThisInitialized","handleClickPoint","prepCode","prepOutputShapes","blue","data","newlib","feed","entry","err","parser","_this3","bestInp","_this4","shiftKey","p1","handleClickLine","_this5","Sidebar_Sidebar","dist","transition","snap","startPosition","onDrag","maxHeight","shape","shapeBox","bottom","left","position","Fab_default","lightBlue","zIndex","boxShadow","Add_default","copy","FileCopy_default","indigo","new_url","showNames","paper","outlined","filled","parseToQuery","Link_default","deepPurple","Menu_default","Snackbar_default","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","SnackbarContent_default","message","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.88e02b61.chunk.js","sourcesContent":["import React from 'react';\n\n\nexport function getPointName(lib, key) {\n  const p = lib[key]\n  return (p.name === '' ? ('p_' + key) : p.name).replace(/ /g, '_')\n}\n\n\nfunction prepPoints(flowpoints) {\n\n  // Helpers\n  var n_inputs = 0\n  var lib = {}\n\n  // Adding all keys to lib\n  Object.keys(flowpoints).map(key => {\n    const p = flowpoints[key];\n    lib[key] = {\n      specTitle: p.specs.title,\n      inputs: {},\n      outputs: {},\n      name: p.name,\n      ref: p.specs.ref,\n      params: p.specs.params,\n      index: null,\n      visited: false,\n      downstreamVisited: false,\n      ready: false,\n      statename: null,\n      needState: false,\n    }\n    if (p.specs.title === 'Input') {\n      lib[key].index = n_inputs;\n      lib[key].ready = true;\n      lib[key].statename = (p.name === '' ? ('input_' + n_inputs) : p.name);\n      n_inputs = n_inputs + 1\n    }\n  })\n\n  // Adding connection pointers\n  Object.keys(flowpoints).map(key => {\n    var p = lib[key];\n    Object.keys(flowpoints[key].outputs).map(out_key => {\n      p.outputs[out_key] = lib[out_key]\n      if (!(out_key in lib)) {\n        console.log(out_key, lib)\n      } else {\n        lib[out_key].inputs[key] = lib[key]\n      }\n    })\n  })\n\n  // Returning\n  return lib\n\n}\n\n\n\nfunction recursive_isDownStream(lib, targetKey, myKey, depth, maxDepth) {\n\n  // Returning if matching\n  if (targetKey === myKey) return true\n\n  // Marking self as visited on this run\n  lib[myKey].downstreamVisited = true;\n\n  // Helper\n  var isDone = false;\n\n  // Testing outputs\n  if (depth < maxDepth) {\n    lib[myKey].outputs.map(out_key => {\n      if (!isDone && !lib[out_key].downstreamVisited) {\n        isDone = recursive_isDownStream(lib, targetKey, out_key, depth + 1, maxDepth);\n      }\n    })\n  }\n\n  // Returning\n  return isDone\n\n}\n\n\nfunction isDownStream(lib, targetKey, myKey) {\n\n  // Prepping lib\n  Object.keys(lib).map(key => {\n    lib[key].downstreamVisited = false;\n  })\n\n  // Testing\n  const isDone = recursive_isDownStream(lib, targetKey, myKey, 0, 100)\n\n  // Returning\n  return isDone\n\n}\n\n\nfunction isReady(lib, myKey) {\n  var ready = true;\n  Object.keys(lib[myKey].inputs).map(key => {\n    if (!lib[key].ready) ready = false\n  })\n  return ready\n}\n\n\nfunction recursive_getOrder(lib, myKey, order, depth, maxDepth) {\n\n  // Helper\n  var me = lib[myKey]\n\n  if (me) {\n    // Visited before? -> Return\n    if (me.visited) return order\n\n    // All inputs ready?\n    me.ready = isReady(lib, myKey)\n\n    // Visiting and continuing recursion downstream\n    if (me.ready) {\n      me.visited = true;\n      if (!order.includes(myKey)) order.push(myKey)\n      Object.keys(me.outputs).map(out_key => {\n        order = recursive_getOrder(lib, out_key, order, depth + 1, maxDepth)\n      })\n    }\n  }\n\n  // Returning\n  return order\n\n}\n\n\nfunction getLastUser(lib, order, target_key) {\n  var maxIndex = -1;\n  order.map((test_key, index) => {\n    if (target_key in lib[test_key].inputs) maxIndex = Math.max(maxIndex, index);\n  })\n  return order[maxIndex]\n}\n\n\nfunction getStateNames(lib, order) {\n  var states = {};\n  order.map((key, idx) => {\n    const p = lib[key];\n    if (!(key in states)) {\n      states[key] = getPointName(lib, key) + (p.specTitle === 'Input' ? '' : '_state');\n    }\n    const lastUser = getLastUser(lib, order, key);\n    if (lastUser) {\n      states[lastUser] = states[key]\n    }\n  })\n  states[order[order.length - 1]] = 'self.state'\n  return states\n}\n\n\nexport function FlowOrder(flowpoints) {\n\n  // Helpers\n  var order = []\n  var inputs = {}\n  var states = {}\n\n  // Prepping\n  var lib = prepPoints(flowpoints)\n\n  // Getting inputs\n  Object.keys(lib).map(key => {\n    if (lib[key].ready) {\n      order.push(key)\n      inputs[key] = lib[key];\n    }\n  })\n\n  // Testing inputs and downstream\n  Object.keys(inputs).map(inp_key => {\n    order = recursive_getOrder(lib, inp_key, order, 0, 100)\n  })\n\n  // Inputs always have their own states\n  var states = getStateNames(lib, order);\n\n  // Returning\n  return { lib:lib, order:order, states:states, inputs:Object.keys(inputs) }\n\n}\n","import React, { Component } from 'react';\n\nimport { getPointName } from '../../FlowOrder.js';\n\n\nfunction Initials(link) {\n  var msg = \"'''\"\n  msg += \"\\nCreated with https://mariusbrataas.github.io/flowpoints_ml/\"\n  if (link) {\n    msg += \"\\n\\nLink to model:\\n\" + link\n  }\n  msg += \"\\n\\nLICENSE:\"\n  msg += \"\\nhttps://github.com/mariusbrataas/flowpoints_ml/blob/master/LICENSE\"\n  msg += \"\\n'''\"\n  return msg\n}\n\n\nfunction Imports() {\n  var msg = \"# Importing torch tools\"\n  msg += \"\\nimport torch\"\n  msg += \"\\nfrom torch import nn, optim, cuda\"\n  msg += \"\\n\\n\"\n  msg += \"\\n# Importing other libraries\"\n  msg += \"\\nimport numpy as np\"\n  msg += \"\\nimport matplotlib.pyplot as plt\"\n  msg += \"\\nimport time\"\n  return msg\n}\n\n\nfunction Constructor(flowpoints, order) {\n\n  // Basics\n  var msg = \"# Model\"\n  msg += \"\\nclass neural_net(nn.Module):\"\n  msg += \"\\n\\n\\n    def __init__(self, optimizer=optim.SGD, alpha=0.01, criterion=nn.CrossEntropyLoss(), use_cuda=None):\"\n  msg += \"\\n\\n        # Basics\"\n  msg += \"\\n        super(neural_net, self).__init__()\"\n  msg += \"\\n\\n        # Settings\"\n  msg += \"\\n        self.optim_type = optimizer\"\n  msg += \"\\n        self.optimizer  = None\"\n  msg += \"\\n        self.alpha      = alpha\"\n  msg += \"\\n        self.criterion  = criterion\"\n  msg += \"\\n\\n        # Use CUDA?\"\n  msg += \"\\n        self.use_cuda = use_cuda if (use_cuda != None and cuda.is_available()) else cuda.is_available()\"\n  msg += \"\\n\\n        # Current loss and loss history\"\n  msg += \"\\n        self.train_loss      = 0\"\n  msg += \"\\n        self.valid_loss      = 0\"\n  msg += \"\\n        self.train_loss_hist = []\"\n  msg += \"\\n        self.valid_loss_hist = []\"\n  msg += \"\\n\\n        # State\"\n  msg += \"\\n        self.state = None\"\n\n  // Initializing modules\n  msg += \"\\n\\n        # Adding all modules\"\n  order.map(key => {\n    var p = flowpoints[key];\n    if (p.specs.title !== 'Input') {\n\n      // Getting longest param name\n      var max_l = 0;\n      Object.keys(p.specs.params).map(param_key => {max_l = Math.max(param_key.length, max_l)})\n\n      // Init object\n      msg += \"\\n        self.\" + getPointName(flowpoints, key) + \" = \" + p.specs.ref + '('\n\n      // Adding arguments\n      Object.keys(p.specs.params).map(param_key => {\n        msg += \"\\n            \" + param_key\n        for (var i = 0; i < max_l - param_key.length; i++) msg += ' '\n        msg += ' = '\n        if (p.specs.params[param_key].type === 'tuple') {\n          msg += '('\n          p.specs.params[param_key].current.map(val => {msg += (val === '' ? p.specs.params[param_key].min : val) + ','})\n          msg = msg.substring(0, msg.length - 1) + '),'\n        } else if (p.specs.params[param_key].type === 'select') {\n          msg += \"'\" + (p.specs.params[param_key].current === '' ? p.specs.params[param_key].min : p.specs.params[param_key].current) + \"'\" + ','\n        } else {\n          msg += (p.specs.params[param_key].current === '' ? p.specs.params[param_key].min : p.specs.params[param_key].current) + ','\n        }\n      })\n      if (max_l > 0) msg += '\\n        '\n      msg += ')'\n    }\n  })\n\n  // Startup routines\n  msg += \"\\n\\n        # Running startup routines\"\n  msg += \"\\n        self.startup_routines()\"\n\n  // Returning\n  return msg\n\n}\n\n\n\nfunction StartupRoutines() {\n  var msg = \"    def startup_routines(self):\"\n  msg += \"\\n        self.optimizer = self.optim_type(self.parameters(), lr=self.alpha)\"\n  msg += \"\\n        if self.use_cuda:\"\n  msg += \"\\n            self.cuda()\"\n  return msg\n}\n\n\n\nfunction Predict() {\n  var msg = \"    def predict(self, x):\"\n  msg += \"\\n        \"\n  msg += \"\\n        # Switching off auto-grad\"\n  msg += \"\\n        with torch.no_grad():\"\n  msg += \"\\n            \"\n  msg += \"\\n            # Use CUDA?\"\n  msg += \"\\n            if self.use_cuda:\"\n  msg += \"\\n                x = x.cuda()\"\n  msg += \"\\n            \"\n  msg += \"\\n            # Running inference\"\n  msg += \"\\n            return self.forward(x)\"\n  return msg\n}\n\n\n\nfunction Forward(lib, states, order, inputs) {\n  var msg = \"    def forward(self, \"\n\n  // Adding inputs\n  inputs.map(key => { msg += states[key] + ', ' })\n  if (inputs.length > 0) msg = msg.substring(0, msg.length - 2)\n  msg += '):'\n\n  // Forwarding\n  var steplib = []\n  order.map(key => {\n    const p = lib[key];\n    if (!(p.specTitle === 'Input')) {\n      var stepmsg = \"        \" + states[key] + ' = '\n      stepmsg += 'self.' + getPointName(lib, key) + '('\n      Object.keys(p.inputs).map(inp_key => { stepmsg += states[inp_key] + ' + ' })\n      stepmsg = stepmsg.substring(0, stepmsg.length - 3) + ')'\n      steplib.push({msg:stepmsg, title:p.specTitle})\n    }\n  })\n\n  // Adding steps\n  var maxL = 0\n  steplib.map(step => {maxL = Math.max(maxL, step.msg.length)})\n  steplib.map(step => {\n    msg += '\\n' + step.msg\n    Array.from(Array(maxL + 1 - step.msg.length).keys()).map(idx => {msg += ' '})\n    msg += '# ' + step.title\n  })\n\n  // Adding return\n  msg += '\\n        return self.state'\n\n  // Returning\n  return msg\n\n}\n\n\nfunction FitStep() {\n  var msg = \"    def fit_step(self, train_loader):\"\n  msg += '\\n\\n        # Preparations for fit step'\n  msg += '\\n        self.train_loss = 0 # Resetting training loss'\n  msg += '\\n        self.train()        # Switching to autograd'\n  msg += '\\n\\n        # Looping through data'\n  msg += '\\n        for x, y in train_loader:'\n  msg += '\\n\\n            # Use CUDA?'\n  msg += '\\n            if self.use_cuda:'\n  msg += '\\n                x, y = x.cuda(), y.cuda()        # Moving tensors to GPU'\n  msg += '\\n\\n            # Performing calculations'\n  msg += '\\n            self.forward(x)                      # Forward pass'\n  msg += '\\n            loss = self.criterion(self.state, y) # Calculating loss'\n  msg += '\\n            self.train_loss += loss.item()       # Adding to epoch loss'\n  msg += '\\n            loss.backward()                      # Backward pass'\n  msg += '\\n            self.optimizer.step()                # Optimizing weights'\n  msg += '\\n            self.optimizer.zero_grad()           # Clearing gradients'\n  msg += '\\n\\n        # Adding loss to history'\n  msg += '\\n        self.train_loss_hist.append(self.train_loss / len(train_loader))'\n\n  // Returning\n  return msg\n}\n\n\nfunction ValidationStep() {\n  var msg = \"    def validation_step(self, validation_loader):\"\n  msg += '\\n\\n        # Preparations for validation step'\n  msg += '\\n        self.valid_loss = 0 # Resetting validation loss'\n  msg += '\\n\\n        # Swithing off autograd'\n  msg += '\\n        with torch.no_grad():'\n  msg += '\\n\\n            # Looping through data'\n  msg += '\\n            for x, y in validation_loader:'\n  msg += '\\n\\n                # Use CUDA?'\n  msg += '\\n                if self.use_cuda:'\n  msg += '\\n                    x, y = x.cuda(), y.cuda()        # Moving tensors to GPU'\n  msg += '\\n\\n                # Performing calculations'\n  msg += '\\n                self.forward(x)                      # Forward pass'\n  msg += '\\n                loss = self.criterion(self.state, y) # Calculating loss'\n  msg += '\\n                self.valid_loss += loss.item()       # Adding to epoch loss'\n  msg += '\\n\\n        # Adding loss to history'\n  msg += '\\n        self.valid_loss_hist.append(self.valid_loss / len(validation_loader))'\n\n  // Returning\n  return msg\n}\n\n\nfunction Fit() {\n  var msg = '    def fit(self, train_loader, validation_loader=None, epochs=10, show_progress=True, save_best=False):'\n  msg += '\\n\\n        # Helpers'\n  msg += '\\n\\n        best_validation = 1e5'\n  msg += '\\n\\n        # Possibly prepping progress message'\n  msg += '\\n        if show_progress:'\n  msg += '\\n            epoch_l = max(len(str(epochs)), 2)'\n  msg += \"\\n            print('Training model...')\"\n  msg += \"\\n            print('%sEpoch   Training loss   Validation loss   Duration' % ''.rjust(2 * epoch_l - 4, ' '))\"\n  msg += '\\n            t = time.time()'\n  msg += '\\n\\n        # Looping through epochs'\n  msg += '\\n        for epoch in range(epochs):'\n  msg += '\\n            self.fit_step(train_loader)                 # Optimizing weights'\n  msg += '\\n            if validation_loader != None:               # Perform validation?'\n  msg += '\\n                self.validation_step(validation_loader) # Calculating validation loss'\n  msg += '\\n\\n            # Possibly printing progress'\n  msg += '\\n            if show_progress:'\n  msg += \"\\n                print('%s/%s' % (str(epoch + 1).rjust(epoch_l, ' '), str(epochs).ljust(epoch_l, ' ')),\"\n  msg += \"\\n                    '| %s' % str(round(self.train_loss_hist[-1], 8)).ljust(13, ' '),\"\n  msg += \"\\n                    '| %s' % str(round(self.valid_loss_hist[-1], 8)).ljust(15, ' '),\"\n  msg += \"\\n                    '| %ss' % str(round(time.time() - t, 3)).rjust(7, ' '))\"\n  msg += '\\n                t = time.time()'\n  msg += '\\n\\n            # Possibly saving model'\n  msg += '\\n\\n            if save_best:'\n  msg += '\\n                if self.valid_loss_hist[-1] > best_validation:'\n  msg += \"\\n                    self.save('best_validation')\"\n  msg += \"\\n                    best_validation = self.valid_loss_hist[-1]\"\n\n  // Returning\n  return msg\n}\n\n\nfunction PlotHist() {\n  var msg = '    def plot_hist(self):'\n  msg += \"\\n\\n        # Adding plots\"\n  msg += \"\\n        plt.plot(self.train_loss_hist, color='blue', label='Training loss')\"\n  msg += \"\\n        plt.plot(self.valid_loss_hist, color='springgreen', label='Validation loss')\"\n  msg += \"\\n\\n        # Axis labels\"\n  msg += \"\\n        plt.xlabel('Epoch')\"\n  msg += \"\\n        plt.ylabel('Loss')\"\n  msg += \"\\n        plt.legend(loc='upper right')\"\n  msg += \"\\n\\n        # Displaying plot\"\n  msg += \"\\n        plt.show()\"\n\n  // Returning\n  return msg\n}\n\n\nfunction SaveLoad(lib, order) {\n  var msg = \"    def save(self, name='model.pth'):\"\n  msg += \"\\n        if not '.pth' in name: name += '.pth'\"\n  msg += \"\\n        torch.save({\"\n  order.map(key => {\n    const point = lib[key]\n    if (!(point.specTitle === 'Input')) {\n      const pointcode = getPointName(lib, key)\n      msg += \"\\n            '\" + pointcode + \"': self.\" + pointcode + ','\n    }\n  })\n  msg += \"\\n            'train_loss':      self.train_loss,\"\n  msg += \"\\n            'valid_loss':      self.valid_loss,\"\n  msg += \"\\n            'train_loss_hist': self.train_loss_hist,\"\n  msg += \"\\n            'valid_loss_hist': self.valid_loss_hist,\"\n  msg += \"\\n            'optim_type':      self.optim_type,\"\n  msg += \"\\n            'alpha':           self.alpha,\"\n  msg += \"\\n            'criterion':       self.criterion,\"\n  msg += \"\\n            'use_cuda':        self.use_cuda\"\n  msg += \"\\n        }, name)\"\n  msg += \"\\n\\n\\n    @staticmethod\"\n  msg += \"\\n    def load(name='model.pth'):\"\n  msg += \"\\n        if not '.pth' in name: name += '.pth'\"\n  msg += \"\\n        checkpoint = torch.load(name)\"\n  msg += \"\\n        model = neural_net(\"\n  msg += \"\\n            optimizer = checkpoint['optim_type'],\"\n  msg += \"\\n            alpha     = checkpoint['alpha'],\"\n  msg += \"\\n            criterion = checkpoint['criterion'],\"\n  msg += \"\\n            use_cuda  = checkpoint['use_cuda']\"\n  msg += \"\\n        )\"\n  order.map(key => {\n    const point = lib[key]\n    if (!(point.specTitle === 'Input')) {\n      const pointcode = getPointName(lib, key)\n      msg += \"\\n        model.\" + pointcode + \" = checkpoint['\" + pointcode + \"']\"\n    }\n  })\n  msg += \"\\n        model.train_loss      = checkpoint['train_loss']\"\n  msg += \"\\n        model.valid_loss      = checkpoint['valid_loss']\"\n  msg += \"\\n        model.train_loss_hist = checkpoint['train_loss_hist']\"\n  msg += \"\\n        model.valid_loss_hist = checkpoint['valid_loss_hist']\"\n  msg += '\\n        model.startup_routines()'\n  msg += \"\\n        return model\"\n\n  // Returning\n  return msg\n}\n\n\nfunction Flatten() {\n  var msg = '# Helper class for flattening'\n  msg += '\\nclass Flatten(nn.Module):'\n  msg += '\\n    def __init__(self):'\n  msg += '\\n        super(Flatten, self).__init__()'\n  msg += '\\n    def forward(self, x):'\n  msg += '\\n        return x.view(x.shape[0], -1)'\n  return msg\n}\n\n\nexport function PyTorchParser(flowpoints, lib, link) {\n\n  // Add flatten?\n  var addflatten = false;\n  Object.keys(flowpoints).map(key => {\n    if (flowpoints[key].specs.title === 'Flatten') addflatten = true;\n  })\n\n  // Helpers\n  const order = lib.order;\n  const states = lib.states;\n  const inputs = lib.inputs;\n\n  // Initials\n  var msg = Initials(link)\n  msg += '\\n\\n\\n' + Imports();\n\n  // Add flatten?\n  if (addflatten) msg += '\\n\\n\\n' + Flatten()\n\n  // Model\n  msg += '\\n\\n\\n' + Constructor(flowpoints, order, {});\n  msg += '\\n\\n\\n' + StartupRoutines();\n  msg += '\\n\\n\\n' + Predict();\n  msg += '\\n\\n\\n' + Forward(lib.lib, states, order, inputs);\n  msg += '\\n\\n\\n' + FitStep();\n  msg += '\\n\\n\\n' + ValidationStep();\n  msg += '\\n\\n\\n' + Fit();\n  msg += '\\n\\n\\n' + PlotHist();\n  msg += '\\n\\n\\n' + SaveLoad(lib.lib, order);\n\n  // Returning\n  return msg\n\n}\n","import React, { Component } from 'react';\n\nexport function PyTorchModules() {\n  return {\n    input: {\n      title: 'Input',\n      params: {\n        n_dims: { min:1, max:Infinity, current:2 },\n        dimensions: { type:'tuple', min:1, max:Infinity, current:[1,1] }\n      },\n      autoparams: (inp, p) => {\n        return p\n      },\n      outshape: (inp, p) => {\n        return p.dimensions.current\n      }\n    },\n    linear: {\n      title: 'Linear',\n      ref: 'nn.Linear',\n      id: 0,\n      params: {\n        in_features: {type:'int', min:1, max:Infinity, current:1 },\n        out_features: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type:'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        var idx = 0;\n        var out_shape = inp.map((val, index) => {\n          idx = index;\n          return val\n        });\n        out_shape[idx] = p.out_features.current;\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.in_features.current = inp[inp.length - 1]\n        return p\n      }\n    },\n    flatten: {\n      title: 'Flatten',\n      ref: 'Flatten',\n      id: 1,\n      params: {},\n      outshape: (inp, p) => {\n        var features = 1/inp[0]\n        inp.map(val => {features *= val})\n        return [inp[0], Math.round(features)]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    conv1d: {\n      title: 'Conv1d',\n      ref: 'nn.Conv1d',\n      id: 2,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const L_in = inp[2]\n        const L_out = Math.floor(1 + (L_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        return [inp[0], p.out_channels.current.current, L_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    conv2d: {\n      title: 'Conv2d',\n      ref: 'nn.Conv2d',\n      id: 3,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const H_in = inp[2]\n        const W_in = inp[3]\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        return [inp[0], p.out_channels.current, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    conv3d: {\n      title: 'Conv3d',\n      ref: 'nn.Conv3d',\n      id: 4,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const D_in = inp[2]\n        const H_in = inp[3]\n        const W_in = inp[4]\n        const D_out = Math.floor(1 + (D_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[2] - p.dilation.current[2] * (p.kernel_size.current[2] - 1) - 1) / p.stride.current[2])\n        return [inp[0], p.out_channels.current, D_out, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    maxpool1d: {\n      title: 'MaxPool1d',\n      ref: 'nn.MaxPool1d',\n      id: 5,\n      params: {\n        kernel_size: { type:'int', min:1, max:Infinity, current:3 },\n        stride: { type:'int', min:1, max:Infinity, current:1 },\n        padding: { type:'int', min:0, max:Infinity, current:0 },\n        dilation: { type:'int', min:1, max:Infinity, current:1 },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const L_in = inp[2]\n        const L_out = Math.floor(1 + (L_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        return [inp[0], inp[0], L_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    maxpool2d: {\n      title: 'MaxPool2d',\n      ref: 'nn.MaxPool2d',\n      id: 6,\n      params: {\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const H_in = inp[2]\n        const W_in = inp[3]\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        return [inp[0], inp[1], H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    maxpool3d: {\n      title: 'MaxPool3d',\n      ref: 'nn.MaxPool3d',\n      id: 7,\n      params: {\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const D_in = inp[2]\n        const H_in = inp[3]\n        const W_in = inp[4]\n        const D_out = Math.floor(1 + (D_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[2] - p.dilation.current[2] * (p.kernel_size.current[2] - 1) - 1) / p.stride.current[2])\n        return [inp[0], inp[1], D_out, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    batchnorm1d: {\n      title: 'BatchNorm1d',\n      ref: 'nn.BatchNorm1d',\n      id: 8,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    batchnorm2d: {\n      title: 'BatchNorm2d',\n      ref: 'nn.BatchNorm2d',\n      id: 9,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    batchnorm3d: {\n      title: 'BatchNorm3d',\n      ref: 'nn.BatchNorm3d',\n      id: 10,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    groupnorm: {\n      title: 'GroupNorm',\n      ref: 'nn.GroupNorm',\n      id: 11,\n      params: {\n        num_groups: { type:'int', min:1, max:Infinity, current:1 },\n        num_channels: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        affine: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_channels.current = inp[1]\n        return p\n      }\n    },\n    instancenorm1d: {\n      title: 'InstanceNorm1d',\n      ref: 'nn.InstanceNorm1d',\n      id: 12,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    instancenorm2d: {\n      title: 'InstanceNorm2d',\n      ref: 'nn.InstanceNorm2d',\n      id: 13,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    instancenorm3d: {\n      title: 'InstanceNorm3d',\n      ref: 'nn.InstanceNorm3d',\n      id: 14,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    rnn: {\n      title: 'RNN',\n      ref: 'nn.RNN',\n      id: 15,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        nonlinearity: { type: 'select', options:['relu', 'tanh'], current:'tanh' },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    lstm: {\n      title: 'LSTM',\n      ref: 'nn.LSTM',\n      id: 16,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    gru: {\n      title: 'GRU',\n      ref: 'nn.GRU',\n      id: 17,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    rnncell: {\n      title: 'RNNCell',\n      ref: 'nn.RNNCell',\n      id: 18,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        nonlinearity: { type: 'select', options:['relu', 'tanh'], current:'tanh' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    lstmcell: {\n      title: 'LSTMCell',\n      ref: 'nn.LSTMCell',\n      id: 19,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    grucell: {\n      title: 'GRUCell',\n      ref: 'nn.GRUCell',\n      id: 20,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    dropout: {\n      title: 'Dropout',\n      ref: 'nn.Dropout',\n      id: 21,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    dropout2d: {\n      title: 'Dropout2d',\n      ref: 'nn.Dropout2d',\n      id: 22,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    dropout3d: {\n      title: 'Dropout3d',\n      ref: 'nn.Dropout3d',\n      id: 23,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    alphadropout: {\n      title: 'AlphaDropout',\n      ref: 'nn.AlphaDropout',\n      id: 24,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    elu: {\n      title: 'ELU',\n      ref: 'nn.ELU',\n      id: 25,\n      params: {\n        alpha: { type:'double', min:0, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    hardshrink: {\n      title: 'Hardshrink',\n      ref: 'nn.Hardshrink',\n      id: 26,\n      params: {\n        lambd: { type:'double', min:-Infinity, max:Infinity, current:'0.5' },\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    hardtanh: {\n      title: 'Hardtanh',\n      ref: 'nn.Hardtanh',\n      id: 27,\n      params: {\n        min_val: { type:'double', min:-Infinity, max:Infinity, current:-1 },\n        max_val: { type:'double', min:-Infinity, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    leakyrelu: {\n      title: 'LeakyReLU',\n      ref: 'nn.LeakyReLU',\n      id: 28,\n      params: {\n        negative_slope: { type:'double', min:0, max:Infinity, current:1e-2 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    logsigmoid: {\n      title: 'LogSigmoid',\n      ref: 'nn.LogSigmoid',\n      id: 29,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    prelu: {\n      title: 'PReLU',\n      ref: 'nn.PReLU',\n      id: 30,\n      params: {\n        num_parameters: { type:'int', min:0, max:Infinity, current:1 },\n        init: { type:'double', min:0, max:Infinity, current:0.25 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    relu: {\n      title: 'ReLU',\n      ref: 'nn.ReLU',\n      id: 31,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    relu6: {\n      title: 'ReLU6',\n      ref: 'nn.ReLU6',\n      id: 32,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    rrelu: {\n      title: 'RReLU',\n      ref: 'nn.RReLU',\n      id: 33,\n      params: {\n        lower: { type:'double', min:0, max:Infinity, current:1/8 },\n        upper: { type:'double', min:0, max:Infinity, current:1/3 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    selu: {\n      title: 'SELU',\n      ref: 'nn.SELU',\n      id: 34,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    celu: {\n      title: 'CELU',\n      ref: 'nn.CELU',\n      id: 35,\n      params: {\n        alpha: { type:'double', min:0, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    sigmoid: {\n      title: 'Sigmoid',\n      ref: 'nn.Sigmoid',\n      id: 36,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softplus: {\n      title: 'Softplus',\n      ref: 'nn.Softplus',\n      id: 37,\n      params: {\n        beta: { type:'double', min:0, max:Infinity, current:1 },\n        threshold: { type:'double', min:0, max:Infinity, current:20 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softshrink: {\n      title: 'Softshrink',\n      ref: 'nn.Softshrink',\n      id: 38,\n      params: {\n        lambd: { type:'double', min:0, max:Infinity, current:0.5 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softsign: {\n      title: 'Softsign',\n      ref: 'nn.Softsign',\n      id: 39,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    tanh: {\n      title: 'Tanh',\n      ref: 'nn.Tanh',\n      id: 40,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    tanhshrink: {\n      title: 'Tanhshrink',\n      ref: 'nn.Tanhshrink',\n      id: 41,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    threshold: {\n      title: 'Threshold',\n      ref: 'nn.Threshold',\n      id: 42,\n      params: {\n        threshold: { type:'double', min:0, max:Infinity, current:0.1 },\n        value: { type:'double', min:0, max:Infinity, current:0.1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmin: {\n      title: 'Softmin',\n      ref: 'nn.Softmin',\n      id: 43,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmax: {\n      title: 'Softmax',\n      ref: 'nn.Softmax',\n      id: 44,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmax2d: {\n      title: 'Softmax2d',\n      ref: 'nn.Softmax2d',\n      id: 45,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    logsoftmax: {\n      title: 'LogSoftmax',\n      ref: 'nn.LogSoftmax',\n      id: 46,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n  }\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    overflow:'scroll',\n  },\n  tabsRoot: {\n    borderBottom: '1px solid #1890ff',\n  },\n  tabsIndicator: {\n    backgroundColor: '#1890ff',\n  },\n  tabRoot: {\n    textTransform: 'initial',\n    minWidth: 50,\n    fontWeight: theme.typography.fontWeightRegular,\n    marginRight: theme.spacing.unit * 0,\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:hover': {\n      color: '#40a9ff',\n      opacity: 1,\n    },\n    '&$tabSelected': {\n      color: '#1890ff',\n    },\n    '&:focus': {\n      color: '#40a9ff',\n    },\n  },\n  tabSelected: {},\n  typography: {\n    padding: theme.spacing.unit * 0,\n  },\n});\n\nclass TabContainer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.tab !== undefined ? props.tabs.indexOf(props.tab) : 0\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { value } = this.state;\n    const width = Math.ceil(this.props.width/this.props.tabs.length) + 'px'\n\n    return (\n      <div className={classes.root} style={{overflow:'hidden'}}>\n        <Tabs\n          value={value}\n          onChange={(e, value) => {\n            this.setState({ value });\n            if (this.props.onSelectTab) this.props.onSelectTab(this.props.tabs[value]);\n          }}\n          textColor=\"primary\"\n          classes={{ root: classes.tabsRoot, indicator: classes.tabsIndicator }}\n          scrollButtons={false}>\n          {\n            this.props.tabs.map(value => {\n              return (\n                <Tab\n                  disableRipple\n                  classes={{ root: classes.tabRoot, selected: classes.tabSelected }}\n                  label={value}\n                  style={{width: width}}\n                />\n              )\n            })\n          }\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nTabContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TabContainer);\n","import React, { Component } from 'react';\n\nimport './Sidebar.css';\nimport { PyTorchParser } from './parsers/Parsers.js';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { github, atelierForestDark } from 'react-syntax-highlighter/dist/styles/hljs';\n\nimport Typography from '@material-ui/core/Typography';\nimport TabContainer from './TabContainer.js'\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Drawer from '@material-ui/core/Drawer';\n\nimport Snackbar from '@material-ui/core/Snackbar';\nimport green from '@material-ui/core/colors/green';\n\nimport Divider from '@material-ui/core/Divider';\nimport Chip from '@material-ui/core/Chip';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport red from '@material-ui/core/colors/red';\n\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Fab from '@material-ui/core/Fab';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\n\nconst darktheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n  typography: { useNextVariants: true },\n});\n\nconst lighttheme = createMuiTheme({\n  palette: {\n    type: 'light',\n  },\n  typography: { useNextVariants: true },\n});\n\ngithub.hljs.background = '#ffffff';\n\nexport const themes = [\n  'red',\n  'pink',,\n  'purple',\n  'deep-purple',\n  'indigo',\n  'blue',\n  'light-blue',\n  'green',\n  'light-green',\n  'lime',\n  'yellow',\n  'amber',\n  'orange',\n  'deep-orange',\n  'brown',\n  'grey',\n  'blue-grey',\n  'black',\n  'white'\n]\n\n\nconst SettingsTab = (props) => {\n  var env = props.environment;\n  return (\n    <div style={{ padding:'15px' }}>\n\n      <div>\n        <h3 style={{marginTop:'0px'}}>Environment</h3>\n        <FormControl>\n          <InputLabel htmlFor='libSelect'>Library</InputLabel>\n          <Select\n            value={env.library}\n            inputProps={{ name:'library select', id:'libSelect'}}\n            onChange={(e) => {\n              var environment = props.refresh().environment;\n              environment.library = e.target.value;\n              props.updateEnv(environment)\n            }}>\n            {\n              env.libraries.map(libname => {\n                return (\n                  <MenuItem value={libname}>{libname}</MenuItem>\n                )\n              })\n            }\n          </Select>\n        </FormControl>\n      </div>\n\n      <div style={{paddingTop:'20px'}}>\n        <h3>Customize view</h3>\n\n        <div style={{paddingBottom:10}}>\n          <FormControl style={{width:'48%', paddingRight:10, paddingBottom:10}}>\n            <InputLabel htmlFor='themeselect'>Theme</InputLabel>\n            <Select\n              value={props.settings.theme}\n              inputProps={{ name:'theme select', id:'themeselect'}}\n              onChange={(e) => {\n                var settings = props.refresh().settings;\n                settings.theme = e.target.value;\n                props.updateSettings(settings)\n              }}>\n              {\n                themes.map(themename => {\n                  return (\n                    <MenuItem value={themename}>{themename}</MenuItem>\n                  )\n                })\n              }\n            </Select>\n          </FormControl>\n\n          <FormControl style={{width:'48%'}}>\n            <InputLabel htmlFor='varselect'>Variant</InputLabel>\n            <Select\n              value={props.settings.variant}\n              inputProps={{ name:'vairant select', id:'varselect'}}\n              onChange={(e) => {\n                var settings = props.refresh().settings;\n                settings.variant = e.target.value;\n                props.updateSettings(settings)\n              }}>\n              {\n                ['paper','outlined','filled'].map(varname => {\n                  return (\n                    <MenuItem value={varname}>{varname}</MenuItem>\n                  )\n                })\n              }\n            </Select>\n          </FormControl>\n        </div>\n\n        {\n          [\n            {r:'darktheme', t:'Dark theme'},\n            {r:'showName', t:'Show names'},\n            {r:'showShape', t:'Show shapes'},\n            {r:'avoidCollisions', t:'Avoid collisions'}\n          ].map(tmp => {\n            return (\n              <FormControlLabel\n                style={{paddingTop:0}}\n                control={\n                  <Switch\n                    checked={props.settings[tmp.r]}\n                    color='primary'\n                    onChange={e => {\n                      var settings = props.refresh().settings;\n                      settings[tmp.r] = !settings[tmp.r];\n                      props.updateSettings(settings)\n                    }}/>\n                }\n                label={tmp.t}/>\n            )\n          })\n        }\n      </div>\n\n    </div>\n  )\n}\n\n\n\nconst CodeTab = props => {\n\n  // Selecting parser\n  var parser = null\n  if (props.environment.library === 'PyTorch') parser = PyTorchParser;\n\n  // Selecting theme\n  const codetheme = props.darktheme ? atelierForestDark : github;\n\n  return (\n    <div style={{fontSize:12}}>\n      <SyntaxHighlighter language='python' style={codetheme} showLineNumbers>\n        {\n          props.code\n        }\n      </SyntaxHighlighter>\n    </div>\n  )\n\n}\n\n\n\nconst FlowpointTab = props => {\n\n  var point = props.flowpoints[props.selected];\n\n  if (point) {\n\n    // Helpers\n    const params = point.specs.params;\n    var fields = { 'int':[], 'double':[], 'bool':[], 'tuple':[], 'select':[] };\n\n    // Input?\n    if (point.specs.title === 'Input') {\n      fields.int.push(\n        <TextField\n          label='N dimensions'\n          type='number'\n          variant='outlined'\n          margin='dense'\n          style={{width:'155px', paddingRight:'5px'}}\n          value={params.n_dims.current}\n          onChange={e => {\n            var flowpoints = props.refresh().flowpoints;\n            var p = flowpoints[props.selected];\n            var params = p.specs.params;\n            params.n_dims.current = Math.max(Math.min(e.target.value, params.n_dims.max), params.n_dims.min);\n            if (params.n_dims.current < params.dimensions.current.length) {\n              params.dimensions.current = params.dimensions.current.splice(0, params.n_dims.current)\n            } else if (params.n_dims.current > params.dimensions.current.length) {\n              Array.from(Array(params.n_dims.current - params.dimensions.current.length).keys()).map(idx => {\n                params.dimensions.current.push(1)\n              })\n            }\n            props.updatePointSettings(props.selected, p)\n          }}/>\n      )\n    }\n\n    Object.keys(params).map(paramkey => {\n      const param = params[paramkey]\n      switch(param.type) {\n        case 'int':\n          fields.int.push(\n            <TextField\n              label={paramkey}\n              type='number'\n              variant='outlined'\n              margin='dense'\n              style={{width:'155px', paddingRight:'5px'}}\n              value={params[paramkey].current}\n              onChange={e => {\n                var flowpoints = props.refresh().flowpoints;\n                var p = flowpoints[props.selected];\n                var param = p.specs.params[paramkey];\n                param.current = e.target.value === '' ? '' : Math.max(Math.min(e.target.value, param.max), param.min);\n                props.updatePointSettings(props.selected, p)\n              }}/>\n          )\n          break;\n        case 'double':\n          fields.double.push(\n            <TextField\n              label={paramkey}\n              type='number'\n              variant='outlined'\n              margin='dense'\n              style={{width:'155px', paddingRight:'5px'}}\n              value={params[paramkey].current}\n              onChange={e => {\n                var flowpoints = props.refresh().flowpoints;\n                var p = flowpoints[props.selected];\n                var param = p.specs.params[paramkey];\n                param.current = e.target.value === '' ? '' : Math.max(Math.min(e.target.value, param.max), param.min);\n                props.updatePointSettings(props.selected, p)\n              }}/>\n          )\n          break;\n        case 'bool':\n          fields.bool.push(\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={param.current === 'True'}\n                  color='primary'\n                  onChange={e => {\n                    var flowpoints = props.refresh().flowpoints;\n                    var p = flowpoints[props.selected];\n                    var param = p.specs.params[paramkey];\n                    if (param.current === 'True') {\n                      param.current = 'False';\n                    } else {\n                      param.current = 'True';\n                    }\n                    props.updatePointSettings(props.selected, p)\n                  }}/>\n              }\n              label={paramkey}/>\n          )\n          break;\n        case 'tuple':\n          fields.tuple.push(\n            <div style={{paddingTop:'15px'}}>\n              <div><h5 style={{margin:'0px'}}>{paramkey}</h5></div>\n              {\n                param.current.map((val, index) => {\n                  return (\n                    <TextField\n                      label={paramkey + ' ' + index}\n                      type='number'\n                      variant='outlined'\n                      margin='dense'\n                      style={{width:'155px', paddingRight:'5px'}}\n                      value={val}\n                      onChange={e => {\n                        var flowpoints = props.refresh().flowpoints;\n                        var p = flowpoints[props.selected]\n                        var param = flowpoints[props.selected].specs.params[paramkey];\n                        param.current[index] = e.target.value === '' ? '' : Math.max(Math.min(e.target.value, param.max), param.min);\n                        props.updatePointSettings(props.selected, p)\n                      }}/>\n                  )\n                })\n              }\n            </div>\n          )\n          break;\n        case 'select':\n          fields.select.push(\n            <FormControl>\n              <InputLabel htmlFor=\"selectfield\">{paramkey}</InputLabel>\n              <Select\n                value={params[paramkey].options.indexOf(params[paramkey].current)}\n                style={{width:'155px', paddingRight:'5px'}}\n                onChange={(e) => {\n                  var flowpoints = props.refresh().flowpoints;\n                  var p = flowpoints[props.selected];\n                  var param = p.specs.params[paramkey];\n                  param.current = param.options[e.target.value]\n                  props.updatePointSettings(props.selected, p)\n                }}\n                inputProps={{id:'selectfield'}}>\n                {\n                  params[paramkey].options.map((opt_val, opt_idx) => {\n                    return (\n                      <MenuItem value={opt_idx}>{opt_val}</MenuItem>\n                    )\n                  })\n                }\n              </Select>\n            </FormControl>\n          )\n          break;\n      }\n    })\n\n    // List of module types\n    const modules = props.environment.getModules()\n    var title2key = {}\n    Object.keys(modules).map(mod_key => {\n      title2key[modules[mod_key].title] = mod_key;\n    })\n\n    return (\n      <div style={{padding:'15px'}}>\n\n        <div>\n\n          <h2 style={{marginTop:'0px'}}>Flowpoint settings</h2>\n\n          <FormControl style={{width:'100%'}}>\n            <Select\n              value={point.specs.title}\n              inputProps={{ name:'spec select', id:'specselect'}}\n              onChange={(e) => {\n                if (e.target.value in title2key) {\n                  var flowpoints = props.refresh().flowpoints;\n                  var p = flowpoints[props.selected];\n                  p.specs = modules[title2key[e.target.value]];\n                  props.updatePointSettings(props.selected, p)\n                }\n              }}>\n              {\n                Object.keys(title2key).map(varname => {\n                  return (\n                    <MenuItem value={varname}>{varname}</MenuItem>\n                  )\n                })\n              }\n            </Select>\n          </FormControl>\n\n          <TextField\n            label='Name'\n            value={point.name}\n            margin='tight'\n            style={{width:'80%'}}\n            onChange={e => {\n              var flowpoints = props.refresh().flowpoints;\n              var p = flowpoints[props.selected];\n              p.name = e.target.value;\n              props.updatePointSettings(props.selected, p)\n            }}/>\n\n          <IconButton\n            aria-label=\"Delete\"\n            color={red[500]}\n            style={{\n              marginLeft:10,\n              marginTop:5,\n              color:red[300]\n            }}\n            onClick={props.deleteSelected}>\n            <DeleteIcon />\n          </IconButton>\n\n        </div>\n\n        <div style={{paddingTop:'25px'}}>\n          <h3>Parameters</h3>\n          <div>{ fields.int    }</div>\n          <div>{ fields.double }</div>\n          <div>{ fields.select }</div>\n          <div>{ fields.tuple  }</div>\n          <div>{ fields.bool   }</div>\n        </div>\n\n      </div>\n    )\n  } else {\n    return (\n      <div style={{display:'table', width:'100%', height:'50px'}}>\n        <div style={{display:'table-cell', verticalAlign:'middle', textAlign:'center'}}>\n          Click on a flowpoint to display it's settings.\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport const Sidebar = (props) => {\n  return (\n    <MuiThemeProvider theme={props.darktheme ? darktheme : lighttheme}>\n\n      <Drawer\n        variant='persistent'\n        anchor='left'\n        open={props.open}>\n\n        <div\n          class='fullSidebar'\n          style={{\n            maxWidth:props.settings.drawerWidth,\n            color: (props.darktheme ? 'white' : 'black')\n          }}>\n\n          <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{padding:'15px'}}>\n            Flowpoints ML\n          </Typography>\n\n          <div>\n            <TabContainer\n              tabs={['Settings', 'Code', 'Flowpoint']}\n              tab={props.settings.tab}\n              width={350}\n              onSelectTab={(value) => {\n                var settings = props.refresh().settings;\n                settings.tab = value;\n                if (value === 'Code') {\n                  settings.drawerWidth = 600\n                } else {\n                  settings.drawerWidth = 350\n                }\n                props.updateSettings(settings);\n              }}/>\n          </div>\n\n          <div class='scrollBox' style={{backgroundColor:(props.darktheme ? atelierForestDark.hljs.background : null)}}>\n\n            <div>\n              {\n                props.settings.tab === 'Settings' ? <SettingsTab\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  updateEnv={props.updateEnv}\n                  settings={props.settings}\n                  updateSettings={props.updateSettings}/> : null\n              }\n              {\n                props.settings.tab === 'Code' ? <CodeTab\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  code={props.code}\n                  darktheme={props.darktheme}/> : null\n              }\n              {\n                props.settings.tab === 'Flowpoint' ? <FlowpointTab\n                  selected={props.selected}\n                  settings={props.settings}\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  deleteSelected={props.deleteSelected}\n                  updatePointSettings={props.updatePointSettings}/> : null\n              }\n            </div>\n\n          </div>\n\n        </div>\n\n      </Drawer>\n\n    </MuiThemeProvider>\n  )\n}\n","import React, { Component } from 'react';\nimport { PyTorchModules } from './libraries/pytorch.js';\n\n/*\nconst lvls = {\n  0: '%24',\n  1: '#',\n  2: '%2C',\n  3: '%'\n}*/\n/*\nconst lvls = {\n  0: 'MAIS',\n  1: 'FISK',\n  2: 'OST',\n  3: 'KORN'\n}*/\n\nexport const themes = [\n  'red',\n  'pink',,\n  'purple',\n  'deep-purple',\n  'indigo',\n  'blue',\n  'light-blue',\n  'green',\n  'light-green',\n  'lime',\n  'yellow',\n  'amber',\n  'orange',\n  'deep-orange',\n  'brown',\n  'grey',\n  'blue-grey',\n  'black',\n  'white'\n]\n\nconst lvls = {\n  0: 'IIA',\n  1: 'IIB',\n  2: 'IIC',\n  3: 'IID'\n}\n\nfunction num2string(num) {\n  return num.toString(36)\n}\n\nfunction string2num(str) {\n  return parseInt(str, 36)\n}\n\nfunction encodeParams(params) {\n  var msg = ''\n  Object.keys(params).sort().map(pkey => {\n    const param = params[pkey]\n    if (param.type === 'bool') {\n      msg += (param.current === 'True' ? 't' : 'f')\n    } else if (param.type === 'tuple') {\n      param.current.map(pval => {\n        msg += num2string(pval) + lvls[3]\n      })\n      msg = msg.substring(0, msg.length - lvls[3].length)\n    } else if (param.type === 'select') {\n      msg += param.options.indexOf(param.current)\n    } else if (param.type === 'int') {\n      msg += num2string(param.current)\n    } else {\n      msg += param.current\n    }\n    msg += lvls[2]\n  })\n  return msg.substring(0, msg.length - lvls[2].length)\n}\n//https://mariusbrataas.github.io/flowpoints_ml/?p=loadPDF_3_41e2f4_4164f4_0##5#5#0#1aa%2C2aa%2#t%2C1%2C1%2_1##p#5#0##t%2C1%2C1%2_2##p#c#0##t%2C1%2C1%2\n//https://mariusbrataas.github.io/flowpoints_ml/?p=loadPDF_3_41e2f4_4164f4_0##5#5#0#1aa%2C2aa%2#t%2C1%2C1%2_1##p#5#0##t%2C1%2C1%2_2##p#c#0##t%2C1%2C1%2\n\nfunction decodeParams(msg, specs) {\n  var params = specs.params;\n  const queries = msg.split(lvls[2])\n  Object.keys(params).sort().map((pkey, idx) => {\n    var param = params[pkey]\n    const q = queries[idx]\n    if (param.type === 'bool') {\n      param.current = (q === 't' ? 'True' : 'False')\n    } else if (param.type === 'tuple') {\n      q.split(lvls[3]).map((pval, pidx) => {\n        param.current[pidx] = string2num(pval)\n      })\n    } else if (param.type === 'select') {\n      param.current = param.options[q]\n    } else if (param.type === 'int') {\n      param.current = string2num(q)\n    } else {\n      param.current = q\n    }\n  })\n  specs.params = params\n  return specs\n}\n\nfunction encodeOutputs(outputs) {\n  var msg = ''\n  Object.keys(outputs).map(out_key => {\n    msg += num2string(out_key) + outputs[out_key].output[0] + outputs[out_key].input[0] + lvls[2]\n  })\n  if (Object.keys(outputs).length > 0) {\n    msg = msg.substring(0, msg.length - lvls[2].length)\n  }\n  return msg\n}\n\nfunction decodeOutputs(msg) {\n  const pos2title = {\n    a: 'auto',\n    t: 'top',\n    l: 'left',\n    r: 'right',\n    b: 'bottom'\n  }\n  var queries = msg.split(lvls[2])\n  var outputs = {}\n  queries.map(query => {\n    if (query !== '') {\n      outputs[query.substring(0, query.length - 2)] = {\n        output: pos2title[query[query.length - 2]],\n        input: pos2title[query[query.length - 1]]\n      }\n    }\n  })\n  return outputs\n}\n\nfunction encodePoint(p, key) {\n  /*\n  0: key\n  1: name\n  2: x\n  3: y\n  4: id\n  5: outputs\n  6: params\n  */\n  var msg = '' + key\n  msg += lvls[1] + p.name\n  msg += lvls[1] + num2string(Math.round(p.pos.x/10))\n  msg += lvls[1] + num2string(Math.round(p.pos.y/10))\n  msg += lvls[1] + (p.specs.title === 'Input' ? '' : num2string(p.specs.id))\n  msg += lvls[1] + encodeOutputs(p.outputs)\n  msg += lvls[1] + encodeParams(p.specs.params)\n  return msg\n}\n\nfunction decodePoint(msg, id2key, getModules) {\n  const queries = msg.split(lvls[1])\n\n  // Decoding some basics\n  var p = {\n    name: queries[1],\n    output_shape: [],\n    pos: {\n      x: string2num(queries[2]) * 10,\n      y: string2num(queries[3]) * 10,\n    },\n    specs: decodeParams(queries[6], getModules()[queries[4] === '' ? 'input' : id2key[string2num(queries[4])]]),\n    outputs: decodeOutputs(queries[5]),\n    isHover: false\n  }\n  return { key:queries[0], p:p }\n}\n\nexport function parseToQuery(flowpoints, theme, variant, background, count, darktheme, showNames, library, showSidebar) {\n  const variant2key = {\n    'paper': 0,\n    'outlined': 1,\n    'filled':2\n  }\n  // LibraryTheme_Count_Incolor_Outcolor_point_point_\n  var msg = '' + library[0]\n  msg += num2string(themes.indexOf(theme))\n  msg += variant2key[variant]\n  msg += num2string(themes.indexOf(background))\n  msg += (darktheme ? 'D' : 'L')\n  msg += (showNames ? 'T' : 'F')\n  msg += (showSidebar ? 'T' : 'F')\n  msg += lvls[0] + num2string(count)\n  Object.keys(flowpoints).map(key => {\n    msg += lvls[0] + encodePoint(flowpoints[key], key)\n  })\n  return msg\n}\n\n\nexport function parseFromQuery(query) {\n  query = query.replace(/%20/g, ' ')\n  const queries = query.split(lvls[0])\n\n  // Helpers\n  const key2lib = {\n    P: {t:'PyTorch', modules:PyTorchModules}\n  }\n  const key2variant = {\n    0: 'paper',\n    1: 'outlined',\n    2: 'filled'\n  }\n\n  // Creating lib\n  var lib = {\n    library: key2lib[query[0]].t,\n    getModules: key2lib[query[0]].modules,\n    darktheme: (query[4] === 'D' ? true : false),\n    showName: (query[5] === 'T' ? true : false),\n    showSidebar: (query[6] === 'T' ? true : false),\n    count: string2num(queries[0]),\n    theme: themes[string2num(query[1])],\n    variant: key2variant[query[2]],\n    background: themes[string2num(query[3])]\n  }\n\n  // Id to module key\n  var id2key = {}\n  var modules = lib.getModules()\n  Object.keys(modules).map(mod_key => {\n    id2key[modules[mod_key].id] = mod_key\n  })\n\n  // Parsing all points\n  var flowpoints = {}\n  queries.splice(2, queries.length).map(point_query => {\n    const newpoint = decodePoint(point_query, id2key, lib.getModules);\n    flowpoints[newpoint.key] = newpoint.p\n  })\n  lib['flowpoints'] = flowpoints;\n\n  // Fixing inputs n_dims\n  Object.keys(flowpoints).map(key => {\n    if (flowpoints[key].specs.title === 'Input') {\n      flowpoints[key].specs.params.n_dims.current = flowpoints[key].specs.params.dimensions.current.length;\n    }\n  })\n\n  // Returning\n  return lib\n\n}\n","//var GoogleSpreadsheet = require('google-spreadsheet');\n//var request = require('request');\nimport axios from 'axios'\n\nfunction ReplaceAll(str, search, replacement) {\n  var msg = ''\n  str.split(search).map(sub => {\n    msg += sub + replacement\n  })\n  return msg.substring(0, msg.length - replacement.length)\n}\n\nfunction num2string(num) {\n  return num.toString(36)\n}\n//AIzaSyC2xSmTdMOwyfYJNWgRI0AZolpKgPft8a0\nfunction string2num(str) {\n  return parseInt(str, 36)\n}\n// 60 12 99 24 60\nfunction getId(l) {\n  l = Math.min(20, Math.max(10, l || 15))\n  var d = new Date()\n  var n = ''\n  n += '' + d.getSeconds()\n  n += '' + d.getMonth()\n  n += '' + d.getYear().toString().substring(1)\n  n += '' + d.getHours()\n  n += '' + d.getMinutes()\n  var msg = num2string(parseInt(n))\n  const lib = 'abcdefghijklmnopqrstuvwxyz0123456789'\n  Array.from(Array(l - msg.length).keys()).map(idx => {\n    msg = lib[Math.floor(Math.random() * lib.length)] + msg;\n  })\n  return msg\n}\n\nexport function postToDB(content, cb) {\n  const mod_id = getId();\n  var url = 'https://docs.google.com/forms/d/e/1FAIpQLSfTgXs4tTJ5drC44SVHCJaJoIwogOwK6WBrGT2-s85Ndaqz_g/formResponse?usp=pp_url'\n  url += '&entry.865206380=' + mod_id;\n  url += '&entry.854684610=' + content;\n  url += '&submit=Submit'\n  axios.get(url).then(res => {})\n  cb(mod_id)\n}\n\nexport function getDB(cb) {\n  var res;\n  axios.get('https://spreadsheets.google.com/feeds/list/11Z7JHNLrE0ODKnGwU0NOblcV-OxRcbugr8ujNZDzTRA/od6/public/basic?alt=json').then(res => {\n    var lib = {}\n    res.data.feed.entry.map(entry => {\n      lib[entry.title['$t']] = entry.content['$t'].split('content: ')[1]\n    })\n    cb(lib)\n  })\n}\n","import React, { Component } from 'react';\nimport './App.css';\n\nimport { Flowpoint, Flowspace } from 'flowpoints';\nimport { FlowOrder } from './sidebar/FlowOrder.js';\nimport { PyTorchParser } from './sidebar/parsers/Parsers.js';\nimport { PyTorchModules } from './libraries/pytorch.js';\nimport { Sidebar } from './sidebar/Sidebar.js';\nimport { parseToQuery, parseFromQuery } from './URLparser.js';\nimport { postToDB, getDB } from './DBhandler.js';\n\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport LinkIcon from '@material-ui/icons/Link';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\n\nimport green from '@material-ui/core/colors/green';\nimport red from '@material-ui/core/colors/red';\nimport grey from '@material-ui/core/colors/grey';\nimport blue from '@material-ui/core/colors/blue';\nimport indigo from '@material-ui/core/colors/indigo';\nimport deepPurple from '@material-ui/core/colors/deepPurple';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport teal from '@material-ui/core/colors/teal';\nimport blueGrey from '@material-ui/core/colors/blueGrey';\n\nimport copy from 'copy-to-clipboard';\n\nfunction Clone(obj) {\n  if (Array.isArray(obj)) return obj.map(tmp => Clone(tmp))\n  if (typeof obj === 'object') {\n    var new_obj = {}\n    Object.keys(obj).map(key => new_obj[key] = Clone(obj[key]))\n    return new_obj\n  }\n  return obj\n}\n\nfunction shapeBox(shape) {\n  var msg = '['\n  shape.map(val => {\n    msg += val + ','\n  })\n  if (shape.length > 0) msg = msg.substring(0, msg.length - 1)\n  msg += ']'\n  return (\n    <div style={{textAlign:'center', paddingBottom:'10px'}}>\n      {\n        msg\n      }\n    </div>\n  )\n}\n\nfunction ReplaceAll(str, search, replacement) {\n  var newstr = ''\n  str.split(search).map(val => {newstr += val + replacement})\n  return newstr.substring(0, newstr.length - replacement.length)\n}\n\n\n//mariusbrataas.github.io/flowpoints_ml/?p=load?PDT_9_41e2f4_4164f4_0&This%20is&9&9&&3aa,4aa,5aa,6aa,8aa&1%1,2_1&how%20I&9&g&&3aa,4aa,5aa,6aa,8aa&1%1,2_3&imagine&12&l&0&6aa,8aa&t,1,1_4&learning&12&z&0&1aa,6aa,8aa&t,1,1_5&deep&12&s&0&6aa,8aa&t,1,1_6&models%20in&1v&13&0&&t,1,1_8&my%20mind&1v&1a&0&&t,1,1\n//mariusbrataas.github.io/flowpoints_ml/?p=load?PDT_9_41e2f4_4164f4_0&This%20is&&3aa%2C4aa%2C5aa%2C6aa%2C8aa&1%251%2C2_1&how%20I&g&1%251%2C2_3&imagine&l&6aa%2C8aa&t%2C1%2C1_4&learning&z&1aa%2C6aa%2C8aa&t%2C1%2C1_5&deep&s&t%2C1%2C1_6&models%20in&1v&t%2C1%2C1_8&my%20mind&1a&t%2C1%2C1\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lastPos: {x:50, y:-40},\n      code: '',\n      selected: null,\n      count: 0,\n      flowpoints: {},\n      current_url: '',\n      url: '',\n      settings:{\n        tab: 'Settings',\n        theme: 'indigo',\n        background: 'black',\n        variant:'outlined',\n        drawerWidth: 350,\n        darktheme: true,\n        showShape: false,\n        showName: false,\n        showSidebar: true,\n        avoidCollisions: true,\n        snackshow: false,\n        snackmsg: 'Hello world',\n        snackcolor: green['A700'],\n        modelUrl: null\n      },\n      environment: {\n        library: 'PyTorch',\n        libraries: [ 'PyTorch' ],\n        getModules: PyTorchModules\n      }\n    }\n\n    // Helpers\n    this.baseUrl = window.location.href.split('/?')[0]\n    if (this.baseUrl[this.baseUrl.length - 1] !== '/') this.baseUrl += '/'\n    this.lib = {}\n\n    // Binding class methods\n    this.addFlowpoint = this.addFlowpoint.bind(this);\n    this.handleClickPoint = this.handleClickPoint.bind(this);\n    this.deleteSelected = this.deleteSelected.bind(this);\n    this.prepCode = this.prepCode.bind(this);\n    this.prepOutputShapes = this.prepOutputShapes.bind(this);\n    this.updatePointSettings = this.updatePointSettings.bind(this);\n\n  }\n\n\n  componentDidMount() {\n    var query = window.location.href.split(this.baseUrl)[1]\n\n    if (query.includes('p=')) {\n\n      // Snack message\n      var settings = this.state.settings;\n      settings.snackshow = true;\n      settings.snackmsg = 'Trying to load model';\n      settings.snackcolor = blue['A700'];\n      settings.modelUrl = this.baseUrl + query.substring(0, 18)\n      this.setState({settings})\n\n      try {\n\n        getDB(data => {\n\n          query = query.split('?p=')[1].substring(0, 15)\n          console.log(query)\n          query = data[query]\n\n          if (query) {\n            query = ReplaceAll(query, 'lll', '.')\n            var newlib = parseFromQuery(query)\n\n            // Updating settings and env\n            settings = this.state.settings;\n            var environment = this.state.environment;\n            settings.darktheme = newlib.darktheme;\n            settings.showName = newlib.showName;\n            settings.theme = newlib.theme;\n            settings.background = newlib.background;\n            settings.variant = newlib.variant;\n            settings.showSidebar = newlib.showSidebar;\n            environment.library = newlib.library;\n\n            // Snack message\n            settings.snackshow = true;\n            settings.snackmsg = 'Loaded model from URL';\n            settings.snackcolor = green['A700'];\n\n            // Updating self\n            this.setState({\n              count:newlib.count,\n              flowpoints:newlib.flowpoints,\n              settings:settings,\n              environment:environment\n            }, () => {\n              this.prepOutputShapes();\n              this.prepCode();\n            })\n\n          }\n\n        })\n\n      } catch(err) {\n        console.log(err)\n        var settings = this.state.settings;\n        settings.snackshow = true;\n        settings.snackmsg = 'Failed to load from URL';\n        settings.snackcolor = red['A400'];\n        this.setState({ settings });\n      }\n\n    } else {\n      this.prepOutputShapes();\n      this.prepCode();\n    }\n  }\n\n\n  prepCode() {\n\n    // Selecting parser\n    var parser = null;\n    if (this.state.environment.library === 'PyTorch') parser = PyTorchParser;\n\n    // Parsing code and updating state\n    this.setState({ code:parser(this.state.flowpoints, this.lib, this.state.settings.modelUrl) + '\\n\\n\\n' })\n\n  }\n\n\n  prepOutputShapes() {\n\n    // Helper\n    var flowpoints = this.state.flowpoints;\n\n    // Getting floworder and updating lib\n    this.lib = FlowOrder(flowpoints)\n\n    // Setting output-shapes of inputs\n    var visited = []\n    this.lib.order.map(key => {\n      if (this.lib.lib[key].specTitle === 'Input') {\n        flowpoints[key].output_shape = flowpoints[key].specs.outshape(null, flowpoints[key].specs.params)\n        visited.push(key)\n      }\n    })\n\n    // Setting all output-shapes\n    this.lib.order.map(key => {\n      if (!visited.includes(key)) {\n        var bestInp = null\n        Object.keys(this.lib.lib[key].inputs).map(inp_key => {\n          if (visited.includes(inp_key)) bestInp = inp_key\n        })\n        flowpoints[key].specs.params = flowpoints[key].specs.autoparams(flowpoints[bestInp].output_shape, flowpoints[key].specs.params)\n        flowpoints[key].output_shape = flowpoints[key].specs.outshape(flowpoints[bestInp].output_shape, flowpoints[key].specs.params)\n        visited.push(key)\n      }\n    })\n\n    // Updating state\n    this.setState({ flowpoints })\n\n  }\n\n\n  updatePointSettings(key, settings) {\n    var flowpoints = this.state.flowpoints;\n    flowpoints[key] = settings;\n    this.setState({ flowpoints });\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  deleteSelected() {\n    var flowpoints = this.state.flowpoints;\n    delete flowpoints[this.state.selected]\n    Object.keys(flowpoints).map(test_key => {\n      if (this.state.selected in flowpoints[test_key].outputs) {\n        delete flowpoints[test_key].outputs[this.state.selected];\n      }\n    })\n    this.setState({flowpoints, selected:null});\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  addFlowpoint() {\n    var flowpoints = this.state.flowpoints;\n    flowpoints['' + this.state.count] = {\n      name: '',\n      output_shape: [],\n      pos: {x:this.state.lastPos.x, y:this.state.lastPos.y + 90},\n      outputs: {},\n      isHover: false,\n      specs: this.state.environment.getModules().linear\n    }\n    if (this.state.selected) {\n      flowpoints[this.state.selected].outputs['' + this.state.count] = {\n        output:'auto',\n        input:'auto'\n      }\n    }\n    this.setState({ flowpoints, count:this.state.count + 1, lastPos:{x:this.state.lastPos.x, y:this.state.lastPos.y + 90}, selected:'' + (this.state.count) })\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  handleClickPoint(key, e) {\n    var selected = this.state.selected\n    var flowpoints = this.state.flowpoints\n    if (e.shiftKey) {\n      if (selected === null) {\n        selected = key\n      } else {\n        if (selected !== key) {\n          var p1 = flowpoints[selected]\n          if (key in p1.outputs) {\n            delete p1.outputs[key]\n          } else {\n            p1.outputs[key] = {\n              output:'auto',\n              input:'auto',\n              onClick:this.handleClickLine\n            }\n          }\n        }\n      }\n    } else {\n      selected = (selected === null ? key : (selected === key ? null : key))\n    }\n    this.setState({selected, flowpoints})\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  render() {\n    return (\n      <div style={{backgroundColor: (this.state.settings.darktheme ? 'black' : 'white')}}>\n\n        <Sidebar\n          selected={this.state.selected}\n          open={this.state.settings.showSidebar}\n          flowpoints={this.state.flowpoints}\n          settings={this.state.settings}\n          environment={this.state.environment}\n          refresh={() => {return this.state}}\n          updateSettings={(settings) => {this.setState({settings})}}\n          updateEnv={(environment) => {this.setState({environment})}}\n          deleteSelected={this.deleteSelected}\n          darktheme={this.state.settings.darktheme}\n          code={this.state.code}\n          updatePointSettings={this.updatePointSettings}/>\n\n        <Flowspace\n          theme={this.state.settings.theme}\n          variant={this.state.settings.variant}\n          background={this.state.settings.darktheme ? 'black' : 'white'}\n          selected={this.state.selected}\n          avoidCollisions={this.state.settings.avoidCollisions}\n          onClick={e => {this.setState({ selected:null })}}\n          style={{\n            height:'100vh',\n            width:('calc(100vw - ' + this.state.settings.drawerWidth * this.state.settings.showSidebar + ')'),\n            marginLeft:this.state.settings.drawerWidth * this.state.settings.showSidebar + 'px',\n            transition:['margin-left 0.4s ease-out','background-color 0.2s ease-out']\n          }}>\n          {\n            Object.keys(this.state.flowpoints).map(key => {\n              const point = this.state.flowpoints[key];\n              return (\n                <Flowpoint\n                  key={key}\n                  snap={{ x:10, y:10 }}\n                  startPosition={point.pos}\n                  outputs={point.outputs}\n                  onClick={(e) => {\n                    this.handleClickPoint(key, e);\n                  }}\n                  onDrag={pos => {\n                    var flowpoints = this.state.flowpoints;\n                    flowpoints[key].pos = pos;\n                    this.setState({ flowpoints, lastPos:pos })\n                  }}\n                  style={{\n                    height:'auto',\n                    maxHeight: this.state.settings.showShape ? 150 : 50\n                  }}>\n                  <div style={{height:'auto'}}>\n                    <div style={{display:'table', width:'100%', height:'50px'}}>\n                      <div style={{display:'table-cell', verticalAlign:'middle', textAlign:'center'}}>\n                        {\n                          this.state.settings.showName ? (point.name !== '' ? point.name : ('p_' + key)) : point.specs.title\n                        }\n                      </div>\n                    </div>\n                    {\n                      this.state.settings.showShape ? shapeBox(point.output_shape) : null\n                    }\n                  </div>\n                </Flowpoint>\n              )\n            })\n          }\n        </Flowspace>\n\n        <div style={{\n            bottom:'5px',\n            left:this.state.settings.drawerWidth * this.state.settings.showSidebar + 5 + 'px',\n            position:'fixed',\n            transition: 'left 0.4s ease-out'\n          }}>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:lightBlue['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Add\"\n              onClick={() => {this.addFlowpoint()}}>\n              <AddIcon />\n            </Fab>\n          </div>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:blue['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Copy code\"\n              onClick={() => {\n                copy(this.state.code)\n                var settings = this.state.settings;\n                settings.snackshow = true;\n                settings.snackmsg = 'Copied code to clipboard';\n                settings.snackcolor = blue['A400'];\n                this.setState({settings})\n              }}>\n              <FileCopyIcon />\n            </Fab>\n          </div>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:indigo['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Copy code\"\n              onClick={() => {\n                var new_url = parseToQuery(\n                  this.state.flowpoints,\n                  this.state.settings.theme,\n                  this.state.settings.variant,\n                  this.state.settings.background,\n                  this.state.count,\n                  this.state.settings.darktheme,\n                  this.state.settings.showName,\n                  this.state.environment.library,\n                  this.state.settings.showSidebar\n                )\n                new_url = ReplaceAll(new_url, '.', 'lll')\n                postToDB(new_url, (mod_id) => {\n                  new_url = this.baseUrl + '?p=' + mod_id;\n                  copy(new_url)\n                  var settings = this.state.settings;\n                  settings.snackshow = true;\n                  settings.snackmsg = 'Copied link to clipboard';\n                  settings.snackcolor = indigo['A400'];\n                  settings.modelUrl = new_url\n                  this.setState({settings})\n                })\n              }}>\n              <LinkIcon />\n            </Fab>\n          </div>\n          <div>\n            <Fab\n              style={{background:deepPurple['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Hide/Show\"\n              onClick={() => {\n                var settings = this.state.settings;\n                settings.showSidebar = !settings.showSidebar;\n                this.setState({settings})\n              }}>\n              <MenuIcon />\n            </Fab>\n          </div>\n        </div>\n\n        <Snackbar\n          autoHideDuration={3000}\n          onClose={() => {\n            var settings = this.state.settings;\n            settings.snackshow = false\n            this.setState({ settings })\n          }}\n          anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}\n          open={this.state.settings.snackshow}>\n          <SnackbarContent\n            message={this.state.settings.snackmsg}\n            style={{backgroundColor:this.state.settings.snackcolor, color:'black'}}/>\n        </Snackbar>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}