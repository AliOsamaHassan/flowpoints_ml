{"version":3,"sources":["sidebar/FlowOrder.js","sidebar/parsers/pytorch/PyTorchParser.js","libraries/pytorch.js","sidebar/TabContainer.js","sidebar/SuggestiveField.js","sidebar/Sidebar.js","URLparser.js","App.js","serviceWorker.js","index.js"],"names":["getPointName","lib","key","p","name","replace","recursive_getOrder","myKey","order","depth","maxDepth","me","visited","ready","Object","keys","inputs","map","isReady","includes","push","outputs","out_key","getStateNames","states","idx","lastUser","target_key","maxIndex","test_key","index","Math","max","getLastUser","length","FlowOrder","flowpoints","n_inputs","specTitle","specs","title","ref","params","downstreamVisited","statename","needState","prepPoints","inp_key","PyTorchParser","addflatten","msg","max_l","param_key","i","type","current","val","substring","Constructor","Forward","pointcode","SaveLoad","PyTorchModules","input","n_dims","min","Infinity","dimensions","autoparams","inp","outshape","linear","id","in_features","out_features","bias","out_shape","flatten","features","round","conv1d","in_channels","out_channels","kernel_size","stride","padding","dilation","groups","L_in","L_out","floor","conv2d","H_in","W_in","H_out","W_out","conv3d","D_in","D_out","maxpool1d","return_indices","ceil_mode","maxpool2d","maxpool3d","batchnorm1d","num_features","eps","momentum","affine","track_running_stats","batchnorm2d","batchnorm3d","groupnorm","num_groups","num_channels","instancenorm1d","instancenorm2d","instancenorm3d","rnn","input_size","hidden_size","num_layers","nonlinearity","options","batch_first","dropout","bidirectional","lstm","gru","rnncell","lstmcell","grucell","inplace","dropout2d","dropout3d","alphadropout","elu","alpha","hardshrink","lambd","hardtanh","min_val","max_val","leakyrelu","negative_slope","logsigmoid","prelu","num_parameters","init","relu","relu6","rrelu","lower","upper","selu","celu","sigmoid","softplus","beta","threshold","softshrink","softsign","tanh","tanhshrink","value","softmin","dim","softmax","softmax2d","logsoftmax","TabContainer","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","undefined","tab","tabs","indexOf","_this2","classes","width","ceil","react_default","a","createElement","className","root","style","overflow","Tabs_default","onChange","e","setState","onSelectTab","textColor","tabsRoot","indicator","tabsIndicator","scrollButtons","Tab_default","disableRipple","tabRoot","selected","tabSelected","label","React","Component","withStyles","theme","flexGrow","borderBottom","backgroundColor","textTransform","minWidth","fontWeight","typography","fontWeightRegular","marginRight","spacing","unit","fontFamily","join","&:hover","color","opacity","&$tabSelected","&:focus","inputComponent","_ref","inputRef","objectWithoutProperties","assign","components","Control","TextField_default","fullWidth","InputProps","inputProps","objectSpread","selectProps","innerRef","children","innerProps","textFieldProps","Menu","Paper_default","square","paper","MultiValue","Chip_default","tabIndex","classNames","chip","defineProperty","chipFocused","isFocused","onDelete","removeProps","onClick","deleteIcon","Cancel_default","NoOptionsMessage","Typography_default","noOptionsMessage","Option","MenuItem_default","buttonRef","component","isSelected","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","SuggestiveField","_React$Component","opt","inherits","createClass","_this$props","selectStyles","base","palette","text","primary","& input","font","NoSsr_default","react_select_esm","styles","isClearable","height","display","flexWrap","flex","alignItems","margin","concat","emphasize","grey","fontSize","position","left","zIndex","marginTop","right","divider","withTheme","darktheme","createMuiTheme","useNextVariants","lighttheme","github","hljs","background","SettingsTab","env","environment","FormControl_default","InputLabel_default","htmlFor","Select_default","library","refresh","target","updateEnv","libraries","libname","paddingTop","r","t","tmp","FormControlLabel_default","control","Switch_default","checked","settings","updateSettings","CodeTab","codetheme","atelierForestDark","default_highlight","language","showLineNumbers","code","FlowpointTab","point","fields","int","double","bool","tuple","select","variant","paddingRight","splice","Array","from","updatePointSettings","paramkey","param","opt_val","opt_idx","modules","getModules","title2key","mod_key","sidebar_SuggestiveField","IconButton_default","aria-label","red","marginLeft","deleteSelected","Delete_default","verticalAlign","textAlign","Sidebar","core_styles","Drawer_default","anchor","open","class","maxWidth","drawerWidth","gutterBottom","sidebar_TabContainer","Sidebar_SettingsTab","Sidebar_CodeTab","Sidebar_FlowpointTab","lvls","0","1","2","3","num2string","num","toString","string2num","str","parseInt","decodeParams","queries","split","sort","pkey","q","pval","pidx","decodeOutputs","pos2title","l","b","query","output","encodePoint","pos","x","y","encodeOutputs","encodeParams","parseFromQuery","key2lib","P","showName","showSidebar","count","inputColor","outputColor","id2key","point_query","newpoint","output_shape","isHover","decodePoint","App","lastPos","current_url","url","showShape","snackshow","snackmsg","snackcolor","green","baseUrl","window","location","href","addFlowpoint","bind","assertThisInitialized","handleClickPoint","prepCode","prepOutputShapes","updateWindow","console","log","newlib","err","new_url","showNames","parseToQuery","history","replaceState","parser","_this3","bestInp","_this4","p1","_this5","Sidebar_Sidebar","dist","transition","snap","startPosition","noShadow","onDrag","maxHeight","borderStyle","borderColor","borderWidth","borderRadius","shape","paddingBottom","shapeBox","bottom","Fab_default","blue","boxShadow","Add_default","indigo","copy","FileCopy_default","deepPurple","Menu_default","Snackbar_default","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","SnackbarContent_default","message","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.a47d540a.chunk.js","sourcesContent":["import React from 'react';\n\n\nexport function getPointName(lib, key) {\n  const p = lib[key]\n  return (p.name === '' ? ('p_' + key) : p.name).replace(/ /g, '_')\n}\n\n\nfunction prepPoints(flowpoints) {\n\n  // Helpers\n  var n_inputs = 0\n  var lib = {}\n\n  // Adding all keys to lib\n  Object.keys(flowpoints).map(key => {\n    const p = flowpoints[key];\n    lib[key] = {\n      specTitle: p.specs.title,\n      inputs: {},\n      outputs: {},\n      name: p.name,\n      ref: p.specs.ref,\n      params: p.specs.params,\n      index: null,\n      visited: false,\n      downstreamVisited: false,\n      ready: false,\n      statename: null,\n      needState: false,\n    }\n    if (p.specs.title === 'Input') {\n      lib[key].index = n_inputs;\n      lib[key].ready = true;\n      lib[key].statename = (p.name === '' ? ('input_' + n_inputs) : p.name);\n      n_inputs = n_inputs + 1\n    }\n  })\n\n  // Adding bidirectional connection pointers\n  Object.keys(flowpoints).map(key => {\n    var p = lib[key];\n    Object.keys(flowpoints[key].outputs).map(out_key => {\n      p.outputs[out_key] = lib[out_key]\n      lib[out_key].inputs[key] = lib[key]\n    })\n  })\n\n  // Returning\n  return lib\n\n}\n\n\n\nfunction recursive_isDownStream(lib, targetKey, myKey, depth, maxDepth) {\n\n  // Returning if matching\n  if (targetKey === myKey) return true\n\n  // Marking self as visited on this run\n  lib[myKey].downstreamVisited = true;\n\n  // Helper\n  var isDone = false;\n\n  // Testing outputs\n  if (depth < maxDepth) {\n    lib[myKey].outputs.map(out_key => {\n      if (!isDone && !lib[out_key].downstreamVisited) {\n        isDone = recursive_isDownStream(lib, targetKey, out_key, depth + 1, maxDepth);\n      }\n    })\n  }\n\n  // Returning\n  return isDone\n\n}\n\n\nfunction isDownStream(lib, targetKey, myKey) {\n\n  // Prepping lib\n  Object.keys(lib).map(key => {\n    lib[key].downstreamVisited = false;\n  })\n\n  // Testing\n  const isDone = recursive_isDownStream(lib, targetKey, myKey, 0, 100)\n\n  // Returning\n  return isDone\n\n}\n\n\nfunction isReady(lib, myKey) {\n  var ready = true;\n  Object.keys(lib[myKey].inputs).map(key => {\n    if (!lib[key].ready) ready = false\n  })\n  return ready\n}\n\n\nfunction recursive_getOrder(lib, myKey, order, depth, maxDepth) {\n\n  // Helper\n  var me = lib[myKey]\n\n  // Visited before? -> Return\n  if (me.visited) return order\n\n  // All inputs ready?\n  me.ready = isReady(lib, myKey)\n\n  // Visiting and continuing recursion downstream\n  if (me.ready) {\n    me.visited = true;\n    if (!order.includes(myKey)) order.push(myKey)\n    Object.keys(me.outputs).map(out_key => {\n      order = recursive_getOrder(lib, out_key, order, depth + 1, maxDepth)\n    })\n  }\n\n  // Returning\n  return order\n\n}\n\n\nfunction getLastUser(lib, order, target_key) {\n  var maxIndex = -1;\n  order.map((test_key, index) => {\n    if (target_key in lib[test_key].inputs) maxIndex = Math.max(maxIndex, index);\n  })\n  return order[maxIndex]\n}\n\n\nfunction getStateNames(lib, order) {\n  var states = {};\n  order.map((key, idx) => {\n    const p = lib[key];\n    if (!(key in states)) {\n      states[key] = getPointName(lib, key) + '_state';\n    }\n    const lastUser = getLastUser(lib, order, key);\n    if (lastUser) {\n      states[lastUser] = states[key]\n    }\n  })\n  states[order[order.length - 1]] = 'self.state'\n  return states\n}\n\n\nexport function FlowOrder(flowpoints) {\n\n  // Helpers\n  var order = []\n  var inputs = {}\n  var states = {}\n\n  // Prepping\n  var lib = prepPoints(flowpoints)\n\n  // Getting inputs\n  Object.keys(lib).map(key => {\n    if (lib[key].ready) {\n      order.push(key)\n      inputs[key] = lib[key];\n    }\n  })\n\n  // Testing inputs and downstream\n  Object.keys(inputs).map(inp_key => {\n    order = recursive_getOrder(lib, inp_key, order, 0, 100)\n  })\n\n  // Inputs always have their own states\n  var states = getStateNames(lib, order);\n\n  // Returning\n  return { lib:lib, order:order, states:states, inputs:Object.keys(inputs) }\n\n}\n","import React, { Component } from 'react';\n\nimport { getPointName } from '../../FlowOrder.js';\n\n\nfunction Initials() {\n  var msg = \"'''\"\n  msg += \"\\nCreated with https://mariusbrataas.github.io/flowpoints_ml/\"\n  msg += \"\\n\\nLICENSE:\"\n  msg += \"\\nhttps://github.com/mariusbrataas/flowpoints_ml/blob/master/LICENSE\"\n  msg += \"\\n'''\"\n  return msg\n}\n\n\nfunction Imports() {\n  var msg = \"# Importing torch tools\"\n  msg += \"\\nimport torch\"\n  msg += \"\\nfrom torch import nn, optim, cuda\"\n  msg += \"\\n\\n\"\n  msg += \"\\n# Importing other libraries\"\n  msg += \"\\nimport numpy as np\"\n  msg += \"\\nimport matplotlib.pyplot as plt\"\n  msg += \"\\nimport time\"\n  return msg\n}\n\n\nfunction Constructor(flowpoints, order) {\n\n  // Basics\n  var msg = \"# Model\"\n  msg += \"\\nclass neural_net(nn.Module):\"\n  msg += \"\\n\\n\\n    def __init__(self, optimizer=optim.SGD, alpha=0.01, criterion=nn.CrossEntropyLoss(), use_cuda=None):\"\n  msg += \"\\n\\n        # Basics\"\n  msg += \"\\n        super(neural_net, self).__init__()\"\n  msg += \"\\n\\n        # Settings\"\n  msg += \"\\n        self.optim_type = optimizer\"\n  msg += \"\\n        self.optimizer  = None\"\n  msg += \"\\n        self.alpha      = alpha\"\n  msg += \"\\n        self.criterion  = criterion\"\n  msg += \"\\n\\n        # Use CUDA?\"\n  msg += \"\\n        self.use_cuda = use_cuda if (use_cuda != None and cuda.is_available()) else cuda.is_available()\"\n  msg += \"\\n\\n        # Current loss and loss history\"\n  msg += \"\\n        self.train_loss      = 0\"\n  msg += \"\\n        self.valid_loss      = 0\"\n  msg += \"\\n        self.train_loss_hist = []\"\n  msg += \"\\n        self.valid_loss_hist = []\"\n  msg += \"\\n\\n        # State\"\n  msg += \"\\n        self.state = None\"\n\n  // Initializing modules\n  msg += \"\\n\\n        # Adding all modules\"\n  order.map(key => {\n    var p = flowpoints[key];\n    if (p.specs.title !== 'Input') {\n\n      // Getting longest param name\n      var max_l = 0;\n      Object.keys(p.specs.params).map(param_key => {max_l = Math.max(param_key.length, max_l)})\n\n      // Init object\n      msg += \"\\n        self.\" + getPointName(flowpoints, key) + \" = \" + p.specs.ref + '('\n\n      // Adding arguments\n      Object.keys(p.specs.params).map(param_key => {\n        msg += \"\\n            \" + param_key\n        for (var i = 0; i < max_l - param_key.length; i++) msg += ' '\n        msg += ' = '\n        if (p.specs.params[param_key].type === 'tuple') {\n          msg += '('\n          p.specs.params[param_key].current.map(val => {msg += val + ','})\n          msg = msg.substring(0, msg.length - 1) + ')'\n        } else if (p.specs.params[param_key].type === 'select') {\n          msg += \"'\" + p.specs.params[param_key].current + \"'\"\n        } else {\n          msg += p.specs.params[param_key].current\n        }\n      })\n      if (max_l > 0) msg += '\\n        '\n      msg += ')'\n    }\n  })\n\n  // Startup routines\n  msg += \"\\n\\n        # Running startup routines\"\n  msg += \"\\n        self.startup_routines()\"\n\n  // Returning\n  return msg\n\n}\n\n\n\nfunction StartupRoutines() {\n  var msg = \"    def startup_routines(self):\"\n  msg += \"\\n        self.optimizer = self.optim_type(self.parameters(), lr=self.alpha)\"\n  msg += \"\\n        if self.use_cuda:\"\n  msg += \"\\n            self.cuda()\"\n  return msg\n}\n\n\n\nfunction Forward(lib, states, order, inputs) {\n  var msg = \"    def forward(\"\n\n  // Adding inputs\n  inputs.map(key => { msg += states[key] + ', ' })\n  msg = msg.substring(0, msg.length - 2) + '):'\n\n  // Forwarding\n  order.map(key => {\n    const p = lib[key];\n    if (!(p.specTitle === 'Input')) {\n      msg += \"\\n        \" + states[key] + ' = '\n      msg += getPointName(lib, key) + '('\n      Object.keys(p.inputs).map(inp_key => { msg += states[inp_key] + ' + ' })\n      msg = msg.substring(0, msg.length - 3) + ') # ' + p.specTitle\n    }\n  })\n\n  // Adding return\n  msg += '\\n        return self.state'\n\n  // Returning\n  return msg\n\n}\n\n\nfunction FitStep() {\n  var msg = \"    def fit_step(self, train_loader):\"\n  msg += '\\n\\n        # Preparations for fit step'\n  msg += '\\n        self.train_loss = 0 # Resetting training loss'\n  msg += '\\n        self.train()        # Switching to autograd'\n  msg += '\\n\\n        # Looping through data'\n  msg += '\\n        for x, y in train_loader:'\n  msg += '\\n\\n            # Use CUDA?'\n  msg += '\\n            if self.use_cuda:'\n  msg += '\\n                x, y = x.cuda(), y.cuda()        # Moving tensors to GPU'\n  msg += '\\n\\n            # Performing calculations'\n  msg += '\\n            self.forward(x)                      # Forward pass'\n  msg += '\\n            loss = self.criterion(self.state, y) # Calculating loss'\n  msg += '\\n            self.train_loss += loss.item()       # Adding to epoch loss'\n  msg += '\\n            loss.backward()                      # Backward pass'\n  msg += '\\n            self.optimizer.step()                # Optimizing weights'\n  msg += '\\n            self.optimizer.zero_grad()           # Clearing gradients'\n  msg += '\\n\\n        # Adding loss to history'\n  msg += '\\n        self.train_loss_hist.append(self.train_loss / len(train_loader))'\n\n  // Returning\n  return msg\n}\n\n\nfunction ValidationStep() {\n  var msg = \"    def validation_step(self, validation_loader):\"\n  msg += '\\n\\n        # Preparations for validation step'\n  msg += '\\n        self.validation_loss = 0 # Resetting validation loss'\n  msg += '\\n\\n        # Swithing off autograd'\n  msg += '\\n        with torch.no_grad():'\n  msg += '\\n\\n            # Looping through data'\n  msg += '\\n            for x, y in validation_loader:'\n  msg += '\\n\\n                # Use CUDA?'\n  msg += '\\n                if self.use_cuda:'\n  msg += '\\n                    x, y = x.cuda(), y.cuda()        # Moving tensors to GPU'\n  msg += '\\n\\n                # Performing calculations'\n  msg += '\\n                self.forward(x)                      # Forward pass'\n  msg += '\\n                loss = self.criterion(self.state, y) # Calculating loss'\n  msg += '\\n                self.valid_loss += loss.item()       # Adding to epoch loss'\n  msg += '\\n\\n        # Adding loss to history'\n  msg += '\\n        self.valid_loss_hist.append(self.valid_loss / len(validation_loader))'\n\n  // Returning\n  return msg\n}\n\n\nfunction Fit() {\n  var msg = '    def fit(self, train_loader, validation_loader=None, epochs=10, show_progress=True):'\n  msg += '\\n\\n        # Possibly prepping progress message'\n  msg += '\\n        if show_progress:'\n  msg += '\\n            epoch_l = max(len(str(epochs)), 2)'\n  msg += \"\\n            print('Training model...')\"\n  msg += \"\\n            print('%sEpoch   Training loss   Validation loss   Duration' % ''.rjust(2 * epoch_l - 4, ' '))\"\n  msg += '\\n            t = time.time()'\n  msg += '\\n\\n        # Looping through epochs'\n  msg += '\\n        for epoch in range(epochs):'\n  msg += '\\n            self.fit_step(train_loader)                 # Optimizing weights'\n  msg += '\\n            if validation_loader != None:               # Perform validation?'\n  msg += '\\n                self.validation_step(validation_loader) # Calculating validation loss'\n  msg += '\\n\\n            # Possibly printing progress'\n  msg += '\\n            if show_progress:'\n  msg += \"\\n                print('%s/%s' % (str(epoch + 1).rjust(epoch_l, ' '), str(epochs).ljust(epoch_l, ' ')),\"\n  msg += \"\\n                    '| %s' % str(round(self.train_loss_hist[-1], 8)).ljust(13, ' '),\"\n  msg += \"\\n                    '| %s' % str(round(self.valid_loss_hist[-1], 8)).ljust(15, ' '),\"\n  msg += \"\\n                    '| %ss' % str(round(time.time() - t, 3)).rjust(7, ' '))\"\n  msg += '\\n                t = time.time()'\n\n  // Returning\n  return msg\n}\n\n\nfunction PlotHist() {\n  var msg = '    def plot_hist(self):'\n  msg += \"\\n\\n        # Adding plots\"\n  msg += \"\\n        plt.plot(self.train_loss_hist, color='blue', label='Training loss')\"\n  msg += \"\\n        plt.plot(self.valid_loss_hist, color='springgreen', label='Validation loss')\"\n  msg += \"\\n\\n        # Axis labels\"\n  msg += \"\\n        plt.xlabel('Epoch')\"\n  msg += \"\\n        plt.ylabel('Loss')\"\n  msg += \"\\n        plt.legend(loc='upper right')\"\n  msg += \"\\n\\n        # Displaying plot\"\n  msg += \"\\n        plt.show()\"\n\n  // Returning\n  return msg\n}\n\n\nfunction SaveLoad(lib, order) {\n  var msg = \"    def save(self, name='model.pth'):\"\n  msg += \"\\n        if not '.pth' in name: name += '.pth'\"\n  msg += \"\\n        torch.save({\"\n  order.map(key => {\n    const point = lib[key]\n    if (!(point.specTitle === 'Input')) {\n      const pointcode = getPointName(lib, key)\n      msg += \"\\n            '\" + pointcode + \"': self.\" + pointcode + ','\n    }\n  })\n  msg += \"\\n            'train_loss':      self.train_loss,\"\n  msg += \"\\n            'valid_loss':      self.valid_loss,\"\n  msg += \"\\n            'train_loss_hist': self.train_loss_hist,\"\n  msg += \"\\n            'valid_loss_hist': self.valid_loss_hist,\"\n  msg += \"\\n            'optim_type':      self.optim_type,\"\n  msg += \"\\n            'alpha':           self.alpha,\"\n  msg += \"\\n            'criterion':       self.criterion,\"\n  msg += \"\\n            'use_cuda':        self.use_cuda\"\n  msg += \"\\n        }, name)\"\n  msg += \"\\n\\n\\n    @staticmethod\"\n  msg += \"\\n    def load(name='model.pth'):\"\n  msg += \"\\n        if not '.pth' in name: name += '.pth'\"\n  msg += \"\\n        checkpoint = torch.load(name)\"\n  msg += \"\\n        model = neural_net(\"\n  msg += \"\\n            optimizer = checkpoint['optim_type'],\"\n  msg += \"\\n            alpha     = checkpoint['alpha'],\"\n  msg += \"\\n            criterion = checkpoint['criterion'],\"\n  msg += \"\\n            use_cuda  = checkpoint['use_cuda']\"\n  msg += \"\\n        )\"\n  order.map(key => {\n    const point = lib[key]\n    if (!(point.specTitle === 'Input')) {\n      const pointcode = getPointName(lib, key)\n      msg += \"\\n        model.\" + pointcode + \" = checkpoint['\" + pointcode + \"']\"\n    }\n  })\n  msg += \"\\n        model.train_loss      = checkpoint['train_loss']\"\n  msg += \"\\n        model.valid_loss      = checkpoint['valid_loss']\"\n  msg += \"\\n        model.train_loss_hist = checkpoint['train_loss_hist']\"\n  msg += \"\\n        model.valid_loss_hist = checkpoint['valid_loss_hist']\"\n  msg += '\\n        model.startup_routines()'\n  msg += \"\\n        return model\"\n\n  // Returning\n  return msg\n}\n\n\nfunction Flatten() {\n  var msg = '# Helper class for flattening'\n  msg += '\\nclass Flatten(nn.Module):'\n  msg += '\\n    def __init__(self):'\n  msg += '\\n        super(Flatten, self).__init__()'\n  msg += '\\n    def forward(self, x):'\n  msg += '\\n        return x.view(x.shape[0], -1)'\n  return msg\n}\n\n\nexport function PyTorchParser(flowpoints, lib) {\n\n  // Add flatten?\n  var addflatten = false;\n  Object.keys(flowpoints).map(key => {\n    if (flowpoints[key].specs.title === 'Flatten') addflatten = true;\n  })\n\n  // Helpers\n  const order = lib.order;\n  const states = lib.states;\n  const inputs = lib.inputs;\n\n  // Initials\n  var msg = Initials()\n  msg += '\\n\\n\\n' + Imports();\n\n  // Add flatten?\n  if (addflatten) msg += '\\n\\n\\n' + Flatten()\n\n  // Model\n  msg += '\\n\\n\\n' + Constructor(flowpoints, order, {});\n  msg += '\\n\\n\\n' + StartupRoutines();\n  msg += '\\n\\n\\n' + Forward(lib.lib, states, order, inputs);\n  msg += '\\n\\n\\n' + FitStep();\n  msg += '\\n\\n\\n' + ValidationStep();\n  msg += '\\n\\n\\n' + Fit();\n  msg += '\\n\\n\\n' + PlotHist();\n  msg += '\\n\\n\\n' + SaveLoad(lib.lib, order);\n\n  // Returning\n  return msg\n\n}\n","import React, { Component } from 'react';\n\nexport function PyTorchModules() {\n  return {\n    input: {\n      title: 'Input',\n      params: {\n        n_dims: { min:1, max:Infinity, current:2 },\n        dimensions: { type:'tuple', min:1, max:Infinity, current:[1,1] }\n      },\n      autoparams: (inp, p) => {\n        return p\n      },\n      outshape: (inp, p) => {\n        return p.dimensions.current\n      }\n    },\n    linear: {\n      title: 'Linear',\n      ref: 'nn.Linear',\n      id: 0,\n      params: {\n        in_features: {type:'int', min:1, max:Infinity, current:1 },\n        out_features: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type:'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        var idx = 0;\n        var out_shape = inp.map((val, index) => {\n          idx = index;\n          return val\n        });\n        out_shape[idx] = p.out_features.current;\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.in_features.current = inp[inp.length - 1]\n        return p\n      }\n    },\n    flatten: {\n      title: 'Flatten',\n      ref: 'Flatten',\n      id: 1,\n      params: {},\n      outshape: (inp, p) => {\n        var features = 1/inp[0]\n        inp.map(val => {features *= val})\n        return [inp[0], Math.round(features)]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    conv1d: {\n      title: 'Conv1d',\n      ref: 'nn.Conv1d',\n      id: 2,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const L_in = inp[2]\n        const L_out = Math.floor(1 + (L_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        return [inp[0], p.out_channels.current.current, L_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    conv2d: {\n      title: 'Conv2d',\n      ref: 'nn.Conv2d',\n      id: 3,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const H_in = inp[2]\n        const W_in = inp[3]\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        return [inp[0], p.out_channels.current, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    conv3d: {\n      title: 'Conv3d',\n      ref: 'nn.Conv3d',\n      id: 4,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const D_in = inp[2]\n        const H_in = inp[3]\n        const W_in = inp[4]\n        const D_out = Math.floor(1 + (D_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[2] - p.dilation.current[2] * (p.kernel_size.current[2] - 1) - 1) / p.stride.current[2])\n        return [inp[0], p.out_channels.current, D_out, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    maxpool1d: {\n      title: 'MaxPool1d',\n      ref: 'nn.MaxPool1d',\n      id: 5,\n      params: {\n        kernel_size: { type:'int', min:1, max:Infinity, current:3 },\n        stride: { type:'int', min:1, max:Infinity, current:1 },\n        padding: { type:'int', min:0, max:Infinity, current:0 },\n        dilation: { type:'int', min:1, max:Infinity, current:1 },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const L_in = inp[2]\n        const L_out = Math.floor(1 + (L_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        return [inp[0], inp[0], L_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    maxpool2d: {\n      title: 'MaxPool2d',\n      ref: 'nn.MaxPool2d',\n      id: 6,\n      params: {\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const H_in = inp[2]\n        const W_in = inp[3]\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        return [inp[0], inp[1], H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    maxpool3d: {\n      title: 'MaxPool3d',\n      ref: 'nn.MaxPool3d',\n      id: 7,\n      params: {\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const D_in = inp[2]\n        const H_in = inp[3]\n        const W_in = inp[4]\n        const D_out = Math.floor(1 + (D_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[2] - p.dilation.current[2] * (p.kernel_size.current[2] - 1) - 1) / p.stride.current[2])\n        return [inp[0], inp[1], D_out, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    batchnorm1d: {\n      title: 'BatchNorm1d',\n      ref: 'nn.BatchNorm1d',\n      id: 8,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    batchnorm2d: {\n      title: 'BatchNorm2d',\n      ref: 'nn.BatchNorm2d',\n      id: 9,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    batchnorm3d: {\n      title: 'BatchNorm3d',\n      ref: 'nn.BatchNorm3d',\n      id: 10,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    groupnorm: {\n      title: 'GroupNorm',\n      ref: 'nn.GroupNorm',\n      id: 11,\n      params: {\n        num_groups: { type:'int', min:1, max:Infinity, current:1 },\n        num_channels: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        affine: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_channels.current = inp[1]\n        return p\n      }\n    },\n    instancenorm1d: {\n      title: 'InstanceNorm1d',\n      ref: 'nn.InstanceNorm1d',\n      id: 12,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    instancenorm2d: {\n      title: 'InstanceNorm2d',\n      ref: 'nn.InstanceNorm2d',\n      id: 13,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    instancenorm3d: {\n      title: 'InstanceNorm3d',\n      ref: 'nn.InstanceNorm3d',\n      id: 14,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    rnn: {\n      title: 'RNN',\n      ref: 'nn.RNN',\n      id: 15,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        nonlinearity: { type: 'select', options:['relu', 'tanh'], current:'tanh' },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    lstm: {\n      title: 'LSTM',\n      ref: 'nn.LSTM',\n      id: 16,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    gru: {\n      title: 'GRU',\n      ref: 'nn.GRU',\n      id: 17,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    rnncell: {\n      title: 'RNNCell',\n      ref: 'nn.RNNCell',\n      id: 18,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        nonlinearity: { type: 'select', options:['relu', 'tanh'], current:'tanh' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    lstmcell: {\n      title: 'LSTMCell',\n      ref: 'nn.LSTMCell',\n      id: 19,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    grucell: {\n      title: 'GRUCell',\n      ref: 'nn.GRUCell',\n      id: 20,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    dropout: {\n      title: 'Dropout',\n      ref: 'nn.Dropout',\n      id: 21,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    dropout2d: {\n      title: 'Dropout2d',\n      ref: 'nn.Dropout2d',\n      id: 22,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    dropout3d: {\n      title: 'Dropout3d',\n      ref: 'nn.Dropout3d',\n      id: 23,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    alphadropout: {\n      title: 'AlphaDropout',\n      ref: 'nn.AlphaDropout',\n      id: 24,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    elu: {\n      title: 'ELU',\n      ref: 'nn.ELU',\n      id: 25,\n      params: {\n        alpha: { type:'double', min:0, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    hardshrink: {\n      title: 'Hardshrink',\n      ref: 'nn.Hardshrink',\n      id: 26,\n      params: {\n        lambd: { type:'double', min:-Infinity, max:Infinity, current:'0.5' },\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    hardtanh: {\n      title: 'Hardtanh',\n      ref: 'nn.Hardtanh',\n      id: 27,\n      params: {\n        min_val: { type:'double', min:-Infinity, max:Infinity, current:-1 },\n        max_val: { type:'double', min:-Infinity, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    leakyrelu: {\n      title: 'LeakyReLU',\n      ref: 'nn.LeakyReLU',\n      id: 28,\n      params: {\n        negative_slope: { type:'double', min:0, max:Infinity, current:1e-2 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    logsigmoid: {\n      title: 'LogSigmoid',\n      ref: 'nn.LogSigmoid',\n      id: 29,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    prelu: {\n      title: 'PReLU',\n      ref: 'nn.PReLU',\n      id: 30,\n      params: {\n        num_parameters: { type:'int', min:0, max:Infinity, current:1 },\n        init: { type:'double', min:0, max:Infinity, current:0.25 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    relu: {\n      title: 'ReLU',\n      ref: 'nn.ReLU',\n      id: 31,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    relu6: {\n      title: 'ReLU6',\n      ref: 'nn.ReLU6',\n      id: 32,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    rrelu: {\n      title: 'RReLU',\n      ref: 'nn.RReLU',\n      id: 33,\n      params: {\n        lower: { type:'double', min:0, max:Infinity, current:1/8 },\n        upper: { type:'double', min:0, max:Infinity, current:1/3 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    selu: {\n      title: 'SELU',\n      ref: 'nn.SELU',\n      id: 34,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    celu: {\n      title: 'CELU',\n      ref: 'nn.CELU',\n      id: 35,\n      params: {\n        alpha: { type:'double', min:0, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    sigmoid: {\n      title: 'Sigmoid',\n      ref: 'nn.Sigmoid',\n      id: 36,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softplus: {\n      title: 'Softplus',\n      ref: 'nn.Softplus',\n      id: 37,\n      params: {\n        beta: { type:'double', min:0, max:Infinity, current:1 },\n        threshold: { type:'double', min:0, max:Infinity, current:20 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softshrink: {\n      title: 'Softshrink',\n      ref: 'nn.Softshrink',\n      id: 38,\n      params: {\n        lambd: { type:'double', min:0, max:Infinity, current:0.5 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softsign: {\n      title: 'Softsign',\n      ref: 'nn.Softsign',\n      id: 39,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    tanh: {\n      title: 'Tanh',\n      ref: 'nn.Tanh',\n      id: 40,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    tanhshrink: {\n      title: 'Tanhshrink',\n      ref: 'nn.Tanhshrink',\n      id: 41,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    threshold: {\n      title: 'Threshold',\n      ref: 'nn.Threshold',\n      id: 42,\n      params: {\n        threshold: { type:'double', min:0, max:Infinity, current:0.1 },\n        value: { type:'double', min:0, max:Infinity, current:0.1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmin: {\n      title: 'Softmin',\n      ref: 'nn.Softmin',\n      id: 43,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmax: {\n      title: 'Softmax',\n      ref: 'nn.Softmax',\n      id: 44,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmax2d: {\n      title: 'Softmax2d',\n      ref: 'nn.Softmax2d',\n      id: 45,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    logsoftmax: {\n      title: 'LogSoftmax',\n      ref: 'nn.LogSoftmax',\n      id: 46,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n  }\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    overflow:'scroll',\n  },\n  tabsRoot: {\n    borderBottom: '1px solid #1890ff',\n  },\n  tabsIndicator: {\n    backgroundColor: '#1890ff',\n  },\n  tabRoot: {\n    textTransform: 'initial',\n    minWidth: 50,\n    fontWeight: theme.typography.fontWeightRegular,\n    marginRight: theme.spacing.unit * 0,\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:hover': {\n      color: '#40a9ff',\n      opacity: 1,\n    },\n    '&$tabSelected': {\n      color: '#1890ff',\n    },\n    '&:focus': {\n      color: '#40a9ff',\n    },\n  },\n  tabSelected: {},\n  typography: {\n    padding: theme.spacing.unit * 0,\n  },\n});\n\nclass TabContainer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.tab !== undefined ? props.tabs.indexOf(props.tab) : 0\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { value } = this.state;\n    const width = Math.ceil(this.props.width/this.props.tabs.length) + 'px'\n\n    return (\n      <div className={classes.root} style={{overflow:'hidden'}}>\n        <Tabs\n          value={value}\n          onChange={(e, value) => {\n            this.setState({ value });\n            if (this.props.onSelectTab) this.props.onSelectTab(this.props.tabs[value]);\n          }}\n          textColor=\"primary\"\n          classes={{ root: classes.tabsRoot, indicator: classes.tabsIndicator }}\n          scrollButtons={false}>\n          {\n            this.props.tabs.map(value => {\n              return (\n                <Tab\n                  disableRipple\n                  classes={{ root: classes.tabRoot, selected: classes.tabSelected }}\n                  label={value}\n                  style={{width: width}}\n                />\n              )\n            })\n          }\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nTabContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TabContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Select from 'react-select';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    height: 50,\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n      0.08,\n    ),\n  },\n  noOptionsMessage: {\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 2,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  },\n});\n\nfunction NoOptionsMessage(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.noOptionsMessage}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />;\n}\n\nfunction Control(props) {\n  return (\n    <TextField\n      fullWidth\n      InputProps={{\n        inputComponent,\n        inputProps: {\n          className: props.selectProps.classes.input,\n          inputRef: props.innerRef,\n          children: props.children,\n          ...props.innerProps,\n        },\n      }}\n      {...props.selectProps.textFieldProps}\n    />\n  );\n}\n\nfunction Option(props) {\n  return (\n    <MenuItem\n      buttonRef={props.innerRef}\n      selected={props.isFocused}\n      component=\"div\"\n      style={{\n        fontWeight: props.isSelected ? 500 : 400,\n      }}\n      {...props.innerProps}\n    >\n      {props.children}\n    </MenuItem>\n  );\n}\n\nfunction Placeholder(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.placeholder}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction SingleValue(props) {\n  return (\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction ValueContainer(props) {\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\n}\n\nfunction MultiValue(props) {\n  return (\n    <Chip\n      tabIndex={-1}\n      label={props.children}\n      className={classNames(props.selectProps.classes.chip, {\n        [props.selectProps.classes.chipFocused]: props.isFocused,\n      })}\n      onDelete={props.removeProps.onClick}\n      deleteIcon={<CancelIcon {...props.removeProps} />}\n    />\n  );\n}\n\nfunction Menu(props) {\n  return (\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n      {props.children}\n    </Paper>\n  );\n}\n\nconst components = {\n  Control,\n  Menu,\n  MultiValue,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nexport class SuggestiveField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: props.current,\n    }\n    this.options = props.options.map(opt => ({ value:opt, label:opt }));\n    this.msg = props.msg;\n  }\n\n  render() {\n    const { classes, theme } = this.props;\n\n    const selectStyles = {\n      input: base => ({\n        ...base,\n        color: theme.palette.text.primary,\n        '& input': {\n          font: 'inherit',\n        },\n      }),\n    };\n\n    return (\n      <div className={classes.root}>\n        <NoSsr>\n          <Select\n            classes={classes}\n            styles={selectStyles}\n            options={this.options}\n            components={components}\n            value={{value:this.state.current, label:this.state.current}}\n            onChange={e => {\n              if (e) {\n                if (this.props.onChange) this.props.onChange(e.value);\n                this.setState({current:e.value});\n              } else {\n                if (this.props.onChange) this.props.onChange('')\n                this.setState({current:''})\n              }\n            }}\n            isClearable\n          />\n        </NoSsr>\n      </div>\n    );\n  }\n}\n\nSuggestiveField.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(SuggestiveField);\n","import React, { Component } from 'react';\n\nimport './Sidebar.css';\nimport { PyTorchParser } from './parsers/Parsers.js';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { github, atelierForestDark } from 'react-syntax-highlighter/dist/styles/hljs';\n\nimport Typography from '@material-ui/core/Typography';\nimport TabContainer from './TabContainer.js'\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Drawer from '@material-ui/core/Drawer';\n\nimport Snackbar from '@material-ui/core/Snackbar';\nimport green from '@material-ui/core/colors/green';\n\nimport Divider from '@material-ui/core/Divider';\nimport Chip from '@material-ui/core/Chip';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport red from '@material-ui/core/colors/red';\n\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Fab from '@material-ui/core/Fab';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\n\nimport SuggestiveField from './SuggestiveField.js';\n\nconst darktheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n  typography: { useNextVariants: true },\n});\n\nconst lighttheme = createMuiTheme({\n  palette: {\n    type: 'light',\n  },\n  typography: { useNextVariants: true },\n});\n\ngithub.hljs.background = '#ffffff';\n\n\nconst SettingsTab = (props) => {\n  var env = props.environment;\n  return (\n    <div style={{ padding:'15px' }}>\n\n      <div>\n        <h3 style={{marginTop:'0px'}}>Environment</h3>\n        <FormControl>\n          <InputLabel htmlFor='libSelect'>Library</InputLabel>\n          <Select\n            value={env.library}\n            inputProps={{ name:'library select', id:'libSelect'}}\n            onChange={(e) => {\n              var environment = props.refresh().environment;\n              environment.library = e.target.value;\n              props.updateEnv(environment)\n            }}>\n            {\n              env.libraries.map(libname => {\n                return (\n                  <MenuItem value={libname}>{libname}</MenuItem>\n                )\n              })\n            }\n          </Select>\n        </FormControl>\n      </div>\n\n      <div style={{paddingTop:'20px'}}>\n        <h3>Customize view</h3>\n        {\n          [\n            {r:'darktheme', t:'Dark theme'},\n            {r:'showName', t:'Show names'},\n            {r:'showShape', t:'Show shapes'}\n          ].map(tmp => {\n            return (\n              <FormControlLabel\n                style={{paddingTop:0}}\n                control={\n                  <Switch\n                    checked={props.settings[tmp.r]}\n                    color='primary'\n                    onChange={e => {\n                      var settings = props.refresh().settings;\n                      settings[tmp.r] = !settings[tmp.r];\n                      props.updateSettings(settings)\n                    }}/>\n                }\n                label={tmp.t}/>\n            )\n          })\n        }\n      </div>\n\n    </div>\n  )\n}\n\n\n\nconst CodeTab = props => {\n\n  // Selecting parser\n  var parser = null\n  if (props.environment.library === 'PyTorch') parser = PyTorchParser;\n\n  // Selecting theme\n  const codetheme = props.darktheme ? atelierForestDark : github;\n\n  return (\n    <div style={{fontSize:12}}>\n      <SyntaxHighlighter language='python' style={codetheme} showLineNumbers>\n        {\n          props.code\n        }\n      </SyntaxHighlighter>\n    </div>\n  )\n\n}\n\n\n\nconst FlowpointTab = props => {\n\n  var point = props.flowpoints[props.selected];\n\n  if (point) {\n\n    // Helpers\n    const params = point.specs.params;\n    var fields = { 'int':[], 'double':[], 'bool':[], 'tuple':[], 'select':[] };\n\n    // Input?\n    if (point.specs.title === 'Input') {\n      fields.int.push(\n        <TextField\n          label='N dimensions'\n          type='number'\n          variant='outlined'\n          margin='dense'\n          style={{width:'155px', paddingRight:'5px'}}\n          value={params.n_dims.current}\n          onChange={e => {\n            var flowpoints = props.refresh().flowpoints;\n            var p = flowpoints[props.selected];\n            var params = p.specs.params;\n            params.n_dims.current = Math.max(Math.min(e.target.value, params.n_dims.max), params.n_dims.min);\n            if (params.n_dims.current < params.dimensions.current.length) {\n              params.dimensions.current = params.dimensions.current.splice(0, params.n_dims.current)\n            } else if (params.n_dims.current > params.dimensions.current.length) {\n              Array.from(Array(params.n_dims.current - params.dimensions.current.length).keys()).map(idx => {\n                params.dimensions.current.push(1)\n              })\n            }\n            props.updatePointSettings(props.selected, p)\n          }}/>\n      )\n    }\n\n    Object.keys(params).map(paramkey => {\n      const param = params[paramkey]\n      switch(param.type) {\n        case 'int':\n          fields.int.push(\n            <TextField\n              label={paramkey}\n              type='number'\n              variant='outlined'\n              margin='dense'\n              style={{width:'155px', paddingRight:'5px'}}\n              value={params[paramkey].current}\n              onChange={e => {\n                var flowpoints = props.refresh().flowpoints;\n                var p = flowpoints[props.selected];\n                var param = p.specs.params[paramkey];\n                param.current = Math.max(Math.min(e.target.value, param.max), param.min);\n                props.updatePointSettings(props.selected, p)\n              }}/>\n          )\n          break;\n        case 'double':\n          fields.double.push(\n            <TextField\n              label={paramkey}\n              type='number'\n              variant='outlined'\n              margin='dense'\n              style={{width:'155px', paddingRight:'5px'}}\n              value={params[paramkey].current}\n              onChange={e => {\n                var flowpoints = props.refresh().flowpoints;\n                var p = flowpoints[props.selected];\n                var param = p.specs.params[paramkey];\n                param.current = Math.max(Math.min(e.target.value, param.max), param.min);\n                props.updatePointSettings(props.selected, p)\n              }}/>\n          )\n          break;\n        case 'bool':\n          fields.bool.push(\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={param.current === 'True'}\n                  color='primary'\n                  onChange={e => {\n                    var flowpoints = props.refresh().flowpoints;\n                    var p = flowpoints[props.selected];\n                    var param = p.specs.params[paramkey];\n                    if (param.current === 'True') {\n                      param.current = 'False';\n                    } else {\n                      param.current = 'True';\n                    }\n                    props.updatePointSettings(props.selected, p)\n                  }}/>\n              }\n              label={paramkey}/>\n          )\n          break;\n        case 'tuple':\n          fields.tuple.push(\n            <div style={{paddingTop:'15px'}}>\n              <div><h5 style={{margin:'0px'}}>{paramkey}</h5></div>\n              {\n                param.current.map((val, index) => {\n                  return (\n                    <TextField\n                      label={paramkey + ' ' + index}\n                      type='number'\n                      variant='outlined'\n                      margin='dense'\n                      style={{width:'155px', paddingRight:'5px'}}\n                      value={val}\n                      onChange={e => {\n                        var flowpoints = props.refresh().flowpoints;\n                        var p = flowpoints[props.selected]\n                        var param = flowpoints[props.selected].specs.params[paramkey];\n                        param.current[index] = Math.max(Math.min(e.target.value, param.max), param.min);\n                        props.updatePointSettings(props.selected, p)\n                      }}/>\n                  )\n                })\n              }\n            </div>\n          )\n          break;\n        case 'select':\n          fields.select.push(\n            <FormControl>\n              <InputLabel htmlFor=\"selectfield\">{paramkey}</InputLabel>\n              <Select\n                value={params[paramkey].options.indexOf(params[paramkey].current)}\n                style={{width:'155px', paddingRight:'5px'}}\n                onChange={(e) => {\n                  var flowpoints = props.refresh().flowpoints;\n                  var p = flowpoints[props.selected];\n                  var param = p.specs.params[paramkey];\n                  param.current = param.options[e.target.value]\n                  props.updatePointSettings(props.selected, p)\n                }}\n                inputProps={{id:'selectfield'}}>\n                {\n                  params[paramkey].options.map((opt_val, opt_idx) => {\n                    return (\n                      <MenuItem value={opt_idx}>{opt_val}</MenuItem>\n                    )\n                  })\n                }\n              </Select>\n            </FormControl>\n          )\n          break;\n      }\n    })\n\n    // List of module types\n    const modules = props.environment.getModules()\n    var title2key = {}\n    Object.keys(modules).map(mod_key => {\n      title2key[modules[mod_key].title] = mod_key;\n    })\n\n    return (\n      <div style={{padding:'15px'}}>\n\n        <div>\n\n          <h2 style={{marginTop:'0px'}}>Flowpoint settings</h2>\n\n          <SuggestiveField\n            current={point.specs.title}\n            options={Object.keys(title2key)}\n            onChange={val => {\n              if (val in title2key) {\n                var flowpoints = props.refresh().flowpoints;\n                var p = flowpoints[props.selected];\n                p.specs = modules[title2key[val]];\n                props.updatePointSettings(props.selected, p)\n              }\n            }}/>\n\n          <TextField\n            label='Name'\n            value={point.name}\n            margin='tight'\n            style={{width:'80%'}}\n            onChange={e => {\n              var flowpoints = props.refresh().flowpoints;\n              var p = flowpoints[props.selected];\n              p.name = e.target.value;\n              props.updatePointSettings(props.selected, p)\n            }}/>\n\n          <IconButton\n            aria-label=\"Delete\"\n            color={red[500]}\n            style={{\n              marginLeft:10,\n              marginTop:5,\n              color:red[300]\n            }}\n            onClick={props.deleteSelected}>\n            <DeleteIcon />\n          </IconButton>\n\n        </div>\n\n        <div style={{paddingTop:'25px'}}>\n          <h3>Parameters</h3>\n          <div>{ fields.int    }</div>\n          <div>{ fields.double }</div>\n          <div>{ fields.select }</div>\n          <div>{ fields.tuple  }</div>\n          <div>{ fields.bool   }</div>\n        </div>\n\n      </div>\n    )\n  } else {\n    return (\n      <div style={{display:'table', width:'100%', height:'50px'}}>\n        <div style={{display:'table-cell', verticalAlign:'middle', textAlign:'center'}}>\n          Click on a flowpoint to display it's settings\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport const Sidebar = (props) => {\n  return (\n    <MuiThemeProvider theme={props.darktheme ? darktheme : lighttheme}>\n      <Drawer\n        variant='persistent'\n        anchor='left'\n        open={props.open}>\n\n        <div\n          class='fullSidebar'\n          style={{\n            maxWidth:props.settings.drawerWidth,\n            color: (props.darktheme ? 'white' : 'black')\n          }}>\n\n          <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{padding:'15px'}}>\n            Flowpoints ML\n          </Typography>\n\n          <div>\n            <TabContainer\n              tabs={['Settings', 'Code', 'Flowpoint']}\n              tab={props.settings.tab}\n              width={350}\n              onSelectTab={(value) => {\n                var settings = props.refresh().settings;\n                settings.tab = value;\n                if (value === 'Code') {\n                  settings.drawerWidth = 600\n                } else {\n                  settings.drawerWidth = 350\n                }\n                props.updateSettings(settings);\n              }}/>\n          </div>\n\n          <div class='scrollBox' style={{backgroundColor:(props.darktheme ? atelierForestDark.hljs.background : null)}}>\n\n            <div>\n              {\n                props.settings.tab === 'Settings' ? <SettingsTab\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  updateEnv={props.updateEnv}\n                  settings={props.settings}\n                  updateSettings={props.updateSettings}/> : null\n              }\n              {\n                props.settings.tab === 'Code' ? <CodeTab\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  code={props.code}\n                  darktheme={props.darktheme}/> : null\n              }\n              {\n                props.settings.tab === 'Flowpoint' ? <FlowpointTab\n                  selected={props.selected}\n                  settings={props.settings}\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  deleteSelected={props.deleteSelected}\n                  updatePointSettings={props.updatePointSettings}/> : null\n              }\n            </div>\n\n          </div>\n\n        </div>\n\n      </Drawer>\n\n    </MuiThemeProvider>\n  )\n}\n","import React, { Component } from 'react';\nimport { PyTorchModules } from './libraries/pytorch.js';\n\n/*\nconst lvls = {\n  0: '%24',\n  1: '#',\n  2: '%2C',\n  3: '%'\n}*/\n/*\nconst lvls = {\n  0: 'MAIS',\n  1: 'FISK',\n  2: 'OST',\n  3: 'KORN'\n}*/\nconst lvls = {\n  0: 'IIA',\n  1: 'IIB',\n  2: 'IIC',\n  3: 'IID'\n}\n\nfunction num2string(num) {\n  return num.toString(36)\n}\n\nfunction string2num(str) {\n  return parseInt(str, 36)\n}\n\nfunction encodeParams(params) {\n  var msg = ''\n  Object.keys(params).sort().map(pkey => {\n    const param = params[pkey]\n    if (param.type === 'bool') {\n      msg += (param.current === 'True' ? 't' : 'f')\n    } else if (param.type === 'tuple') {\n      param.current.map(pval => {\n        msg += num2string(pval) + lvls[3]\n      })\n      msg = msg.substring(0, msg.length - lvls[3].length)\n    } else if (param.type === 'select') {\n      msg += param.options.indexOf(param.current)\n    } else if (param.type === 'int') {\n      msg += num2string(param.current)\n    } else {\n      msg += param.current\n    }\n    msg += lvls[2]\n  })\n  return msg.substring(0, msg.length - lvls[2].length)\n}\n//https://mariusbrataas.github.io/flowpoints_ml/?p=loadPDF_3_41e2f4_4164f4_0##5#5#0#1aa%2C2aa%2#t%2C1%2C1%2_1##p#5#0##t%2C1%2C1%2_2##p#c#0##t%2C1%2C1%2\n//https://mariusbrataas.github.io/flowpoints_ml/?p=loadPDF_3_41e2f4_4164f4_0##5#5#0#1aa%2C2aa%2#t%2C1%2C1%2_1##p#5#0##t%2C1%2C1%2_2##p#c#0##t%2C1%2C1%2\n\nfunction decodeParams(msg, specs) {\n  var params = specs.params;\n  const queries = msg.split(lvls[2])\n  Object.keys(params).sort().map((pkey, idx) => {\n    var param = params[pkey]\n    const q = queries[idx]\n    if (param.type === 'bool') {\n      param.current = (q === 't' ? 'True' : 'False')\n    } else if (param.type === 'tuple') {\n      q.split(lvls[3]).map((pval, pidx) => {\n        param.current[pidx] = string2num(pval)\n      })\n    } else if (param.type === 'select') {\n      param.current = param.options[q]\n    } else if (param.type === 'int') {\n      param.current = string2num(q)\n    } else {\n      param.current = q\n    }\n  })\n  specs.params = params\n  return specs\n}\n\nfunction encodeOutputs(outputs) {\n  var msg = ''\n  Object.keys(outputs).map(out_key => {\n    msg += num2string(out_key) + outputs[out_key].output[0] + outputs[out_key].input[0] + lvls[2]\n  })\n  if (Object.keys(outputs).length > 0) {\n    msg = msg.substring(0, msg.length - lvls[2].length)\n  }\n  return msg\n}\n\nfunction decodeOutputs(msg) {\n  const pos2title = {\n    a: 'auto',\n    t: 'top',\n    l: 'left',\n    r: 'right',\n    b: 'bottom'\n  }\n  var queries = msg.split(lvls[2])\n  var outputs = {}\n  queries.map(query => {\n    if (query !== '') {\n      outputs[string2num(query.substring(0, query.length - 2))] = {\n        output: pos2title[query[query.length - 2]],\n        input: pos2title[query[query.length - 1]]\n      }\n    }\n  })\n  return outputs\n}\n\nfunction encodePoint(p, key) {\n  /*\n  0: key\n  1: name\n  2: x\n  3: y\n  4: id\n  5: outputs\n  6: params\n  */\n  var msg = '' + key\n  msg += lvls[1] + p.name\n  msg += lvls[1] + num2string(Math.round(p.pos.x/10))\n  msg += lvls[1] + num2string(Math.round(p.pos.y/10))\n  msg += lvls[1] + (p.specs.title === 'Input' ? '' : num2string(p.specs.id))\n  msg += lvls[1] + encodeOutputs(p.outputs)\n  msg += lvls[1] + encodeParams(p.specs.params)\n  return msg\n}\n\nfunction decodePoint(msg, id2key, getModules) {\n  const queries = msg.split(lvls[1])\n\n  // Decoding some basics\n  var p = {\n    name: queries[1],\n    output_shape: [],\n    pos: {\n      x: string2num(queries[2]) * 10,\n      y: string2num(queries[3]) * 10,\n    },\n    specs: decodeParams(queries[6], getModules()[queries[4] === '' ? 'input' : id2key[string2num(queries[4])]]),\n    outputs: decodeOutputs(queries[5]),\n    isHover: false\n  }\n  return { key:queries[0], p:p }\n}\n\nexport function parseToQuery(flowpoints, inputColor, outputColor, count, darktheme, showNames, library, showSidebar) {\n  // LibraryTheme_Count_Incolor_Outcolor_point_point_\n  var msg = '' + library[0]\n  msg += (darktheme ? 'D' : 'L')\n  msg += (showNames ? 'T' : 'F')\n  msg += (showSidebar ? 'T' : 'F')\n  msg += lvls[0] + num2string(count)\n  msg += lvls[0] + inputColor.substring(1, inputColor.length) + lvls[0] + outputColor.substring(1, outputColor.length)\n  Object.keys(flowpoints).map(key => {\n    msg += lvls[0] + encodePoint(flowpoints[key], key)\n  })\n  return msg\n}\n\n\nexport function parseFromQuery(query) {\n  query = query.replace(/%20/g, ' ')\n  const queries = query.split(lvls[0])\n\n  // Helpers\n  const key2lib = {\n    P: {t:'PyTorch', modules:PyTorchModules}\n  }\n\n  // Creating lib\n  var lib = {\n    library: key2lib[query[0]].t,\n    getModules: key2lib[query[0]].modules,\n    darktheme: (query[1] === 'D' ? true : false),\n    showName: (query[2] === 'T' ? true : false),\n    showSidebar: (query[3] === 'T' ? true : false),\n    count: string2num(queries[1]),\n    inputColor: '#' + queries[2],\n    outputColor: '#' + queries[3]\n  }\n\n  // Id to module key\n  var id2key = {}\n  var modules = lib.getModules()\n  Object.keys(modules).map(mod_key => {\n    id2key[modules[mod_key].id] = mod_key\n  })\n\n  // Parsing all points\n  var flowpoints = {}\n  queries.splice(4, queries.length).map(point_query => {\n    const newpoint = decodePoint(point_query, id2key, lib.getModules);\n    flowpoints[newpoint.key] = newpoint.p\n  })\n  lib['flowpoints'] = flowpoints;\n\n  // Fixing inputs n_dims\n  Object.keys(flowpoints).map(key => {\n    if (flowpoints[key].specs.title === 'Input') {\n      flowpoints[key].specs.params.n_dims.current = flowpoints[key].specs.params.dimensions.current.length;\n    }\n  })\n\n  // Returning\n  return lib\n\n}\n","import React, { Component } from 'react';\nimport './App.css';\n\nimport { Flowpoint, Flowspace } from 'flowpoints';\nimport { FlowOrder } from './sidebar/FlowOrder.js';\nimport { PyTorchParser } from './sidebar/parsers/Parsers.js';\nimport { PyTorchModules } from './libraries/pytorch.js';\nimport { Sidebar } from './sidebar/Sidebar.js';\nimport { parseToQuery, parseFromQuery } from './URLparser.js';\n\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\n\nimport green from '@material-ui/core/colors/green';\nimport red from '@material-ui/core/colors/red';\nimport grey from '@material-ui/core/colors/grey';\nimport blue from '@material-ui/core/colors/blue';\nimport indigo from '@material-ui/core/colors/indigo';\nimport deepPurple from '@material-ui/core/colors/deepPurple';\n\nimport copy from 'copy-to-clipboard';\n\nfunction shapeBox(shape) {\n  var msg = '['\n  shape.map(val => {\n    msg += val + ','\n  })\n  if (shape.length > 0) msg = msg.substring(0, msg.length - 1)\n  msg += ']'\n  return (\n    <div style={{textAlign:'center', paddingBottom:'10px'}}>\n      {\n        msg\n      }\n    </div>\n  )\n}\n//mariusbrataas.github.io/flowpoints_ml/?p=load?PDT_9_41e2f4_4164f4_0&This%20is&9&9&&3aa,4aa,5aa,6aa,8aa&1%1,2_1&how%20I&9&g&&3aa,4aa,5aa,6aa,8aa&1%1,2_3&imagine&12&l&0&6aa,8aa&t,1,1_4&learning&12&z&0&1aa,6aa,8aa&t,1,1_5&deep&12&s&0&6aa,8aa&t,1,1_6&models%20in&1v&13&0&&t,1,1_8&my%20mind&1v&1a&0&&t,1,1\n//mariusbrataas.github.io/flowpoints_ml/?p=load?PDT_9_41e2f4_4164f4_0&This%20is&&3aa%2C4aa%2C5aa%2C6aa%2C8aa&1%251%2C2_1&how%20I&g&1%251%2C2_3&imagine&l&6aa%2C8aa&t%2C1%2C1_4&learning&z&1aa%2C6aa%2C8aa&t%2C1%2C1_5&deep&s&t%2C1%2C1_6&models%20in&1v&t%2C1%2C1_8&my%20mind&1a&t%2C1%2C1\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lastPos: {x:-150, y:50},\n      code: '',\n      selected: null,\n      count: 0,\n      flowpoints: {},\n      current_url: '',\n      url: '',\n      settings:{\n        tab: 'Settings',\n        drawerWidth: 350,\n        darktheme: true,\n        showShape: false,\n        showName: false,\n        showSidebar: false,\n        inputColor: '#41e2f4',\n        outputColor: '#4164f4',\n        snackshow: false,\n        snackmsg: 'Hello world',\n        snackcolor: green['A700'],\n      },\n      environment: {\n        library: 'PyTorch',\n        libraries: [ 'PyTorch' ],\n        getModules: PyTorchModules\n      }\n    }\n\n    // Helpers\n    this.baseUrl = window.location.href.split('/?')[0]\n    if (this.baseUrl[this.baseUrl.length - 1] !== '/') this.baseUrl += '/'\n    this.lib = {}\n\n    // Binding class methods\n    this.addFlowpoint = this.addFlowpoint.bind(this);\n    this.handleClickPoint = this.handleClickPoint.bind(this);\n    this.deleteSelected = this.deleteSelected.bind(this);\n    this.prepCode = this.prepCode.bind(this);\n    this.prepOutputShapes = this.prepOutputShapes.bind(this);\n    this.updatePointSettings = this.updatePointSettings.bind(this);\n    this.updateWindow = this.updateWindow.bind(this);\n\n  }\n\n\n  componentDidUpdate() {\n    this.updateWindow();\n  }\n\n\n  componentDidMount() {\n    var query = window.location.href.split(this.baseUrl)[1]\n\n    if (query.includes('p=load')) {\n\n      try {\n\n        query = query.split('p=load')[1]\n        console.log(query)\n        var newlib = parseFromQuery(query)\n\n        // Updating settings and env\n        var settings = this.state.settings;\n        var environment = this.state.environment;\n        settings.darktheme = newlib.darktheme;\n        settings.showName = newlib.showName;\n        settings.inputColor = newlib.inputColor;\n        settings.outputColor = newlib.outputColor;\n        settings.showSidebar = newlib.showSidebar;\n        environment.library = newlib.library;\n\n        // Snack message\n        settings.snackshow = true;\n        settings.snackmsg = 'Loaded model from URL';\n        settings.snackcolor = green['A700'];\n\n        // Updating self\n        this.setState({\n\n          count:newlib.count,\n          flowpoints:newlib.flowpoints,\n          settings:settings,\n          environment:environment\n        }, () => {\n          this.prepOutputShapes();\n          this.prepCode();\n        })\n\n      } catch(err) {\n        var settings = this.state.settings;\n        settings.snackshow = true;\n        settings.snackmsg = 'Failed to load from URL';\n        settings.snackcolor = red['A400'];\n        this.setState({ settings });\n      }\n\n    } else {\n      this.prepOutputShapes();\n      this.prepCode();\n    }\n  }\n\n\n  updateWindow() {\n    var new_url = parseToQuery(\n      this.state.flowpoints,\n      this.state.settings.inputColor,\n      this.state.settings.outputColor,\n      this.state.count,\n      this.state.settings.darktheme,\n      this.state.settings.showName,\n      this.state.environment.library,\n      this.state.settings.showSidebar\n    )\n    new_url = this.baseUrl + '?_p=' + 'load' + new_url;\n    if (new_url !== this.current_url) {\n      this.current_url = new_url;\n      window.history.replaceState({}, null, this.current_url)\n    }\n  }\n\n\n  prepCode() {\n\n    // Selecting parser\n    var parser = null;\n    if (this.state.environment.library === 'PyTorch') parser = PyTorchParser;\n\n    // Parsing code and updating state\n    this.setState({ code:parser(this.state.flowpoints, this.lib) + '\\n\\n\\n' })\n\n  }\n\n\n  prepOutputShapes() {\n\n    // Helper\n    var flowpoints = this.state.flowpoints;\n\n    // Getting floworder and updating lib\n    this.lib = FlowOrder(flowpoints)\n\n    // Setting output-shapes of inputs\n    var visited = []\n    this.lib.order.map(key => {\n      if (this.lib.lib[key].specTitle === 'Input') {\n        flowpoints[key].output_shape = flowpoints[key].specs.outshape(null, flowpoints[key].specs.params)\n        visited.push(key)\n      }\n    })\n\n    // Setting all output-shapes\n    this.lib.order.map(key => {\n      if (!visited.includes(key)) {\n        var bestInp = null\n        Object.keys(this.lib.lib[key].inputs).map(inp_key => {\n          if (visited.includes(inp_key)) bestInp = inp_key\n        })\n        flowpoints[key].specs.params = flowpoints[key].specs.autoparams(flowpoints[bestInp].output_shape, flowpoints[key].specs.params)\n        flowpoints[key].output_shape = flowpoints[key].specs.outshape(flowpoints[bestInp].output_shape, flowpoints[key].specs.params)\n        visited.push(key)\n      }\n    })\n\n    // Updating state\n    this.setState({ flowpoints })\n\n  }\n\n\n  updatePointSettings(key, settings) {\n    var flowpoints = this.state.flowpoints;\n    flowpoints[key] = settings;\n    this.setState({ flowpoints });\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  deleteSelected() {\n    var flowpoints = this.state.flowpoints;\n    delete flowpoints[this.state.selected]\n    Object.keys(flowpoints).map(test_key => {\n      if (this.state.selected in flowpoints[test_key].outputs) {\n        delete flowpoints[test_key].outputs[this.state.selected];\n      }\n    })\n    this.setState({flowpoints, selected:null});\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  addFlowpoint() {\n    var flowpoints = this.state.flowpoints;\n    flowpoints['' + this.state.count] = {\n      name: '',\n      output_shape: [],\n      pos: {x:this.state.lastPos.x + 200, y:this.state.lastPos.y*1},\n      outputs: {},\n      isHover: false,\n      specs: this.state.environment.getModules().linear\n    }\n    this.setState({ flowpoints, count:this.state.count + 1, lastPos:{x:this.state.lastPos.x + 200, y:this.state.lastPos.y} })\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  handleClickPoint(key) {\n    var selected = this.state.selected\n    var flowpoints = this.state.flowpoints\n    if (selected === null) {\n      selected = key\n    } else {\n      if (selected !== key) {\n        var p1 = flowpoints[selected]\n        if (key in p1.outputs) {\n          delete p1.outputs[key]\n        } else {\n          p1.outputs[key] = {\n            output:'auto',\n            input:'auto',\n          }\n        }\n      }\n      selected = null\n    }\n    this.setState({ selected, flowpoints })\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  render() {\n    return (\n      <div style={{backgroundColor:(this.state.settings.darktheme ? 'black' : 'white')}}>\n\n        <Sidebar\n          selected={this.state.selected}\n          open={this.state.settings.showSidebar}\n          flowpoints={this.state.flowpoints}\n          settings={this.state.settings}\n          environment={this.state.environment}\n          refresh={() => {return this.state}}\n          updateSettings={(settings) => {this.setState({settings})}}\n          updateEnv={(environment) => {this.setState({environment})}}\n          deleteSelected={this.deleteSelected}\n          darktheme={this.state.settings.darktheme}\n          code={this.state.code}\n          updatePointSettings={this.updatePointSettings}/>\n\n        <Flowspace\n          selected={this.state.selected}\n          onClick={e => {this.setState({ selected:null })}}\n          inputColor='#41e2f4'\n          outputColor='#4164f4'\n          style={{\n            height: '100vh',\n            marginLeft:this.state.settings.drawerWidth * this.state.settings.showSidebar + 'px',\n            backgroundColor:(this.state.settings.darktheme ? 'black' : 'white'),\n            transition:['margin-left 0.4s ease-out','background-color 0.2s ease-out']\n          }}>\n          {\n            Object.keys(this.state.flowpoints).map(key => {\n              const point = this.state.flowpoints[key];\n              return (\n                <Flowpoint\n                  key={key}\n                  snap={{ x:10, y:10 }}\n                  startPosition={point.pos}\n                  outputs={point.outputs}\n                  onClick={() => {this.handleClickPoint(key)}}\n                  noShadow\n                  onDrag={pos => {\n                    var flowpoints = this.state.flowpoints;\n                    flowpoints[key].pos = pos;\n                    this.setState({ flowpoints, lastPos:pos })\n                  }}\n                  style={{\n                    height:'auto',\n                    maxHeight: this.state.settings.showShape ? 150 : 50,\n                    backgroundColor: this.state.settings.darktheme ? 'black' : 'white',\n                    borderStyle: 'solid',\n                    borderColor: this.state.selected === key ? '#ff9721' : '#4164f4',\n                    borderWidth: '1px',\n                    borderRadius: '5px',\n                    transition: 'border-color 0.4s ease-out'\n                  }}>\n                  <div style={{color:(this.state.settings.darktheme ? 'white' : 'black'), height:'auto'}}>\n                    <div style={{display:'table', width:'100%', height:'50px'}}>\n                      <div style={{display:'table-cell', verticalAlign:'middle', textAlign:'center'}}>\n                        {\n                          this.state.settings.showName ? point.name : point.specs.title\n                        }\n                      </div>\n                    </div>\n                    {\n                      this.state.settings.showShape ? shapeBox(point.output_shape) : null\n                    }\n                  </div>\n                </Flowpoint>\n              )\n            })\n          }\n        </Flowspace>\n\n        <div style={{\n            bottom:'5px',\n            left:this.state.settings.drawerWidth * this.state.settings.showSidebar + 5 + 'px',\n            position:'fixed',\n            transition: 'left 0.4s ease-out'\n          }}>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:blue['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Add\"\n              onClick={() => {this.addFlowpoint()}}>\n              <AddIcon />\n            </Fab>\n          </div>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:indigo['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Copy code\"\n              onClick={() => {\n                copy(this.state.code)\n                var settings = this.state.settings;\n                settings.snackshow = true;\n                settings.snackmsg = 'Copied code to clipboard';\n                settings.snackcolor = blue['A400'];\n                this.setState({settings})\n              }}>\n              <FileCopyIcon />\n            </Fab>\n          </div>\n          <div>\n            <Fab\n              style={{background:deepPurple['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Hide/Show\"\n              onClick={() => {\n                var settings = this.state.settings;\n                settings.showSidebar = !settings.showSidebar;\n                this.setState({settings})\n              }}>\n              <MenuIcon />\n            </Fab>\n          </div>\n        </div>\n\n        <Snackbar\n          autoHideDuration={3000}\n          onClose={() => {\n            var settings = this.state.settings;\n            settings.snackshow = false\n            this.setState({ settings })\n          }}\n          anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}\n          open={this.state.settings.snackshow}>\n          <SnackbarContent\n            message={this.state.settings.snackmsg}\n            style={{backgroundColor:this.state.settings.snackcolor, color:'black'}}/>\n        </Snackbar>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}