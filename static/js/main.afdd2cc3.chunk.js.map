{"version":3,"sources":["sidebar/FlowOrder.js","sidebar/parsers/pytorch/PyTorchParser.js","libraries/pytorch.js","sidebar/TabContainer.js","sidebar/SuggestiveField.js","sidebar/Sidebar.js","URLparser.js","DBhandler.js","sidebar/Testfield.js","App.js","serviceWorker.js","index.js"],"names":["getPointName","lib","key","p","name","replace","recursive_getOrder","myKey","order","depth","maxDepth","me","visited","ready","Object","keys","inputs","map","isReady","includes","push","outputs","out_key","getStateNames","states","idx","specTitle","lastUser","target_key","maxIndex","test_key","index","Math","max","getLastUser","length","FlowOrder","flowpoints","n_inputs","specs","title","ref","params","downstreamVisited","statename","needState","console","log","prepPoints","inp_key","PyTorchParser","link","addflatten","msg","Initials","max_l","param_key","i","type","current","val","min","substring","Constructor","steplib","stepmsg","maxL","step","Array","from","Forward","pointcode","SaveLoad","PyTorchModules","input","n_dims","Infinity","dimensions","autoparams","inp","outshape","linear","id","in_features","out_features","bias","out_shape","flatten","features","round","conv1d","in_channels","out_channels","kernel_size","stride","padding","dilation","groups","L_in","L_out","floor","conv2d","H_in","W_in","H_out","W_out","conv3d","D_in","D_out","maxpool1d","return_indices","ceil_mode","maxpool2d","maxpool3d","batchnorm1d","num_features","eps","momentum","affine","track_running_stats","batchnorm2d","batchnorm3d","groupnorm","num_groups","num_channels","instancenorm1d","instancenorm2d","instancenorm3d","rnn","input_size","hidden_size","num_layers","nonlinearity","options","batch_first","dropout","bidirectional","lstm","gru","rnncell","lstmcell","grucell","inplace","dropout2d","dropout3d","alphadropout","elu","alpha","hardshrink","lambd","hardtanh","min_val","max_val","leakyrelu","negative_slope","logsigmoid","prelu","num_parameters","init","relu","relu6","rrelu","lower","upper","selu","celu","sigmoid","softplus","beta","threshold","softshrink","softsign","tanh","tanhshrink","value","softmin","dim","softmax","softmax2d","logsoftmax","TabContainer","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","undefined","tab","tabs","indexOf","_this2","classes","width","ceil","react_default","a","createElement","className","root","style","overflow","Tabs_default","onChange","e","setState","onSelectTab","textColor","tabsRoot","indicator","tabsIndicator","scrollButtons","Tab_default","disableRipple","tabRoot","selected","tabSelected","label","React","Component","withStyles","theme","flexGrow","borderBottom","backgroundColor","textTransform","minWidth","fontWeight","typography","fontWeightRegular","marginRight","spacing","unit","fontFamily","join","&:hover","color","opacity","&$tabSelected","&:focus","inputComponent","_ref","inputRef","objectWithoutProperties","assign","components","Control","TextField_default","fullWidth","InputProps","inputProps","objectSpread","selectProps","innerRef","children","innerProps","textFieldProps","Menu","Paper_default","square","paper","MultiValue","Chip_default","tabIndex","classNames","chip","defineProperty","chipFocused","isFocused","onDelete","removeProps","onClick","deleteIcon","Cancel_default","NoOptionsMessage","Typography_default","noOptionsMessage","Option","MenuItem_default","buttonRef","component","isSelected","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","SuggestiveField","_React$Component","opt","inherits","createClass","_this$props","selectStyles","base","palette","text","primary","& input","font","FormControl_default","react_select_esm","styles","isClearable","darktheme","height","display","flexWrap","flex","alignItems","margin","concat","emphasize","grey","fontSize","position","left","zIndex","marginTop","right","divider","withTheme","createMuiTheme","useNextVariants","lighttheme","github","hljs","background","themes","SettingsTab","env","environment","InputLabel_default","htmlFor","Select_default","library","refresh","target","updateEnv","libraries","libname","paddingTop","paddingBottom","paddingRight","settings","updateSettings","themename","variant","varname","r","t","tmp","FormControlLabel_default","control","Switch_default","checked","CodeTab","codetheme","atelierForestDark","default_highlight","language","showLineNumbers","code","FlowpointTab","point","fields","int","double","bool","tuple","select","splice","updatePointSettings","paramkey","param","opt_val","opt_idx","modules","getModules","title2key","mod_key","IconButton_default","aria-label","red","marginLeft","deleteSelected","Delete_default","verticalAlign","textAlign","Sidebar","core_styles","Drawer_default","anchor","open","class","maxWidth","drawerWidth","gutterBottom","sidebar_TabContainer","Sidebar_SettingsTab","Sidebar_CodeTab","Sidebar_FlowpointTab","lvls","0","1","2","3","num2string","num","toString","string2num","str","parseInt","decodeParams","queries","split","sort","pkey","q","pval","pidx","decodeOutputs","pos2title","l","b","query","output","encodePoint","pos","x","y","encodeOutputs","encodeParams","parseFromQuery","key2lib","P","showName","showSidebar","count","id2key","point_query","newpoint","output_shape","isHover","decodePoint","postToDB","content","cb","mod_id","d","Date","n","getSeconds","getMonth","getYear","getHours","getMinutes","random","getId","url","axios","get","then","res","suggestions","suggestion","Testfield","single","multi","handleChange","NoSsr_default","InputLabelProps","shrink","isMulti","ReplaceAll","search","replacement","newstr","App","lastPos","current_url","showShape","avoidCollisions","snackshow","snackmsg","snackcolor","green","modelUrl","baseUrl","window","location","href","addFlowpoint","bind","assertThisInitialized","handleClickPoint","prepCode","prepOutputShapes","blue","data","newlib","feed","entry","err","parser","_this3","bestInp","_this4","shiftKey","p1","handleClickLine","_this5","Sidebar_Sidebar","dist","transition","snap","startPosition","onDrag","maxHeight","shape","shapeBox","bottom","Fab_default","lightBlue","boxShadow","Add_default","copy","FileCopy_default","indigo","new_url","showNames","outlined","filled","parseToQuery","Link_default","deepPurple","Menu_default","Snackbar_default","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","SnackbarContent_default","message","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.afdd2cc3.chunk.js","sourcesContent":["import React from 'react';\n\n\nexport function getPointName(lib, key) {\n  const p = lib[key]\n  return (p.name === '' ? ('p_' + key) : p.name).replace(/ /g, '_')\n}\n\n\nfunction prepPoints(flowpoints) {\n\n  // Helpers\n  var n_inputs = 0\n  var lib = {}\n\n  // Adding all keys to lib\n  Object.keys(flowpoints).map(key => {\n    const p = flowpoints[key];\n    lib[key] = {\n      specTitle: p.specs.title,\n      inputs: {},\n      outputs: {},\n      name: p.name,\n      ref: p.specs.ref,\n      params: p.specs.params,\n      index: null,\n      visited: false,\n      downstreamVisited: false,\n      ready: false,\n      statename: null,\n      needState: false,\n    }\n    if (p.specs.title === 'Input') {\n      lib[key].index = n_inputs;\n      lib[key].ready = true;\n      lib[key].statename = (p.name === '' ? ('input_' + n_inputs) : p.name);\n      n_inputs = n_inputs + 1\n    }\n  })\n\n  // Adding connection pointers\n  Object.keys(flowpoints).map(key => {\n    var p = lib[key];\n    Object.keys(flowpoints[key].outputs).map(out_key => {\n      p.outputs[out_key] = lib[out_key]\n      if (!(out_key in lib)) {\n        console.log(out_key, lib)\n      } else {\n        lib[out_key].inputs[key] = lib[key]\n      }\n    })\n  })\n\n  // Returning\n  return lib\n\n}\n\n\n\nfunction recursive_isDownStream(lib, targetKey, myKey, depth, maxDepth) {\n\n  // Returning if matching\n  if (targetKey === myKey) return true\n\n  // Marking self as visited on this run\n  lib[myKey].downstreamVisited = true;\n\n  // Helper\n  var isDone = false;\n\n  // Testing outputs\n  if (depth < maxDepth) {\n    lib[myKey].outputs.map(out_key => {\n      if (!isDone && !lib[out_key].downstreamVisited) {\n        isDone = recursive_isDownStream(lib, targetKey, out_key, depth + 1, maxDepth);\n      }\n    })\n  }\n\n  // Returning\n  return isDone\n\n}\n\n\nfunction isDownStream(lib, targetKey, myKey) {\n\n  // Prepping lib\n  Object.keys(lib).map(key => {\n    lib[key].downstreamVisited = false;\n  })\n\n  // Testing\n  const isDone = recursive_isDownStream(lib, targetKey, myKey, 0, 100)\n\n  // Returning\n  return isDone\n\n}\n\n\nfunction isReady(lib, myKey) {\n  var ready = true;\n  Object.keys(lib[myKey].inputs).map(key => {\n    if (!lib[key].ready) ready = false\n  })\n  return ready\n}\n\n\nfunction recursive_getOrder(lib, myKey, order, depth, maxDepth) {\n\n  // Helper\n  var me = lib[myKey]\n\n  if (me) {\n    // Visited before? -> Return\n    if (me.visited) return order\n\n    // All inputs ready?\n    me.ready = isReady(lib, myKey)\n\n    // Visiting and continuing recursion downstream\n    if (me.ready) {\n      me.visited = true;\n      if (!order.includes(myKey)) order.push(myKey)\n      Object.keys(me.outputs).map(out_key => {\n        order = recursive_getOrder(lib, out_key, order, depth + 1, maxDepth)\n      })\n    }\n  }\n\n  // Returning\n  return order\n\n}\n\n\nfunction getLastUser(lib, order, target_key) {\n  var maxIndex = -1;\n  order.map((test_key, index) => {\n    if (target_key in lib[test_key].inputs) maxIndex = Math.max(maxIndex, index);\n  })\n  return order[maxIndex]\n}\n\n\nfunction getStateNames(lib, order) {\n  var states = {};\n  order.map((key, idx) => {\n    const p = lib[key];\n    if (!(key in states)) {\n      states[key] = getPointName(lib, key) + (p.specTitle === 'Input' ? '' : '_state');\n    }\n    const lastUser = getLastUser(lib, order, key);\n    if (lastUser) {\n      states[lastUser] = states[key]\n    }\n  })\n  states[order[order.length - 1]] = 'self.state'\n  return states\n}\n\n\nexport function FlowOrder(flowpoints) {\n\n  // Helpers\n  var order = []\n  var inputs = {}\n  var states = {}\n\n  // Prepping\n  var lib = prepPoints(flowpoints)\n\n  // Getting inputs\n  Object.keys(lib).map(key => {\n    if (lib[key].ready) {\n      order.push(key)\n      inputs[key] = lib[key];\n    }\n  })\n\n  // Testing inputs and downstream\n  Object.keys(inputs).map(inp_key => {\n    order = recursive_getOrder(lib, inp_key, order, 0, 100)\n  })\n\n  // Inputs always have their own states\n  var states = getStateNames(lib, order);\n\n  // Returning\n  return { lib:lib, order:order, states:states, inputs:Object.keys(inputs) }\n\n}\n","import React, { Component } from 'react';\n\nimport { getPointName } from '../../FlowOrder.js';\n\n\nfunction Initials(link) {\n  var msg = \"'''\"\n  msg += \"\\nCreated with https://mariusbrataas.github.io/flowpoints_ml/\"\n  if (link) {\n    msg += \"\\n\\nLink to model:\\n\" + link\n  }\n  msg += \"\\n\\nLICENSE:\"\n  msg += \"\\nhttps://github.com/mariusbrataas/flowpoints_ml/blob/master/LICENSE\"\n  msg += \"\\n'''\"\n  return msg\n}\n\n\nfunction Imports() {\n  var msg = \"# Importing torch tools\"\n  msg += \"\\nimport torch\"\n  msg += \"\\nfrom torch import nn, optim, cuda\"\n  msg += \"\\n\\n\"\n  msg += \"\\n# Importing other libraries\"\n  msg += \"\\nimport numpy as np\"\n  msg += \"\\nimport matplotlib.pyplot as plt\"\n  msg += \"\\nimport time\"\n  return msg\n}\n\n\nfunction Constructor(flowpoints, order) {\n\n  // Basics\n  var msg = \"# Model\"\n  msg += \"\\nclass neural_net(nn.Module):\"\n  msg += \"\\n\\n\\n    def __init__(self, optimizer=optim.SGD, alpha=0.01, criterion=nn.CrossEntropyLoss(), use_cuda=None):\"\n  msg += \"\\n\\n        # Basics\"\n  msg += \"\\n        super(neural_net, self).__init__()\"\n  msg += \"\\n\\n        # Settings\"\n  msg += \"\\n        self.optim_type = optimizer\"\n  msg += \"\\n        self.optimizer  = None\"\n  msg += \"\\n        self.alpha      = alpha\"\n  msg += \"\\n        self.criterion  = criterion\"\n  msg += \"\\n\\n        # Use CUDA?\"\n  msg += \"\\n        self.use_cuda = use_cuda if (use_cuda != None and cuda.is_available()) else cuda.is_available()\"\n  msg += \"\\n\\n        # Current loss and loss history\"\n  msg += \"\\n        self.train_loss      = 0\"\n  msg += \"\\n        self.valid_loss      = 0\"\n  msg += \"\\n        self.train_loss_hist = []\"\n  msg += \"\\n        self.valid_loss_hist = []\"\n  msg += \"\\n\\n        # State\"\n  msg += \"\\n        self.state = None\"\n\n  // Initializing modules\n  msg += \"\\n\\n        # Adding all modules\"\n  order.map(key => {\n    var p = flowpoints[key];\n    if (p.specs.title !== 'Input') {\n\n      // Getting longest param name\n      var max_l = 0;\n      Object.keys(p.specs.params).map(param_key => {max_l = Math.max(param_key.length, max_l)})\n\n      // Init object\n      msg += \"\\n        self.\" + getPointName(flowpoints, key) + \" = \" + p.specs.ref + '('\n\n      // Adding arguments\n      Object.keys(p.specs.params).map(param_key => {\n        msg += \"\\n            \" + param_key\n        for (var i = 0; i < max_l - param_key.length; i++) msg += ' '\n        msg += ' = '\n        if (p.specs.params[param_key].type === 'tuple') {\n          msg += '('\n          p.specs.params[param_key].current.map(val => {msg += (val === '' ? p.specs.params[param_key].min : val) + ','})\n          msg = msg.substring(0, msg.length - 1) + '),'\n        } else if (p.specs.params[param_key].type === 'select') {\n          msg += \"'\" + (p.specs.params[param_key].current === '' ? p.specs.params[param_key].min : p.specs.params[param_key].current) + \"'\" + ','\n        } else {\n          msg += (p.specs.params[param_key].current === '' ? p.specs.params[param_key].min : p.specs.params[param_key].current) + ','\n        }\n      })\n      if (max_l > 0) msg += '\\n        '\n      msg += ')'\n    }\n  })\n\n  // Startup routines\n  msg += \"\\n\\n        # Running startup routines\"\n  msg += \"\\n        self.startup_routines()\"\n\n  // Returning\n  return msg\n\n}\n\n\n\nfunction StartupRoutines() {\n  var msg = \"    def startup_routines(self):\"\n  msg += \"\\n        self.optimizer = self.optim_type(self.parameters(), lr=self.alpha)\"\n  msg += \"\\n        if self.use_cuda:\"\n  msg += \"\\n            self.cuda()\"\n  return msg\n}\n\n\n\nfunction Forward(lib, states, order, inputs) {\n  var msg = \"    def forward(self, \"\n\n  // Adding inputs\n  inputs.map(key => { msg += states[key] + ', ' })\n  if (inputs.length > 0) msg = msg.substring(0, msg.length - 2)\n  msg += '):'\n\n  // Forwarding\n  var steplib = []\n  order.map(key => {\n    const p = lib[key];\n    if (!(p.specTitle === 'Input')) {\n      var stepmsg = \"        \" + states[key] + ' = '\n      stepmsg += 'self.' + getPointName(lib, key) + '('\n      Object.keys(p.inputs).map(inp_key => { stepmsg += states[inp_key] + ' + ' })\n      stepmsg = stepmsg.substring(0, stepmsg.length - 3) + ')'\n      steplib.push({msg:stepmsg, title:p.specTitle})\n    }\n  })\n\n  // Adding steps\n  var maxL = 0\n  steplib.map(step => {maxL = Math.max(maxL, step.msg.length)})\n  steplib.map(step => {\n    msg += '\\n' + step.msg\n    Array.from(Array(maxL + 1 - step.msg.length).keys()).map(idx => {msg += ' '})\n    msg += '# ' + step.title\n  })\n\n  // Adding return\n  msg += '\\n        return self.state'\n\n  // Returning\n  return msg\n\n}\n\n\nfunction FitStep() {\n  var msg = \"    def fit_step(self, train_loader):\"\n  msg += '\\n\\n        # Preparations for fit step'\n  msg += '\\n        self.train_loss = 0 # Resetting training loss'\n  msg += '\\n        self.train()        # Switching to autograd'\n  msg += '\\n\\n        # Looping through data'\n  msg += '\\n        for x, y in train_loader:'\n  msg += '\\n\\n            # Use CUDA?'\n  msg += '\\n            if self.use_cuda:'\n  msg += '\\n                x, y = x.cuda(), y.cuda()        # Moving tensors to GPU'\n  msg += '\\n\\n            # Performing calculations'\n  msg += '\\n            self.forward(x)                      # Forward pass'\n  msg += '\\n            loss = self.criterion(self.state, y) # Calculating loss'\n  msg += '\\n            self.train_loss += loss.item()       # Adding to epoch loss'\n  msg += '\\n            loss.backward()                      # Backward pass'\n  msg += '\\n            self.optimizer.step()                # Optimizing weights'\n  msg += '\\n            self.optimizer.zero_grad()           # Clearing gradients'\n  msg += '\\n\\n        # Adding loss to history'\n  msg += '\\n        self.train_loss_hist.append(self.train_loss / len(train_loader))'\n\n  // Returning\n  return msg\n}\n\n\nfunction ValidationStep() {\n  var msg = \"    def validation_step(self, validation_loader):\"\n  msg += '\\n\\n        # Preparations for validation step'\n  msg += '\\n        self.valid_loss = 0 # Resetting validation loss'\n  msg += '\\n\\n        # Swithing off autograd'\n  msg += '\\n        with torch.no_grad():'\n  msg += '\\n\\n            # Looping through data'\n  msg += '\\n            for x, y in validation_loader:'\n  msg += '\\n\\n                # Use CUDA?'\n  msg += '\\n                if self.use_cuda:'\n  msg += '\\n                    x, y = x.cuda(), y.cuda()        # Moving tensors to GPU'\n  msg += '\\n\\n                # Performing calculations'\n  msg += '\\n                self.forward(x)                      # Forward pass'\n  msg += '\\n                loss = self.criterion(self.state, y) # Calculating loss'\n  msg += '\\n                self.valid_loss += loss.item()       # Adding to epoch loss'\n  msg += '\\n\\n        # Adding loss to history'\n  msg += '\\n        self.valid_loss_hist.append(self.valid_loss / len(validation_loader))'\n\n  // Returning\n  return msg\n}\n\n\nfunction Fit() {\n  var msg = '    def fit(self, train_loader, validation_loader=None, epochs=10, show_progress=True):'\n  msg += '\\n\\n        # Possibly prepping progress message'\n  msg += '\\n        if show_progress:'\n  msg += '\\n            epoch_l = max(len(str(epochs)), 2)'\n  msg += \"\\n            print('Training model...')\"\n  msg += \"\\n            print('%sEpoch   Training loss   Validation loss   Duration' % ''.rjust(2 * epoch_l - 4, ' '))\"\n  msg += '\\n            t = time.time()'\n  msg += '\\n\\n        # Looping through epochs'\n  msg += '\\n        for epoch in range(epochs):'\n  msg += '\\n            self.fit_step(train_loader)                 # Optimizing weights'\n  msg += '\\n            if validation_loader != None:               # Perform validation?'\n  msg += '\\n                self.validation_step(validation_loader) # Calculating validation loss'\n  msg += '\\n\\n            # Possibly printing progress'\n  msg += '\\n            if show_progress:'\n  msg += \"\\n                print('%s/%s' % (str(epoch + 1).rjust(epoch_l, ' '), str(epochs).ljust(epoch_l, ' ')),\"\n  msg += \"\\n                    '| %s' % str(round(self.train_loss_hist[-1], 8)).ljust(13, ' '),\"\n  msg += \"\\n                    '| %s' % str(round(self.valid_loss_hist[-1], 8)).ljust(15, ' '),\"\n  msg += \"\\n                    '| %ss' % str(round(time.time() - t, 3)).rjust(7, ' '))\"\n  msg += '\\n                t = time.time()'\n\n  // Returning\n  return msg\n}\n\n\nfunction PlotHist() {\n  var msg = '    def plot_hist(self):'\n  msg += \"\\n\\n        # Adding plots\"\n  msg += \"\\n        plt.plot(self.train_loss_hist, color='blue', label='Training loss')\"\n  msg += \"\\n        plt.plot(self.valid_loss_hist, color='springgreen', label='Validation loss')\"\n  msg += \"\\n\\n        # Axis labels\"\n  msg += \"\\n        plt.xlabel('Epoch')\"\n  msg += \"\\n        plt.ylabel('Loss')\"\n  msg += \"\\n        plt.legend(loc='upper right')\"\n  msg += \"\\n\\n        # Displaying plot\"\n  msg += \"\\n        plt.show()\"\n\n  // Returning\n  return msg\n}\n\n\nfunction SaveLoad(lib, order) {\n  var msg = \"    def save(self, name='model.pth'):\"\n  msg += \"\\n        if not '.pth' in name: name += '.pth'\"\n  msg += \"\\n        torch.save({\"\n  order.map(key => {\n    const point = lib[key]\n    if (!(point.specTitle === 'Input')) {\n      const pointcode = getPointName(lib, key)\n      msg += \"\\n            '\" + pointcode + \"': self.\" + pointcode + ','\n    }\n  })\n  msg += \"\\n            'train_loss':      self.train_loss,\"\n  msg += \"\\n            'valid_loss':      self.valid_loss,\"\n  msg += \"\\n            'train_loss_hist': self.train_loss_hist,\"\n  msg += \"\\n            'valid_loss_hist': self.valid_loss_hist,\"\n  msg += \"\\n            'optim_type':      self.optim_type,\"\n  msg += \"\\n            'alpha':           self.alpha,\"\n  msg += \"\\n            'criterion':       self.criterion,\"\n  msg += \"\\n            'use_cuda':        self.use_cuda\"\n  msg += \"\\n        }, name)\"\n  msg += \"\\n\\n\\n    @staticmethod\"\n  msg += \"\\n    def load(name='model.pth'):\"\n  msg += \"\\n        if not '.pth' in name: name += '.pth'\"\n  msg += \"\\n        checkpoint = torch.load(name)\"\n  msg += \"\\n        model = neural_net(\"\n  msg += \"\\n            optimizer = checkpoint['optim_type'],\"\n  msg += \"\\n            alpha     = checkpoint['alpha'],\"\n  msg += \"\\n            criterion = checkpoint['criterion'],\"\n  msg += \"\\n            use_cuda  = checkpoint['use_cuda']\"\n  msg += \"\\n        )\"\n  order.map(key => {\n    const point = lib[key]\n    if (!(point.specTitle === 'Input')) {\n      const pointcode = getPointName(lib, key)\n      msg += \"\\n        model.\" + pointcode + \" = checkpoint['\" + pointcode + \"']\"\n    }\n  })\n  msg += \"\\n        model.train_loss      = checkpoint['train_loss']\"\n  msg += \"\\n        model.valid_loss      = checkpoint['valid_loss']\"\n  msg += \"\\n        model.train_loss_hist = checkpoint['train_loss_hist']\"\n  msg += \"\\n        model.valid_loss_hist = checkpoint['valid_loss_hist']\"\n  msg += '\\n        model.startup_routines()'\n  msg += \"\\n        return model\"\n\n  // Returning\n  return msg\n}\n\n\nfunction Flatten() {\n  var msg = '# Helper class for flattening'\n  msg += '\\nclass Flatten(nn.Module):'\n  msg += '\\n    def __init__(self):'\n  msg += '\\n        super(Flatten, self).__init__()'\n  msg += '\\n    def forward(self, x):'\n  msg += '\\n        return x.view(x.shape[0], -1)'\n  return msg\n}\n\n\nexport function PyTorchParser(flowpoints, lib, link) {\n\n  // Add flatten?\n  var addflatten = false;\n  Object.keys(flowpoints).map(key => {\n    if (flowpoints[key].specs.title === 'Flatten') addflatten = true;\n  })\n\n  // Helpers\n  const order = lib.order;\n  const states = lib.states;\n  const inputs = lib.inputs;\n\n  // Initials\n  var msg = Initials(link)\n  msg += '\\n\\n\\n' + Imports();\n\n  // Add flatten?\n  if (addflatten) msg += '\\n\\n\\n' + Flatten()\n\n  // Model\n  msg += '\\n\\n\\n' + Constructor(flowpoints, order, {});\n  msg += '\\n\\n\\n' + StartupRoutines();\n  msg += '\\n\\n\\n' + Forward(lib.lib, states, order, inputs);\n  msg += '\\n\\n\\n' + FitStep();\n  msg += '\\n\\n\\n' + ValidationStep();\n  msg += '\\n\\n\\n' + Fit();\n  msg += '\\n\\n\\n' + PlotHist();\n  msg += '\\n\\n\\n' + SaveLoad(lib.lib, order);\n\n  // Returning\n  return msg\n\n}\n","import React, { Component } from 'react';\n\nexport function PyTorchModules() {\n  return {\n    input: {\n      title: 'Input',\n      params: {\n        n_dims: { min:1, max:Infinity, current:2 },\n        dimensions: { type:'tuple', min:1, max:Infinity, current:[1,1] }\n      },\n      autoparams: (inp, p) => {\n        return p\n      },\n      outshape: (inp, p) => {\n        return p.dimensions.current\n      }\n    },\n    linear: {\n      title: 'Linear',\n      ref: 'nn.Linear',\n      id: 0,\n      params: {\n        in_features: {type:'int', min:1, max:Infinity, current:1 },\n        out_features: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type:'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        var idx = 0;\n        var out_shape = inp.map((val, index) => {\n          idx = index;\n          return val\n        });\n        out_shape[idx] = p.out_features.current;\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.in_features.current = inp[inp.length - 1]\n        return p\n      }\n    },\n    flatten: {\n      title: 'Flatten',\n      ref: 'Flatten',\n      id: 1,\n      params: {},\n      outshape: (inp, p) => {\n        var features = 1/inp[0]\n        inp.map(val => {features *= val})\n        return [inp[0], Math.round(features)]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    conv1d: {\n      title: 'Conv1d',\n      ref: 'nn.Conv1d',\n      id: 2,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const L_in = inp[2]\n        const L_out = Math.floor(1 + (L_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        return [inp[0], p.out_channels.current.current, L_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    conv2d: {\n      title: 'Conv2d',\n      ref: 'nn.Conv2d',\n      id: 3,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const H_in = inp[2]\n        const W_in = inp[3]\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        return [inp[0], p.out_channels.current, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    conv3d: {\n      title: 'Conv3d',\n      ref: 'nn.Conv3d',\n      id: 4,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const D_in = inp[2]\n        const H_in = inp[3]\n        const W_in = inp[4]\n        const D_out = Math.floor(1 + (D_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[2] - p.dilation.current[2] * (p.kernel_size.current[2] - 1) - 1) / p.stride.current[2])\n        return [inp[0], p.out_channels.current, D_out, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    maxpool1d: {\n      title: 'MaxPool1d',\n      ref: 'nn.MaxPool1d',\n      id: 5,\n      params: {\n        kernel_size: { type:'int', min:1, max:Infinity, current:3 },\n        stride: { type:'int', min:1, max:Infinity, current:1 },\n        padding: { type:'int', min:0, max:Infinity, current:0 },\n        dilation: { type:'int', min:1, max:Infinity, current:1 },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const L_in = inp[2]\n        const L_out = Math.floor(1 + (L_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        return [inp[0], inp[0], L_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    maxpool2d: {\n      title: 'MaxPool2d',\n      ref: 'nn.MaxPool2d',\n      id: 6,\n      params: {\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const H_in = inp[2]\n        const W_in = inp[3]\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        return [inp[0], inp[1], H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    maxpool3d: {\n      title: 'MaxPool3d',\n      ref: 'nn.MaxPool3d',\n      id: 7,\n      params: {\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const D_in = inp[2]\n        const H_in = inp[3]\n        const W_in = inp[4]\n        const D_out = Math.floor(1 + (D_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[2] - p.dilation.current[2] * (p.kernel_size.current[2] - 1) - 1) / p.stride.current[2])\n        return [inp[0], inp[1], D_out, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    batchnorm1d: {\n      title: 'BatchNorm1d',\n      ref: 'nn.BatchNorm1d',\n      id: 8,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    batchnorm2d: {\n      title: 'BatchNorm2d',\n      ref: 'nn.BatchNorm2d',\n      id: 9,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    batchnorm3d: {\n      title: 'BatchNorm3d',\n      ref: 'nn.BatchNorm3d',\n      id: 10,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    groupnorm: {\n      title: 'GroupNorm',\n      ref: 'nn.GroupNorm',\n      id: 11,\n      params: {\n        num_groups: { type:'int', min:1, max:Infinity, current:1 },\n        num_channels: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        affine: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_channels.current = inp[1]\n        return p\n      }\n    },\n    instancenorm1d: {\n      title: 'InstanceNorm1d',\n      ref: 'nn.InstanceNorm1d',\n      id: 12,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    instancenorm2d: {\n      title: 'InstanceNorm2d',\n      ref: 'nn.InstanceNorm2d',\n      id: 13,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    instancenorm3d: {\n      title: 'InstanceNorm3d',\n      ref: 'nn.InstanceNorm3d',\n      id: 14,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    rnn: {\n      title: 'RNN',\n      ref: 'nn.RNN',\n      id: 15,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        nonlinearity: { type: 'select', options:['relu', 'tanh'], current:'tanh' },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    lstm: {\n      title: 'LSTM',\n      ref: 'nn.LSTM',\n      id: 16,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    gru: {\n      title: 'GRU',\n      ref: 'nn.GRU',\n      id: 17,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    rnncell: {\n      title: 'RNNCell',\n      ref: 'nn.RNNCell',\n      id: 18,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        nonlinearity: { type: 'select', options:['relu', 'tanh'], current:'tanh' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    lstmcell: {\n      title: 'LSTMCell',\n      ref: 'nn.LSTMCell',\n      id: 19,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    grucell: {\n      title: 'GRUCell',\n      ref: 'nn.GRUCell',\n      id: 20,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    dropout: {\n      title: 'Dropout',\n      ref: 'nn.Dropout',\n      id: 21,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    dropout2d: {\n      title: 'Dropout2d',\n      ref: 'nn.Dropout2d',\n      id: 22,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    dropout3d: {\n      title: 'Dropout3d',\n      ref: 'nn.Dropout3d',\n      id: 23,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    alphadropout: {\n      title: 'AlphaDropout',\n      ref: 'nn.AlphaDropout',\n      id: 24,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    elu: {\n      title: 'ELU',\n      ref: 'nn.ELU',\n      id: 25,\n      params: {\n        alpha: { type:'double', min:0, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    hardshrink: {\n      title: 'Hardshrink',\n      ref: 'nn.Hardshrink',\n      id: 26,\n      params: {\n        lambd: { type:'double', min:-Infinity, max:Infinity, current:'0.5' },\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    hardtanh: {\n      title: 'Hardtanh',\n      ref: 'nn.Hardtanh',\n      id: 27,\n      params: {\n        min_val: { type:'double', min:-Infinity, max:Infinity, current:-1 },\n        max_val: { type:'double', min:-Infinity, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    leakyrelu: {\n      title: 'LeakyReLU',\n      ref: 'nn.LeakyReLU',\n      id: 28,\n      params: {\n        negative_slope: { type:'double', min:0, max:Infinity, current:1e-2 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    logsigmoid: {\n      title: 'LogSigmoid',\n      ref: 'nn.LogSigmoid',\n      id: 29,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    prelu: {\n      title: 'PReLU',\n      ref: 'nn.PReLU',\n      id: 30,\n      params: {\n        num_parameters: { type:'int', min:0, max:Infinity, current:1 },\n        init: { type:'double', min:0, max:Infinity, current:0.25 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    relu: {\n      title: 'ReLU',\n      ref: 'nn.ReLU',\n      id: 31,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    relu6: {\n      title: 'ReLU6',\n      ref: 'nn.ReLU6',\n      id: 32,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    rrelu: {\n      title: 'RReLU',\n      ref: 'nn.RReLU',\n      id: 33,\n      params: {\n        lower: { type:'double', min:0, max:Infinity, current:1/8 },\n        upper: { type:'double', min:0, max:Infinity, current:1/3 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    selu: {\n      title: 'SELU',\n      ref: 'nn.SELU',\n      id: 34,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    celu: {\n      title: 'CELU',\n      ref: 'nn.CELU',\n      id: 35,\n      params: {\n        alpha: { type:'double', min:0, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    sigmoid: {\n      title: 'Sigmoid',\n      ref: 'nn.Sigmoid',\n      id: 36,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softplus: {\n      title: 'Softplus',\n      ref: 'nn.Softplus',\n      id: 37,\n      params: {\n        beta: { type:'double', min:0, max:Infinity, current:1 },\n        threshold: { type:'double', min:0, max:Infinity, current:20 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softshrink: {\n      title: 'Softshrink',\n      ref: 'nn.Softshrink',\n      id: 38,\n      params: {\n        lambd: { type:'double', min:0, max:Infinity, current:0.5 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softsign: {\n      title: 'Softsign',\n      ref: 'nn.Softsign',\n      id: 39,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    tanh: {\n      title: 'Tanh',\n      ref: 'nn.Tanh',\n      id: 40,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    tanhshrink: {\n      title: 'Tanhshrink',\n      ref: 'nn.Tanhshrink',\n      id: 41,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    threshold: {\n      title: 'Threshold',\n      ref: 'nn.Threshold',\n      id: 42,\n      params: {\n        threshold: { type:'double', min:0, max:Infinity, current:0.1 },\n        value: { type:'double', min:0, max:Infinity, current:0.1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmin: {\n      title: 'Softmin',\n      ref: 'nn.Softmin',\n      id: 43,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmax: {\n      title: 'Softmax',\n      ref: 'nn.Softmax',\n      id: 44,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmax2d: {\n      title: 'Softmax2d',\n      ref: 'nn.Softmax2d',\n      id: 45,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    logsoftmax: {\n      title: 'LogSoftmax',\n      ref: 'nn.LogSoftmax',\n      id: 46,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n  }\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    overflow:'scroll',\n  },\n  tabsRoot: {\n    borderBottom: '1px solid #1890ff',\n  },\n  tabsIndicator: {\n    backgroundColor: '#1890ff',\n  },\n  tabRoot: {\n    textTransform: 'initial',\n    minWidth: 50,\n    fontWeight: theme.typography.fontWeightRegular,\n    marginRight: theme.spacing.unit * 0,\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:hover': {\n      color: '#40a9ff',\n      opacity: 1,\n    },\n    '&$tabSelected': {\n      color: '#1890ff',\n    },\n    '&:focus': {\n      color: '#40a9ff',\n    },\n  },\n  tabSelected: {},\n  typography: {\n    padding: theme.spacing.unit * 0,\n  },\n});\n\nclass TabContainer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.tab !== undefined ? props.tabs.indexOf(props.tab) : 0\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { value } = this.state;\n    const width = Math.ceil(this.props.width/this.props.tabs.length) + 'px'\n\n    return (\n      <div className={classes.root} style={{overflow:'hidden'}}>\n        <Tabs\n          value={value}\n          onChange={(e, value) => {\n            this.setState({ value });\n            if (this.props.onSelectTab) this.props.onSelectTab(this.props.tabs[value]);\n          }}\n          textColor=\"primary\"\n          classes={{ root: classes.tabsRoot, indicator: classes.tabsIndicator }}\n          scrollButtons={false}>\n          {\n            this.props.tabs.map(value => {\n              return (\n                <Tab\n                  disableRipple\n                  classes={{ root: classes.tabRoot, selected: classes.tabSelected }}\n                  label={value}\n                  style={{width: width}}\n                />\n              )\n            })\n          }\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nTabContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TabContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Select from 'react-select';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\nimport FormControl from '@material-ui/core/FormControl';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    height: 50,\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n      0.08,\n    ),\n  },\n  noOptionsMessage: {\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 2,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  },\n});\n\nfunction NoOptionsMessage(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.noOptionsMessage}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />;\n}\n\nfunction Control(props) {\n  return (\n    <TextField\n      fullWidth\n      InputProps={{\n        inputComponent,\n        inputProps: {\n          className: props.selectProps.classes.input,\n          inputRef: props.innerRef,\n          children: props.children,\n          ...props.innerProps,\n        },\n      }}\n      {...props.selectProps.textFieldProps}\n    />\n  );\n}\n\nfunction Option(props) {\n  return (\n    <MenuItem\n      buttonRef={props.innerRef}\n      selected={props.isFocused}\n      component=\"div\"\n      style={{\n        fontWeight: props.isSelected ? 500 : 400,\n      }}\n      {...props.innerProps}\n    >\n      {props.children}\n    </MenuItem>\n  );\n}\n\nfunction Placeholder(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.placeholder}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction SingleValue(props) {\n  return (\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction ValueContainer(props) {\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\n}\n\nfunction MultiValue(props) {\n  return (\n    <Chip\n      tabIndex={-1}\n      label={props.children}\n      className={classNames(props.selectProps.classes.chip, {\n        [props.selectProps.classes.chipFocused]: props.isFocused,\n      })}\n      onDelete={props.removeProps.onClick}\n      deleteIcon={<CancelIcon {...props.removeProps} />}\n    />\n  );\n}\n\nfunction Menu(props) {\n  return (\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n      {props.children}\n    </Paper>\n  );\n}\n\nconst components = {\n  Control,\n  Menu,\n  MultiValue,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nexport class SuggestiveField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: props.current,\n    }\n    this.options = props.options.map(opt => ({ value:opt, label:opt }));\n    this.msg = props.msg;\n  }\n\n  render() {\n    const { classes, theme } = this.props;\n\n    const selectStyles = {\n      input: base => ({\n        ...base,\n        color: theme.palette.text.primary,\n        '& input': {\n          font: 'inherit',\n        },\n      }),\n    };\n\n    return (\n          <FormControl style={{width:'100%'}}>\n          <Select\n            classes={classes}\n            styles={selectStyles}\n            options={this.options}\n            components={components}\n            value={{value:this.state.current, label:this.state.current}}\n            placeholder='Select an operation'\n            onChange={e => {\n              if (e) {\n                this.setState({current:e.value});\n                if (this.props.onChange) this.props.onChange(e.value);\n              } else {\n                this.setState({current:''})\n                if (this.props.onChange) this.props.onChange('')\n              }\n            }}\n            isClearable\n          />\n        </FormControl>\n    );\n  }\n}\n\nSuggestiveField.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(SuggestiveField);\n","import React, { Component } from 'react';\n\nimport './Sidebar.css';\nimport { PyTorchParser } from './parsers/Parsers.js';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { github, atelierForestDark } from 'react-syntax-highlighter/dist/styles/hljs';\n\nimport Typography from '@material-ui/core/Typography';\nimport TabContainer from './TabContainer.js'\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Drawer from '@material-ui/core/Drawer';\n\nimport Snackbar from '@material-ui/core/Snackbar';\nimport green from '@material-ui/core/colors/green';\n\nimport Divider from '@material-ui/core/Divider';\nimport Chip from '@material-ui/core/Chip';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport red from '@material-ui/core/colors/red';\n\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Fab from '@material-ui/core/Fab';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\n\nimport SuggestiveField from './SuggestiveField.js';\n\nconst darktheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n  typography: { useNextVariants: true },\n});\n\nconst lighttheme = createMuiTheme({\n  palette: {\n    type: 'light',\n  },\n  typography: { useNextVariants: true },\n});\n\ngithub.hljs.background = '#ffffff';\n\nexport const themes = [\n  'red',\n  'pink',,\n  'purple',\n  'deep-purple',\n  'indigo',\n  'blue',\n  'light-blue',\n  'green',\n  'light-green',\n  'lime',\n  'yellow',\n  'amber',\n  'orange',\n  'deep-orange',\n  'brown',\n  'grey',\n  'blue-grey',\n  'black',\n  'white'\n]\n\n\nconst SettingsTab = (props) => {\n  var env = props.environment;\n  return (\n    <div style={{ padding:'15px' }}>\n\n      <div>\n        <h3 style={{marginTop:'0px'}}>Environment</h3>\n        <FormControl>\n          <InputLabel htmlFor='libSelect'>Library</InputLabel>\n          <Select\n            value={env.library}\n            inputProps={{ name:'library select', id:'libSelect'}}\n            onChange={(e) => {\n              var environment = props.refresh().environment;\n              environment.library = e.target.value;\n              props.updateEnv(environment)\n            }}>\n            {\n              env.libraries.map(libname => {\n                return (\n                  <MenuItem value={libname}>{libname}</MenuItem>\n                )\n              })\n            }\n          </Select>\n        </FormControl>\n      </div>\n\n      <div style={{paddingTop:'20px'}}>\n        <h3>Customize view</h3>\n\n        <div style={{paddingBottom:10}}>\n          <FormControl style={{width:'48%', paddingRight:10, paddingBottom:10}}>\n            <InputLabel htmlFor='themeselect'>Theme</InputLabel>\n            <Select\n              value={props.settings.theme}\n              inputProps={{ name:'theme select', id:'themeselect'}}\n              onChange={(e) => {\n                var settings = props.refresh().settings;\n                settings.theme = e.target.value;\n                props.updateSettings(settings)\n              }}>\n              {\n                themes.map(themename => {\n                  return (\n                    <MenuItem value={themename}>{themename}</MenuItem>\n                  )\n                })\n              }\n            </Select>\n          </FormControl>\n\n          <FormControl style={{width:'48%'}}>\n            <InputLabel htmlFor='varselect'>Variant</InputLabel>\n            <Select\n              value={props.settings.variant}\n              inputProps={{ name:'vairant select', id:'varselect'}}\n              onChange={(e) => {\n                var settings = props.refresh().settings;\n                settings.variant = e.target.value;\n                props.updateSettings(settings)\n              }}>\n              {\n                ['paper','outlined','filled'].map(varname => {\n                  return (\n                    <MenuItem value={varname}>{varname}</MenuItem>\n                  )\n                })\n              }\n            </Select>\n          </FormControl>\n        </div>\n\n        {\n          [\n            {r:'darktheme', t:'Dark theme'},\n            {r:'showName', t:'Show names'},\n            {r:'showShape', t:'Show shapes'},\n            {r:'avoidCollisions', t:'Avoid collisions'}\n          ].map(tmp => {\n            return (\n              <FormControlLabel\n                style={{paddingTop:0}}\n                control={\n                  <Switch\n                    checked={props.settings[tmp.r]}\n                    color='primary'\n                    onChange={e => {\n                      var settings = props.refresh().settings;\n                      settings[tmp.r] = !settings[tmp.r];\n                      props.updateSettings(settings)\n                    }}/>\n                }\n                label={tmp.t}/>\n            )\n          })\n        }\n      </div>\n\n    </div>\n  )\n}\n\n\n\nconst CodeTab = props => {\n\n  // Selecting parser\n  var parser = null\n  if (props.environment.library === 'PyTorch') parser = PyTorchParser;\n\n  // Selecting theme\n  const codetheme = props.darktheme ? atelierForestDark : github;\n\n  return (\n    <div style={{fontSize:12}}>\n      <SyntaxHighlighter language='python' style={codetheme} showLineNumbers>\n        {\n          props.code\n        }\n      </SyntaxHighlighter>\n    </div>\n  )\n\n}\n\n\n\nconst FlowpointTab = props => {\n\n  var point = props.flowpoints[props.selected];\n\n  if (point) {\n\n    // Helpers\n    const params = point.specs.params;\n    var fields = { 'int':[], 'double':[], 'bool':[], 'tuple':[], 'select':[] };\n\n    // Input?\n    if (point.specs.title === 'Input') {\n      fields.int.push(\n        <TextField\n          label='N dimensions'\n          type='number'\n          variant='outlined'\n          margin='dense'\n          style={{width:'155px', paddingRight:'5px'}}\n          value={params.n_dims.current}\n          onChange={e => {\n            var flowpoints = props.refresh().flowpoints;\n            var p = flowpoints[props.selected];\n            var params = p.specs.params;\n            params.n_dims.current = Math.max(Math.min(e.target.value, params.n_dims.max), params.n_dims.min);\n            if (params.n_dims.current < params.dimensions.current.length) {\n              params.dimensions.current = params.dimensions.current.splice(0, params.n_dims.current)\n            } else if (params.n_dims.current > params.dimensions.current.length) {\n              Array.from(Array(params.n_dims.current - params.dimensions.current.length).keys()).map(idx => {\n                params.dimensions.current.push(1)\n              })\n            }\n            props.updatePointSettings(props.selected, p)\n          }}/>\n      )\n    }\n\n    Object.keys(params).map(paramkey => {\n      const param = params[paramkey]\n      switch(param.type) {\n        case 'int':\n          fields.int.push(\n            <TextField\n              label={paramkey}\n              type='number'\n              variant='outlined'\n              margin='dense'\n              style={{width:'155px', paddingRight:'5px'}}\n              value={params[paramkey].current}\n              onChange={e => {\n                var flowpoints = props.refresh().flowpoints;\n                var p = flowpoints[props.selected];\n                var param = p.specs.params[paramkey];\n                param.current = e.target.value === '' ? '' : Math.max(Math.min(e.target.value, param.max), param.min);\n                props.updatePointSettings(props.selected, p)\n              }}/>\n          )\n          break;\n        case 'double':\n          fields.double.push(\n            <TextField\n              label={paramkey}\n              type='number'\n              variant='outlined'\n              margin='dense'\n              style={{width:'155px', paddingRight:'5px'}}\n              value={params[paramkey].current}\n              onChange={e => {\n                var flowpoints = props.refresh().flowpoints;\n                var p = flowpoints[props.selected];\n                var param = p.specs.params[paramkey];\n                param.current = e.target.value === '' ? '' : Math.max(Math.min(e.target.value, param.max), param.min);\n                props.updatePointSettings(props.selected, p)\n              }}/>\n          )\n          break;\n        case 'bool':\n          fields.bool.push(\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={param.current === 'True'}\n                  color='primary'\n                  onChange={e => {\n                    var flowpoints = props.refresh().flowpoints;\n                    var p = flowpoints[props.selected];\n                    var param = p.specs.params[paramkey];\n                    if (param.current === 'True') {\n                      param.current = 'False';\n                    } else {\n                      param.current = 'True';\n                    }\n                    props.updatePointSettings(props.selected, p)\n                  }}/>\n              }\n              label={paramkey}/>\n          )\n          break;\n        case 'tuple':\n          fields.tuple.push(\n            <div style={{paddingTop:'15px'}}>\n              <div><h5 style={{margin:'0px'}}>{paramkey}</h5></div>\n              {\n                param.current.map((val, index) => {\n                  return (\n                    <TextField\n                      label={paramkey + ' ' + index}\n                      type='number'\n                      variant='outlined'\n                      margin='dense'\n                      style={{width:'155px', paddingRight:'5px'}}\n                      value={val}\n                      onChange={e => {\n                        var flowpoints = props.refresh().flowpoints;\n                        var p = flowpoints[props.selected]\n                        var param = flowpoints[props.selected].specs.params[paramkey];\n                        param.current[index] = e.target.value === '' ? '' : Math.max(Math.min(e.target.value, param.max), param.min);\n                        props.updatePointSettings(props.selected, p)\n                      }}/>\n                  )\n                })\n              }\n            </div>\n          )\n          break;\n        case 'select':\n          fields.select.push(\n            <FormControl>\n              <InputLabel htmlFor=\"selectfield\">{paramkey}</InputLabel>\n              <Select\n                value={params[paramkey].options.indexOf(params[paramkey].current)}\n                style={{width:'155px', paddingRight:'5px'}}\n                onChange={(e) => {\n                  var flowpoints = props.refresh().flowpoints;\n                  var p = flowpoints[props.selected];\n                  var param = p.specs.params[paramkey];\n                  param.current = param.options[e.target.value]\n                  props.updatePointSettings(props.selected, p)\n                }}\n                inputProps={{id:'selectfield'}}>\n                {\n                  params[paramkey].options.map((opt_val, opt_idx) => {\n                    return (\n                      <MenuItem value={opt_idx}>{opt_val}</MenuItem>\n                    )\n                  })\n                }\n              </Select>\n            </FormControl>\n          )\n          break;\n      }\n    })\n\n    // List of module types\n    const modules = props.environment.getModules()\n    var title2key = {}\n    Object.keys(modules).map(mod_key => {\n      title2key[modules[mod_key].title] = mod_key;\n    })\n\n    return (\n      <div style={{padding:'15px'}}>\n\n        <div>\n\n          <h2 style={{marginTop:'0px'}}>Flowpoint settings</h2>\n\n          <FormControl style={{width:'100%'}}>\n            <Select\n              value={point.specs.title}\n              inputProps={{ name:'spec select', id:'specselect'}}\n              onChange={(e) => {\n                if (e.target.value in title2key) {\n                  var flowpoints = props.refresh().flowpoints;\n                  var p = flowpoints[props.selected];\n                  p.specs = modules[title2key[e.target.value]];\n                  props.updatePointSettings(props.selected, p)\n                }\n              }}>\n              {\n                Object.keys(title2key).map(varname => {\n                  return (\n                    <MenuItem value={varname}>{varname}</MenuItem>\n                  )\n                })\n              }\n            </Select>\n          </FormControl>\n\n          <TextField\n            label='Name'\n            value={point.name}\n            margin='tight'\n            style={{width:'80%'}}\n            onChange={e => {\n              var flowpoints = props.refresh().flowpoints;\n              var p = flowpoints[props.selected];\n              p.name = e.target.value;\n              props.updatePointSettings(props.selected, p)\n            }}/>\n\n          <IconButton\n            aria-label=\"Delete\"\n            color={red[500]}\n            style={{\n              marginLeft:10,\n              marginTop:5,\n              color:red[300]\n            }}\n            onClick={props.deleteSelected}>\n            <DeleteIcon />\n          </IconButton>\n\n        </div>\n\n        <div style={{paddingTop:'25px'}}>\n          <h3>Parameters</h3>\n          <div>{ fields.int    }</div>\n          <div>{ fields.double }</div>\n          <div>{ fields.select }</div>\n          <div>{ fields.tuple  }</div>\n          <div>{ fields.bool   }</div>\n        </div>\n\n      </div>\n    )\n  } else {\n    return (\n      <div style={{display:'table', width:'100%', height:'50px'}}>\n        <div style={{display:'table-cell', verticalAlign:'middle', textAlign:'center'}}>\n          Click on a flowpoint to display it's settings.\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport const Sidebar = (props) => {\n  return (\n    <MuiThemeProvider theme={props.darktheme ? darktheme : lighttheme}>\n\n      <Drawer\n        variant='persistent'\n        anchor='left'\n        open={props.open}>\n\n        <div\n          class='fullSidebar'\n          style={{\n            maxWidth:props.settings.drawerWidth,\n            color: (props.darktheme ? 'white' : 'black')\n          }}>\n\n          <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{padding:'15px'}}>\n            Flowpoints ML\n          </Typography>\n\n          <div>\n            <TabContainer\n              tabs={['Settings', 'Code', 'Flowpoint']}\n              tab={props.settings.tab}\n              width={350}\n              onSelectTab={(value) => {\n                var settings = props.refresh().settings;\n                settings.tab = value;\n                if (value === 'Code') {\n                  settings.drawerWidth = 600\n                } else {\n                  settings.drawerWidth = 350\n                }\n                props.updateSettings(settings);\n              }}/>\n          </div>\n\n          <div class='scrollBox' style={{backgroundColor:(props.darktheme ? atelierForestDark.hljs.background : null)}}>\n\n            <div>\n              {\n                props.settings.tab === 'Settings' ? <SettingsTab\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  updateEnv={props.updateEnv}\n                  settings={props.settings}\n                  updateSettings={props.updateSettings}/> : null\n              }\n              {\n                props.settings.tab === 'Code' ? <CodeTab\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  code={props.code}\n                  darktheme={props.darktheme}/> : null\n              }\n              {\n                props.settings.tab === 'Flowpoint' ? <FlowpointTab\n                  selected={props.selected}\n                  settings={props.settings}\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  deleteSelected={props.deleteSelected}\n                  updatePointSettings={props.updatePointSettings}/> : null\n              }\n            </div>\n\n          </div>\n\n        </div>\n\n      </Drawer>\n\n    </MuiThemeProvider>\n  )\n}\n","import React, { Component } from 'react';\nimport { PyTorchModules } from './libraries/pytorch.js';\n\n/*\nconst lvls = {\n  0: '%24',\n  1: '#',\n  2: '%2C',\n  3: '%'\n}*/\n/*\nconst lvls = {\n  0: 'MAIS',\n  1: 'FISK',\n  2: 'OST',\n  3: 'KORN'\n}*/\n\nexport const themes = [\n  'red',\n  'pink',,\n  'purple',\n  'deep-purple',\n  'indigo',\n  'blue',\n  'light-blue',\n  'green',\n  'light-green',\n  'lime',\n  'yellow',\n  'amber',\n  'orange',\n  'deep-orange',\n  'brown',\n  'grey',\n  'blue-grey',\n  'black',\n  'white'\n]\n\nconst lvls = {\n  0: 'IIA',\n  1: 'IIB',\n  2: 'IIC',\n  3: 'IID'\n}\n\nfunction num2string(num) {\n  return num.toString(36)\n}\n\nfunction string2num(str) {\n  return parseInt(str, 36)\n}\n\nfunction encodeParams(params) {\n  var msg = ''\n  Object.keys(params).sort().map(pkey => {\n    const param = params[pkey]\n    if (param.type === 'bool') {\n      msg += (param.current === 'True' ? 't' : 'f')\n    } else if (param.type === 'tuple') {\n      param.current.map(pval => {\n        msg += num2string(pval) + lvls[3]\n      })\n      msg = msg.substring(0, msg.length - lvls[3].length)\n    } else if (param.type === 'select') {\n      msg += param.options.indexOf(param.current)\n    } else if (param.type === 'int') {\n      msg += num2string(param.current)\n    } else {\n      msg += param.current\n    }\n    msg += lvls[2]\n  })\n  return msg.substring(0, msg.length - lvls[2].length)\n}\n//https://mariusbrataas.github.io/flowpoints_ml/?p=loadPDF_3_41e2f4_4164f4_0##5#5#0#1aa%2C2aa%2#t%2C1%2C1%2_1##p#5#0##t%2C1%2C1%2_2##p#c#0##t%2C1%2C1%2\n//https://mariusbrataas.github.io/flowpoints_ml/?p=loadPDF_3_41e2f4_4164f4_0##5#5#0#1aa%2C2aa%2#t%2C1%2C1%2_1##p#5#0##t%2C1%2C1%2_2##p#c#0##t%2C1%2C1%2\n\nfunction decodeParams(msg, specs) {\n  var params = specs.params;\n  const queries = msg.split(lvls[2])\n  Object.keys(params).sort().map((pkey, idx) => {\n    var param = params[pkey]\n    const q = queries[idx]\n    if (param.type === 'bool') {\n      param.current = (q === 't' ? 'True' : 'False')\n    } else if (param.type === 'tuple') {\n      q.split(lvls[3]).map((pval, pidx) => {\n        param.current[pidx] = string2num(pval)\n      })\n    } else if (param.type === 'select') {\n      param.current = param.options[q]\n    } else if (param.type === 'int') {\n      param.current = string2num(q)\n    } else {\n      param.current = q\n    }\n  })\n  specs.params = params\n  return specs\n}\n\nfunction encodeOutputs(outputs) {\n  var msg = ''\n  Object.keys(outputs).map(out_key => {\n    msg += num2string(out_key) + outputs[out_key].output[0] + outputs[out_key].input[0] + lvls[2]\n  })\n  if (Object.keys(outputs).length > 0) {\n    msg = msg.substring(0, msg.length - lvls[2].length)\n  }\n  return msg\n}\n\nfunction decodeOutputs(msg) {\n  const pos2title = {\n    a: 'auto',\n    t: 'top',\n    l: 'left',\n    r: 'right',\n    b: 'bottom'\n  }\n  var queries = msg.split(lvls[2])\n  var outputs = {}\n  queries.map(query => {\n    if (query !== '') {\n      outputs[query.substring(0, query.length - 2)] = {\n        output: pos2title[query[query.length - 2]],\n        input: pos2title[query[query.length - 1]]\n      }\n    }\n  })\n  return outputs\n}\n\nfunction encodePoint(p, key) {\n  /*\n  0: key\n  1: name\n  2: x\n  3: y\n  4: id\n  5: outputs\n  6: params\n  */\n  var msg = '' + key\n  msg += lvls[1] + p.name\n  msg += lvls[1] + num2string(Math.round(p.pos.x/10))\n  msg += lvls[1] + num2string(Math.round(p.pos.y/10))\n  msg += lvls[1] + (p.specs.title === 'Input' ? '' : num2string(p.specs.id))\n  msg += lvls[1] + encodeOutputs(p.outputs)\n  msg += lvls[1] + encodeParams(p.specs.params)\n  return msg\n}\n\nfunction decodePoint(msg, id2key, getModules) {\n  const queries = msg.split(lvls[1])\n\n  // Decoding some basics\n  var p = {\n    name: queries[1],\n    output_shape: [],\n    pos: {\n      x: string2num(queries[2]) * 10,\n      y: string2num(queries[3]) * 10,\n    },\n    specs: decodeParams(queries[6], getModules()[queries[4] === '' ? 'input' : id2key[string2num(queries[4])]]),\n    outputs: decodeOutputs(queries[5]),\n    isHover: false\n  }\n  return { key:queries[0], p:p }\n}\n\nexport function parseToQuery(flowpoints, theme, variant, background, count, darktheme, showNames, library, showSidebar) {\n  const variant2key = {\n    'paper': 0,\n    'outlined': 1,\n    'filled':2\n  }\n  // LibraryTheme_Count_Incolor_Outcolor_point_point_\n  var msg = '' + library[0]\n  msg += num2string(themes.indexOf(theme))\n  msg += variant2key[variant]\n  msg += num2string(themes.indexOf(background))\n  msg += (darktheme ? 'D' : 'L')\n  msg += (showNames ? 'T' : 'F')\n  msg += (showSidebar ? 'T' : 'F')\n  msg += lvls[0] + num2string(count)\n  Object.keys(flowpoints).map(key => {\n    msg += lvls[0] + encodePoint(flowpoints[key], key)\n  })\n  return msg\n}\n\n\nexport function parseFromQuery(query) {\n  query = query.replace(/%20/g, ' ')\n  const queries = query.split(lvls[0])\n\n  // Helpers\n  const key2lib = {\n    P: {t:'PyTorch', modules:PyTorchModules}\n  }\n  const key2variant = {\n    0: 'paper',\n    1: 'outlined',\n    2: 'filled'\n  }\n\n  // Creating lib\n  var lib = {\n    library: key2lib[query[0]].t,\n    getModules: key2lib[query[0]].modules,\n    darktheme: (query[4] === 'D' ? true : false),\n    showName: (query[5] === 'T' ? true : false),\n    showSidebar: (query[6] === 'T' ? true : false),\n    count: string2num(queries[0]),\n    theme: themes[string2num(query[1])],\n    variant: key2variant[query[2]],\n    background: themes[string2num(query[3])]\n  }\n\n  // Id to module key\n  var id2key = {}\n  var modules = lib.getModules()\n  Object.keys(modules).map(mod_key => {\n    id2key[modules[mod_key].id] = mod_key\n  })\n\n  // Parsing all points\n  var flowpoints = {}\n  queries.splice(2, queries.length).map(point_query => {\n    const newpoint = decodePoint(point_query, id2key, lib.getModules);\n    flowpoints[newpoint.key] = newpoint.p\n  })\n  lib['flowpoints'] = flowpoints;\n\n  // Fixing inputs n_dims\n  Object.keys(flowpoints).map(key => {\n    if (flowpoints[key].specs.title === 'Input') {\n      flowpoints[key].specs.params.n_dims.current = flowpoints[key].specs.params.dimensions.current.length;\n    }\n  })\n\n  // Returning\n  return lib\n\n}\n","//var GoogleSpreadsheet = require('google-spreadsheet');\n//var request = require('request');\nimport axios from 'axios'\n\nfunction ReplaceAll(str, search, replacement) {\n  var msg = ''\n  str.split(search).map(sub => {\n    msg += sub + replacement\n  })\n  return msg.substring(0, msg.length - replacement.length)\n}\n\nfunction num2string(num) {\n  return num.toString(36)\n}\n//AIzaSyC2xSmTdMOwyfYJNWgRI0AZolpKgPft8a0\nfunction string2num(str) {\n  return parseInt(str, 36)\n}\n// 60 12 99 24 60\nfunction getId(l) {\n  l = Math.min(20, Math.max(10, l || 15))\n  var d = new Date()\n  var n = ''\n  n += '' + d.getSeconds()\n  n += '' + d.getMonth()\n  n += '' + d.getYear().toString().substring(1)\n  n += '' + d.getHours()\n  n += '' + d.getMinutes()\n  var msg = num2string(parseInt(n))\n  const lib = 'abcdefghijklmnopqrstuvwxyz0123456789'\n  Array.from(Array(l - msg.length).keys()).map(idx => {\n    msg = lib[Math.floor(Math.random() * lib.length)] + msg;\n  })\n  return msg\n}\n\nexport function postToDB(content, cb) {\n  const mod_id = getId();\n  var url = 'https://docs.google.com/forms/d/e/1FAIpQLSfTgXs4tTJ5drC44SVHCJaJoIwogOwK6WBrGT2-s85Ndaqz_g/formResponse?usp=pp_url'\n  url += '&entry.865206380=' + mod_id;\n  url += '&entry.854684610=' + content;\n  url += '&submit=Submit'\n  axios.get(url).then(res => {})\n  cb(mod_id)\n}\n\nexport function getDB(cb) {\n  var res;\n  axios.get('https://spreadsheets.google.com/feeds/list/11Z7JHNLrE0ODKnGwU0NOblcV-OxRcbugr8ujNZDzTRA/od6/public/basic?alt=json').then(res => {\n    var lib = {}\n    res.data.feed.entry.map(entry => {\n      lib[entry.title['$t']] = entry.content['$t'].split('content: ')[1]\n    })\n    cb(lib)\n  })\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Select from 'react-select';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\n\nconst suggestions = [\n  { label: 'Afghanistan' },\n  { label: 'Aland Islands' },\n  { label: 'Albania' },\n  { label: 'Algeria' },\n  { label: 'American Samoa' },\n  { label: 'Andorra' },\n  { label: 'Angola' },\n  { label: 'Anguilla' },\n  { label: 'Antarctica' },\n  { label: 'Antigua and Barbuda' },\n  { label: 'Argentina' },\n  { label: 'Armenia' },\n  { label: 'Aruba' },\n  { label: 'Australia' },\n  { label: 'Austria' },\n  { label: 'Azerbaijan' },\n  { label: 'Bahamas' },\n  { label: 'Bahrain' },\n  { label: 'Bangladesh' },\n  { label: 'Barbados' },\n  { label: 'Belarus' },\n  { label: 'Belgium' },\n  { label: 'Belize' },\n  { label: 'Benin' },\n  { label: 'Bermuda' },\n  { label: 'Bhutan' },\n  { label: 'Bolivia, Plurinational State of' },\n  { label: 'Bonaire, Sint Eustatius and Saba' },\n  { label: 'Bosnia and Herzegovina' },\n  { label: 'Botswana' },\n  { label: 'Bouvet Island' },\n  { label: 'Brazil' },\n  { label: 'British Indian Ocean Territory' },\n  { label: 'Brunei Darussalam' },\n].map(suggestion => ({\n  value: suggestion.label,\n  label: suggestion.label,\n}));\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    height: 250,\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n      0.08,\n    ),\n  },\n  noOptionsMessage: {\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  },\n});\n\nfunction NoOptionsMessage(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.noOptionsMessage}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />;\n}\n\nfunction Control(props) {\n  return (\n    <TextField\n      fullWidth\n      InputProps={{\n        inputComponent,\n        inputProps: {\n          className: props.selectProps.classes.input,\n          inputRef: props.innerRef,\n          children: props.children,\n          ...props.innerProps,\n        },\n      }}\n      {...props.selectProps.textFieldProps}\n    />\n  );\n}\n\nfunction Option(props) {\n  return (\n    <MenuItem\n      buttonRef={props.innerRef}\n      selected={props.isFocused}\n      component=\"div\"\n      style={{\n        fontWeight: props.isSelected ? 500 : 400,\n      }}\n      {...props.innerProps}\n    >\n      {props.children}\n    </MenuItem>\n  );\n}\n\nfunction Placeholder(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.placeholder}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction SingleValue(props) {\n  return (\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction ValueContainer(props) {\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\n}\n\nfunction MultiValue(props) {\n  return (\n    <Chip\n      tabIndex={-1}\n      label={props.children}\n      className={classNames(props.selectProps.classes.chip, {\n        [props.selectProps.classes.chipFocused]: props.isFocused,\n      })}\n      onDelete={props.removeProps.onClick}\n      deleteIcon={<CancelIcon {...props.removeProps} />}\n    />\n  );\n}\n\nfunction Menu(props) {\n  return (\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n      {props.children}\n    </Paper>\n  );\n}\n\nconst components = {\n  Control,\n  Menu,\n  MultiValue,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nclass Testfield extends React.Component {\n  state = {\n    single: null,\n    multi: null,\n  };\n\n  handleChange = name => value => {\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  render() {\n    const { classes, theme } = this.props;\n\n    const selectStyles = {\n      input: base => ({\n        ...base,\n        color: theme.palette.text.primary,\n        '& input': {\n          font: 'inherit',\n        },\n      }),\n    };\n\n    return (\n      <div className={classes.root}>\n        <NoSsr>\n          <Select\n            classes={classes}\n            styles={selectStyles}\n            options={suggestions}\n            components={components}\n            value={this.state.single}\n            onChange={this.handleChange('single')}\n            placeholder=\"Search a country (start with a)\"\n            isClearable\n          />\n          <div className={classes.divider} />\n          <Select\n            classes={classes}\n            styles={selectStyles}\n            textFieldProps={{\n              label: 'Label',\n              InputLabelProps: {\n                shrink: true,\n              },\n            }}\n            options={suggestions}\n            components={components}\n            value={this.state.multi}\n            onChange={this.handleChange('multi')}\n            placeholder=\"Select multiple countries\"\n            isMulti\n          />\n        </NoSsr>\n      </div>\n    );\n  }\n}\n\nTestfield.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(Testfield);\n","import React, { Component } from 'react';\nimport './App.css';\n\nimport { Flowpoint, Flowspace } from 'flowpoints';\nimport { FlowOrder } from './sidebar/FlowOrder.js';\nimport { PyTorchParser } from './sidebar/parsers/Parsers.js';\nimport { PyTorchModules } from './libraries/pytorch.js';\nimport { Sidebar } from './sidebar/Sidebar.js';\nimport { parseToQuery, parseFromQuery } from './URLparser.js';\nimport { postToDB, getDB } from './DBhandler.js';\n\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport LinkIcon from '@material-ui/icons/Link';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\n\nimport green from '@material-ui/core/colors/green';\nimport red from '@material-ui/core/colors/red';\nimport grey from '@material-ui/core/colors/grey';\nimport blue from '@material-ui/core/colors/blue';\nimport indigo from '@material-ui/core/colors/indigo';\nimport deepPurple from '@material-ui/core/colors/deepPurple';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport teal from '@material-ui/core/colors/teal';\nimport blueGrey from '@material-ui/core/colors/blueGrey';\n\nimport copy from 'copy-to-clipboard';\n\nimport Testfield from './sidebar/Testfield.js';\n\nfunction Clone(obj) {\n  if (Array.isArray(obj)) return obj.map(tmp => Clone(tmp))\n  if (typeof obj === 'object') {\n    var new_obj = {}\n    Object.keys(obj).map(key => new_obj[key] = Clone(obj[key]))\n    return new_obj\n  }\n  return obj\n}\n\nfunction shapeBox(shape) {\n  var msg = '['\n  shape.map(val => {\n    msg += val + ','\n  })\n  if (shape.length > 0) msg = msg.substring(0, msg.length - 1)\n  msg += ']'\n  return (\n    <div style={{textAlign:'center', paddingBottom:'10px'}}>\n      {\n        msg\n      }\n    </div>\n  )\n}\n\nfunction ReplaceAll(str, search, replacement) {\n  var newstr = ''\n  str.split(search).map(val => {newstr += val + replacement})\n  return newstr.substring(0, newstr.length - replacement.length)\n}\n\n\n//mariusbrataas.github.io/flowpoints_ml/?p=load?PDT_9_41e2f4_4164f4_0&This%20is&9&9&&3aa,4aa,5aa,6aa,8aa&1%1,2_1&how%20I&9&g&&3aa,4aa,5aa,6aa,8aa&1%1,2_3&imagine&12&l&0&6aa,8aa&t,1,1_4&learning&12&z&0&1aa,6aa,8aa&t,1,1_5&deep&12&s&0&6aa,8aa&t,1,1_6&models%20in&1v&13&0&&t,1,1_8&my%20mind&1v&1a&0&&t,1,1\n//mariusbrataas.github.io/flowpoints_ml/?p=load?PDT_9_41e2f4_4164f4_0&This%20is&&3aa%2C4aa%2C5aa%2C6aa%2C8aa&1%251%2C2_1&how%20I&g&1%251%2C2_3&imagine&l&6aa%2C8aa&t%2C1%2C1_4&learning&z&1aa%2C6aa%2C8aa&t%2C1%2C1_5&deep&s&t%2C1%2C1_6&models%20in&1v&t%2C1%2C1_8&my%20mind&1a&t%2C1%2C1\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lastPos: {x:50, y:-40},\n      code: '',\n      selected: null,\n      count: 0,\n      flowpoints: {},\n      current_url: '',\n      url: '',\n      settings:{\n        tab: 'Settings',\n        theme: 'indigo',\n        background: 'black',\n        variant:'outlined',\n        drawerWidth: 350,\n        darktheme: true,\n        showShape: false,\n        showName: false,\n        showSidebar: true,\n        avoidCollisions: true,\n        snackshow: false,\n        snackmsg: 'Hello world',\n        snackcolor: green['A700'],\n        modelUrl: null\n      },\n      environment: {\n        library: 'PyTorch',\n        libraries: [ 'PyTorch' ],\n        getModules: PyTorchModules\n      }\n    }\n\n    // Helpers\n    this.baseUrl = window.location.href.split('/?')[0]\n    if (this.baseUrl[this.baseUrl.length - 1] !== '/') this.baseUrl += '/'\n    this.lib = {}\n\n    // Binding class methods\n    this.addFlowpoint = this.addFlowpoint.bind(this);\n    this.handleClickPoint = this.handleClickPoint.bind(this);\n    this.deleteSelected = this.deleteSelected.bind(this);\n    this.prepCode = this.prepCode.bind(this);\n    this.prepOutputShapes = this.prepOutputShapes.bind(this);\n    this.updatePointSettings = this.updatePointSettings.bind(this);\n\n  }\n\n\n  componentDidMount() {\n    var query = window.location.href.split(this.baseUrl)[1]\n\n    if (query.includes('p=')) {\n\n      // Snack message\n      var settings = this.state.settings;\n      settings.snackshow = true;\n      settings.snackmsg = 'Trying to load model';\n      settings.snackcolor = blue['A700'];\n      settings.modelUrl = this.baseUrl + query.substring(0, 18)\n      this.setState({settings})\n\n      try {\n\n        getDB(data => {\n\n          query = query.split('?p=')[1]\n          query = data[query]\n\n          if (query) {\n            query = ReplaceAll(query, 'lll', '.')\n            var newlib = parseFromQuery(query)\n\n            // Updating settings and env\n            settings = this.state.settings;\n            var environment = this.state.environment;\n            settings.darktheme = newlib.darktheme;\n            settings.showName = newlib.showName;\n            settings.theme = newlib.theme;\n            settings.background = newlib.background;\n            settings.variant = newlib.variant;\n            settings.showSidebar = newlib.showSidebar;\n            environment.library = newlib.library;\n\n            // Snack message\n            settings.snackshow = true;\n            settings.snackmsg = 'Loaded model from URL';\n            settings.snackcolor = green['A700'];\n\n            // Updating self\n            this.setState({\n              count:newlib.count,\n              flowpoints:newlib.flowpoints,\n              settings:settings,\n              environment:environment\n            }, () => {\n              this.prepOutputShapes();\n              this.prepCode();\n            })\n\n          }\n\n        })\n\n      } catch(err) {\n        console.log(err)\n        var settings = this.state.settings;\n        settings.snackshow = true;\n        settings.snackmsg = 'Failed to load from URL';\n        settings.snackcolor = red['A400'];\n        this.setState({ settings });\n      }\n\n    } else {\n      this.prepOutputShapes();\n      this.prepCode();\n    }\n  }\n\n\n  prepCode() {\n\n    // Selecting parser\n    var parser = null;\n    if (this.state.environment.library === 'PyTorch') parser = PyTorchParser;\n\n    // Parsing code and updating state\n    this.setState({ code:parser(this.state.flowpoints, this.lib, this.state.settings.modelUrl) + '\\n\\n\\n' })\n\n  }\n\n\n  prepOutputShapes() {\n\n    // Helper\n    var flowpoints = this.state.flowpoints;\n\n    // Getting floworder and updating lib\n    this.lib = FlowOrder(flowpoints)\n\n    // Setting output-shapes of inputs\n    var visited = []\n    this.lib.order.map(key => {\n      if (this.lib.lib[key].specTitle === 'Input') {\n        flowpoints[key].output_shape = flowpoints[key].specs.outshape(null, flowpoints[key].specs.params)\n        visited.push(key)\n      }\n    })\n\n    // Setting all output-shapes\n    this.lib.order.map(key => {\n      if (!visited.includes(key)) {\n        var bestInp = null\n        Object.keys(this.lib.lib[key].inputs).map(inp_key => {\n          if (visited.includes(inp_key)) bestInp = inp_key\n        })\n        flowpoints[key].specs.params = flowpoints[key].specs.autoparams(flowpoints[bestInp].output_shape, flowpoints[key].specs.params)\n        flowpoints[key].output_shape = flowpoints[key].specs.outshape(flowpoints[bestInp].output_shape, flowpoints[key].specs.params)\n        visited.push(key)\n      }\n    })\n\n    // Updating state\n    this.setState({ flowpoints })\n\n  }\n\n\n  updatePointSettings(key, settings) {\n    var flowpoints = this.state.flowpoints;\n    flowpoints[key] = settings;\n    this.setState({ flowpoints });\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  deleteSelected() {\n    var flowpoints = this.state.flowpoints;\n    delete flowpoints[this.state.selected]\n    Object.keys(flowpoints).map(test_key => {\n      if (this.state.selected in flowpoints[test_key].outputs) {\n        delete flowpoints[test_key].outputs[this.state.selected];\n      }\n    })\n    this.setState({flowpoints, selected:null});\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  addFlowpoint() {\n    var flowpoints = this.state.flowpoints;\n    flowpoints['' + this.state.count] = {\n      name: '',\n      output_shape: [],\n      pos: {x:this.state.lastPos.x, y:this.state.lastPos.y + 90},\n      outputs: {},\n      isHover: false,\n      specs: this.state.environment.getModules().linear\n    }\n    if (this.state.selected) {\n      flowpoints[this.state.selected].outputs['' + this.state.count] = {\n        output:'auto',\n        input:'auto'\n      }\n    }\n    this.setState({ flowpoints, count:this.state.count + 1, lastPos:{x:this.state.lastPos.x, y:this.state.lastPos.y + 90}, selected:'' + (this.state.count) })\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  handleClickPoint(key, e) {\n    var selected = this.state.selected\n    var flowpoints = this.state.flowpoints\n    if (e.shiftKey) {\n      if (selected === null) {\n        selected = key\n      } else {\n        if (selected !== key) {\n          var p1 = flowpoints[selected]\n          if (key in p1.outputs) {\n            delete p1.outputs[key]\n          } else {\n            p1.outputs[key] = {\n              output:'auto',\n              input:'auto',\n              onClick:this.handleClickLine\n            }\n          }\n        }\n      }\n    } else {\n      selected = (selected === null ? key : (selected === key ? null : key))\n    }\n    this.setState({selected, flowpoints})\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  render() {\n    return (\n      <div style={{backgroundColor: (this.state.settings.darktheme ? 'black' : 'white')}}>\n\n        <Sidebar\n          selected={this.state.selected}\n          open={this.state.settings.showSidebar}\n          flowpoints={this.state.flowpoints}\n          settings={this.state.settings}\n          environment={this.state.environment}\n          refresh={() => {return this.state}}\n          updateSettings={(settings) => {this.setState({settings})}}\n          updateEnv={(environment) => {this.setState({environment})}}\n          deleteSelected={this.deleteSelected}\n          darktheme={this.state.settings.darktheme}\n          code={this.state.code}\n          updatePointSettings={this.updatePointSettings}/>\n\n        <Flowspace\n          theme={this.state.settings.theme}\n          variant={this.state.settings.variant}\n          background={this.state.settings.darktheme ? 'black' : 'white'}\n          selected={this.state.selected}\n          avoidCollisions={this.state.settings.avoidCollisions}\n          onClick={e => {this.setState({ selected:null })}}\n          style={{\n            height:'100vh',\n            width:'100vw',\n            marginLeft:this.state.settings.drawerWidth * this.state.settings.showSidebar + 'px',\n            transition:['margin-left 0.4s ease-out','background-color 0.2s ease-out']\n          }}>\n          {\n            Object.keys(this.state.flowpoints).map(key => {\n              const point = this.state.flowpoints[key];\n              return (\n                <Flowpoint\n                  key={key}\n                  snap={{ x:10, y:10 }}\n                  startPosition={point.pos}\n                  outputs={point.outputs}\n                  onClick={(e) => {\n                    this.handleClickPoint(key, e);\n                  }}\n                  onDrag={pos => {\n                    var flowpoints = this.state.flowpoints;\n                    flowpoints[key].pos = pos;\n                    this.setState({ flowpoints, lastPos:pos })\n                  }}\n                  style={{\n                    height:'auto',\n                    maxHeight: this.state.settings.showShape ? 150 : 50\n                  }}>\n                  <div style={{height:'auto'}}>\n                    <div style={{display:'table', width:'100%', height:'50px'}}>\n                      <div style={{display:'table-cell', verticalAlign:'middle', textAlign:'center'}}>\n                        {\n                          this.state.settings.showName ? (point.name !== '' ? point.name : ('p_' + key)) : point.specs.title\n                        }\n                      </div>\n                    </div>\n                    {\n                      this.state.settings.showShape ? shapeBox(point.output_shape) : null\n                    }\n                  </div>\n                </Flowpoint>\n              )\n            })\n          }\n        </Flowspace>\n\n        <div style={{\n            bottom:'5px',\n            left:this.state.settings.drawerWidth * this.state.settings.showSidebar + 5 + 'px',\n            position:'fixed',\n            transition: 'left 0.4s ease-out'\n          }}>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:lightBlue['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Add\"\n              onClick={() => {this.addFlowpoint()}}>\n              <AddIcon />\n            </Fab>\n          </div>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:blue['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Copy code\"\n              onClick={() => {\n                copy(this.state.code)\n                var settings = this.state.settings;\n                settings.snackshow = true;\n                settings.snackmsg = 'Copied code to clipboard';\n                settings.snackcolor = blue['A400'];\n                this.setState({settings})\n              }}>\n              <FileCopyIcon />\n            </Fab>\n          </div>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:indigo['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Copy code\"\n              onClick={() => {\n                var new_url = parseToQuery(\n                  this.state.flowpoints,\n                  this.state.settings.theme,\n                  this.state.settings.variant,\n                  this.state.settings.background,\n                  this.state.count,\n                  this.state.settings.darktheme,\n                  this.state.settings.showName,\n                  this.state.environment.library,\n                  this.state.settings.showSidebar\n                )\n                new_url = ReplaceAll(new_url, '.', 'lll')\n                postToDB(new_url, (mod_id) => {\n                  new_url = this.baseUrl + '?p=' + mod_id;\n                  copy(new_url)\n                  var settings = this.state.settings;\n                  settings.snackshow = true;\n                  settings.snackmsg = 'Copied link to clipboard';\n                  settings.snackcolor = indigo['A400'];\n                  settings.modelUrl = new_url\n                  this.setState({settings})\n                })\n              }}>\n              <LinkIcon />\n            </Fab>\n          </div>\n          <div>\n            <Fab\n              style={{background:deepPurple['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Hide/Show\"\n              onClick={() => {\n                var settings = this.state.settings;\n                settings.showSidebar = !settings.showSidebar;\n                this.setState({settings})\n              }}>\n              <MenuIcon />\n            </Fab>\n          </div>\n        </div>\n\n        <Snackbar\n          autoHideDuration={3000}\n          onClose={() => {\n            var settings = this.state.settings;\n            settings.snackshow = false\n            this.setState({ settings })\n          }}\n          anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}\n          open={this.state.settings.snackshow}>\n          <SnackbarContent\n            message={this.state.settings.snackmsg}\n            style={{backgroundColor:this.state.settings.snackcolor, color:'black'}}/>\n        </Snackbar>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}