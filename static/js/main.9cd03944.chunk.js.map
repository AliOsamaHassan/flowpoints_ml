{"version":3,"sources":["sidebar/FlowOrder.js","sidebar/parsers/pytorch/PyTorchParser.js","libraries/pytorch.js","sidebar/TabContainer.js","sidebar/SuggestiveField.js","sidebar/Sidebar.js","URLparser.js","DBhandler.js","sidebar/Testfield.js","App.js","serviceWorker.js","index.js"],"names":["getPointName","lib","key","p","name","replace","recursive_getOrder","myKey","order","depth","maxDepth","me","visited","ready","Object","keys","inputs","map","isReady","includes","push","outputs","out_key","getStateNames","states","idx","specTitle","lastUser","target_key","maxIndex","test_key","index","Math","max","getLastUser","length","FlowOrder","flowpoints","n_inputs","specs","title","ref","params","downstreamVisited","statename","needState","console","log","prepPoints","inp_key","PyTorchParser","addflatten","msg","max_l","param_key","i","type","current","val","substring","Constructor","Forward","pointcode","SaveLoad","PyTorchModules","input","n_dims","min","Infinity","dimensions","autoparams","inp","outshape","linear","id","in_features","out_features","bias","out_shape","flatten","features","round","conv1d","in_channels","out_channels","kernel_size","stride","padding","dilation","groups","L_in","L_out","floor","conv2d","H_in","W_in","H_out","W_out","conv3d","D_in","D_out","maxpool1d","return_indices","ceil_mode","maxpool2d","maxpool3d","batchnorm1d","num_features","eps","momentum","affine","track_running_stats","batchnorm2d","batchnorm3d","groupnorm","num_groups","num_channels","instancenorm1d","instancenorm2d","instancenorm3d","rnn","input_size","hidden_size","num_layers","nonlinearity","options","batch_first","dropout","bidirectional","lstm","gru","rnncell","lstmcell","grucell","inplace","dropout2d","dropout3d","alphadropout","elu","alpha","hardshrink","lambd","hardtanh","min_val","max_val","leakyrelu","negative_slope","logsigmoid","prelu","num_parameters","init","relu","relu6","rrelu","lower","upper","selu","celu","sigmoid","softplus","beta","threshold","softshrink","softsign","tanh","tanhshrink","value","softmin","dim","softmax","softmax2d","logsoftmax","TabContainer","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","undefined","tab","tabs","indexOf","_this2","classes","width","ceil","react_default","a","createElement","className","root","style","overflow","Tabs_default","onChange","e","setState","onSelectTab","textColor","tabsRoot","indicator","tabsIndicator","scrollButtons","Tab_default","disableRipple","tabRoot","selected","tabSelected","label","React","Component","withStyles","theme","flexGrow","borderBottom","backgroundColor","textTransform","minWidth","fontWeight","typography","fontWeightRegular","marginRight","spacing","unit","fontFamily","join","&:hover","color","opacity","&$tabSelected","&:focus","inputComponent","_ref","inputRef","objectWithoutProperties","assign","components","Control","TextField_default","fullWidth","InputProps","inputProps","objectSpread","selectProps","innerRef","children","innerProps","textFieldProps","Menu","Paper_default","square","paper","MultiValue","Chip_default","tabIndex","classNames","chip","defineProperty","chipFocused","isFocused","onDelete","removeProps","onClick","deleteIcon","Cancel_default","NoOptionsMessage","Typography_default","noOptionsMessage","Option","MenuItem_default","buttonRef","component","isSelected","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","SuggestiveField","_React$Component","opt","inherits","createClass","_this$props","selectStyles","base","palette","text","primary","& input","font","NoSsr_default","react_select_esm","styles","isClearable","height","display","flexWrap","flex","alignItems","margin","concat","emphasize","grey","fontSize","position","left","zIndex","marginTop","right","divider","withTheme","darktheme","createMuiTheme","useNextVariants","lighttheme","github","hljs","background","SettingsTab","env","environment","FormControl_default","InputLabel_default","htmlFor","Select_default","library","refresh","target","updateEnv","libraries","libname","paddingTop","r","t","tmp","FormControlLabel_default","control","Switch_default","checked","settings","updateSettings","CodeTab","codetheme","atelierForestDark","default_highlight","language","showLineNumbers","code","FlowpointTab","point","fields","int","double","bool","tuple","select","variant","paddingRight","splice","Array","from","updatePointSettings","paramkey","param","opt_val","opt_idx","modules","getModules","title2key","mod_key","sidebar_SuggestiveField","IconButton_default","aria-label","red","marginLeft","deleteSelected","Delete_default","verticalAlign","textAlign","Sidebar","core_styles","Drawer_default","anchor","open","class","maxWidth","drawerWidth","gutterBottom","sidebar_TabContainer","Sidebar_SettingsTab","Sidebar_CodeTab","Sidebar_FlowpointTab","lvls","0","1","2","3","num2string","num","toString","string2num","str","parseInt","decodeParams","queries","split","sort","pkey","q","pval","pidx","decodeOutputs","pos2title","l","b","query","output","encodePoint","pos","x","y","encodeOutputs","encodeParams","parseFromQuery","key2lib","P","showName","showSidebar","count","inputColor","outputColor","id2key","point_query","newpoint","output_shape","isHover","decodePoint","postToDB","content","cb","url","d","Date","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","random","getId","axios","get","then","res","suggestions","suggestion","Testfield","single","multi","handleChange","InputLabelProps","shrink","isMulti","ReplaceAll","search","replacement","newstr","App","lastPos","current_url","showShape","avoidCollisions","snackshow","snackmsg","snackcolor","green","baseUrl","window","location","href","addFlowpoint","bind","assertThisInitialized","handleClickPoint","prepCode","prepOutputShapes","blue","data","newlib","feed","entry","err","parser","_this3","bestInp","_this4","p1","_this5","Sidebar_Sidebar","dist","transition","snap","startPosition","noShadow","onDrag","maxHeight","borderStyle","borderColor","borderWidth","borderRadius","shape","paddingBottom","shapeBox","bottom","Fab_default","lightBlue","boxShadow","Add_default","copy","FileCopy_default","indigo","new_url","showNames","parseToQuery","Link_default","deepPurple","Menu_default","Snackbar_default","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","SnackbarContent_default","message","Boolean","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"wTAGO,SAASA,EAAaC,EAAKC,GAChC,IAAMC,EAAIF,EAAIC,GACd,OAAmB,KAAXC,EAAEC,KAAe,KAAOF,EAAOC,EAAEC,MAAMC,QAAQ,KAAM,KA0G/D,SAASC,EAAmBL,EAAKM,EAAOC,EAAOC,EAAOC,GAGpD,IAAIC,EAAKV,EAAIM,GAEb,GAAII,EAAI,CAEN,GAAIA,EAAGC,QAAS,OAAOJ,EAGvBG,EAAGE,MAnBP,SAAiBZ,EAAKM,GACpB,IAAIM,GAAQ,EAIZ,OAHAC,OAAOC,KAAKd,EAAIM,GAAOS,QAAQC,IAAI,SAAAf,GAC5BD,EAAIC,GAAKW,QAAOA,GAAQ,KAExBA,EAcMK,CAAQjB,EAAKM,GAGpBI,EAAGE,QACLF,EAAGC,SAAU,EACRJ,EAAMW,SAASZ,IAAQC,EAAMY,KAAKb,GACvCO,OAAOC,KAAKJ,EAAGU,SAASJ,IAAI,SAAAK,GAC1Bd,EAAQF,EAAmBL,EAAKqB,EAASd,EAAOC,EAAQ,EAAGC,MAMjE,OAAOF,EAcT,SAASe,EAActB,EAAKO,GAC1B,IAAIgB,EAAS,GAYb,OAXAhB,EAAMS,IAAI,SAACf,EAAKuB,GACd,IAAMtB,EAAIF,EAAIC,GACRA,KAAOsB,IACXA,EAAOtB,GAAOF,EAAaC,EAAKC,IAAwB,UAAhBC,EAAEuB,UAAwB,GAAK,WAEzE,IAAMC,EAhBV,SAAqB1B,EAAKO,EAAOoB,GAC/B,IAAIC,GAAY,EAIhB,OAHArB,EAAMS,IAAI,SAACa,EAAUC,GACfH,KAAc3B,EAAI6B,GAAUd,SAAQa,EAAWG,KAAKC,IAAIJ,EAAUE,MAEjEvB,EAAMqB,GAWMK,CAAYjC,EAAKO,EAAON,GACrCyB,IACFH,EAAOG,GAAYH,EAAOtB,MAG9BsB,EAAOhB,EAAMA,EAAM2B,OAAS,IAAM,aAC3BX,EAIF,SAASY,EAAUC,GAGxB,IAAI7B,EAAQ,GACRQ,EAAS,GAITf,EApKN,SAAoBoC,GAGlB,IAAIC,EAAW,EACXrC,EAAM,GAyCV,OAtCAa,OAAOC,KAAKsB,GAAYpB,IAAI,SAAAf,GAC1B,IAAMC,EAAIkC,EAAWnC,GACrBD,EAAIC,GAAO,CACTwB,UAAWvB,EAAEoC,MAAMC,MACnBxB,OAAQ,GACRK,QAAS,GACTjB,KAAMD,EAAEC,KACRqC,IAAKtC,EAAEoC,MAAME,IACbC,OAAQvC,EAAEoC,MAAMG,OAChBX,MAAO,KACPnB,SAAS,EACT+B,mBAAmB,EACnB9B,OAAO,EACP+B,UAAW,KACXC,WAAW,GAES,UAAlB1C,EAAEoC,MAAMC,QACVvC,EAAIC,GAAK6B,MAAQO,EACjBrC,EAAIC,GAAKW,OAAQ,EACjBZ,EAAIC,GAAK0C,UAAwB,KAAXzC,EAAEC,KAAe,SAAWkC,EAAYnC,EAAEC,KAChEkC,GAAsB,KAK1BxB,OAAOC,KAAKsB,GAAYpB,IAAI,SAAAf,GAC1B,IAAIC,EAAIF,EAAIC,GACZY,OAAOC,KAAKsB,EAAWnC,GAAKmB,SAASJ,IAAI,SAAAK,GACvCnB,EAAEkB,QAAQC,GAAWrB,EAAIqB,GACnBA,KAAWrB,EAGfA,EAAIqB,GAASN,OAAOd,GAAOD,EAAIC,GAF/B4C,QAAQC,IAAIzB,EAASrB,OAQpBA,EAuHG+C,CAAWX,GAGrBvB,OAAOC,KAAKd,GAAKgB,IAAI,SAAAf,GACfD,EAAIC,GAAKW,QACXL,EAAMY,KAAKlB,GACXc,EAAOd,GAAOD,EAAIC,MAKtBY,OAAOC,KAAKC,GAAQC,IAAI,SAAAgC,GACtBzC,EAAQF,EAAmBL,EAAKgD,EAASzC,EAAO,EAAG,OAIrD,IAAIgB,EAASD,EAActB,EAAKO,GAGhC,MAAO,CAAEP,IAAIA,EAAKO,MAAMA,EAAOgB,OAAOA,EAAQR,OAAOF,OAAOC,KAAKC,IC2F5D,SAASkC,EAAcb,EAAYpC,GAGxC,IAAIkD,GAAa,EACjBrC,OAAOC,KAAKsB,GAAYpB,IAAI,SAAAf,GACU,YAAhCmC,EAAWnC,GAAKqC,MAAMC,QAAqBW,GAAa,KAI9D,IAAM3C,EAAQP,EAAIO,MACZgB,EAASvB,EAAIuB,OACbR,EAASf,EAAIe,OAGfoC,EA/RJA,wJAgTA,OAhBAA,GAAO,oLAGHD,IAAYC,GAAO,sMAGvBA,GAAO,SApRT,SAAqBf,EAAY7B,GAG/B,IAAI4C,EAAM,UA0DV,OAzDAA,GAAO,iCACPA,GAAO,iHACPA,GAAO,uBACPA,GAAO,+CACPA,GAAO,yBACPA,GAAO,wCACPA,GAAO,mCACPA,GAAO,oCACPA,GAAO,wCACPA,GAAO,0BACPA,GAAO,4GACPA,GAAO,8CACPA,GAAO,qCACPA,GAAO,qCACPA,GAAO,sCACPA,GAAO,sCACPA,GAAO,sBACPA,GAAO,8BAGPA,GAAO,mCACP5C,EAAMS,IAAI,SAAAf,GACR,IAAIC,EAAIkC,EAAWnC,GACnB,GAAsB,UAAlBC,EAAEoC,MAAMC,MAAmB,CAG7B,IAAIa,EAAQ,EACZvC,OAAOC,KAAKZ,EAAEoC,MAAMG,QAAQzB,IAAI,SAAAqC,GAAcD,EAAQrB,KAAKC,IAAIqB,EAAUnB,OAAQkB,KAGjFD,GAAO,kBAAoBpD,EAAaqC,EAAYnC,GAAO,MAAQC,EAAEoC,MAAME,IAAM,IAGjF3B,OAAOC,KAAKZ,EAAEoC,MAAMG,QAAQzB,IAAI,SAAAqC,GAC9BF,GAAO,iBAAmBE,EAC1B,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAQC,EAAUnB,OAAQoB,IAAKH,GAAO,IAC1DA,GAAO,MACgC,UAAnCjD,EAAEoC,MAAMG,OAAOY,GAAWE,MAC5BJ,GAAO,IACPjD,EAAEoC,MAAMG,OAAOY,GAAWG,QAAQxC,IAAI,SAAAyC,GAAQN,GAAOM,EAAM,MAC3DN,EAAMA,EAAIO,UAAU,EAAGP,EAAIjB,OAAS,GAAK,KACG,WAAnChC,EAAEoC,MAAMG,OAAOY,GAAWE,KACnCJ,GAAO,IAAMjD,EAAEoC,MAAMG,OAAOY,GAAWG,QAAU,IAEjDL,GAAOjD,EAAEoC,MAAMG,OAAOY,GAAWG,UAGjCJ,EAAQ,IAAGD,GAAO,cACtBA,GAAO,OAKXA,GAAO,yCACPA,GAAO,oCA0NWQ,CAAYvB,EAAY7B,GAC1C4C,GAAO,wKACPA,GAAO,SAzMT,SAAiBnD,EAAKuB,EAAQhB,EAAOQ,GACnC,IAAIoC,EAAM,mBAqBV,OAlBApC,EAAOC,IAAI,SAAAf,GAASkD,GAAO5B,EAAOtB,GAAO,OACzCkD,EAAMA,EAAIO,UAAU,EAAGP,EAAIjB,OAAS,GAAK,KAGzC3B,EAAMS,IAAI,SAAAf,GACR,IAAMC,EAAIF,EAAIC,GACQ,UAAhBC,EAAEuB,YACN0B,GAAO,aAAe5B,EAAOtB,GAAO,MACpCkD,GAAOpD,EAAaC,EAAKC,GAAO,IAChCY,OAAOC,KAAKZ,EAAEa,QAAQC,IAAI,SAAAgC,GAAaG,GAAO5B,EAAOyB,GAAW,QAChEG,EAAMA,EAAIO,UAAU,EAAGP,EAAIjB,OAAS,GAAK,OAAShC,EAAEuB,aAKxD0B,GAAO,8BAsLWS,CAAQ5D,EAAIA,IAAKuB,EAAQhB,EAAOQ,GAClDoC,GAAO,g8BACPA,GAAO,q0BACPA,GAAO,spCACPA,GAAO,wYACPA,GAAO,SAxFT,SAAkBnD,EAAKO,GACrB,IAAI4C,EAAM,wCA4CV,OA3CAA,GAAO,kDACPA,GAAO,yBACP5C,EAAMS,IAAI,SAAAf,GAER,GAA0B,UADZD,EAAIC,GACNwB,UAAwB,CAClC,IAAMoC,EAAY9D,EAAaC,EAAKC,GACpCkD,GAAO,kBAAoBU,EAAY,WAAaA,EAAY,OAGpEV,GAAO,oDACPA,GAAO,oDACPA,GAAO,yDACPA,GAAO,yDACPA,GAAO,oDACPA,GAAO,+CACPA,GAAO,mDACPA,GAAO,iDACPA,GAAO,qBACPA,GAAO,0BACPA,GAAO,oCACPA,GAAO,kDACPA,GAAO,0CACPA,GAAO,gCACPA,GAAO,sDACPA,GAAO,iDACPA,GAAO,qDACPA,GAAO,mDACPA,GAAO,cACP5C,EAAMS,IAAI,SAAAf,GAER,GAA0B,UADZD,EAAIC,GACNwB,UAAwB,CAClC,IAAMoC,EAAY9D,EAAaC,EAAKC,GACpCkD,GAAO,mBAAqBU,EAAY,kBAAoBA,EAAY,QAG5EV,GAAO,6DACPA,GAAO,6DACPA,GAAO,kEACPA,GAAO,kEACPA,GAAO,qCACPA,GAAO,yBA8CWW,CAAS9D,EAAIA,IAAKO,GCrT/B,SAASwD,IACd,MAAO,CACLC,MAAO,CACLzB,MAAO,QACPE,OAAQ,CACNwB,OAAQ,CAAEC,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvCY,WAAY,CAAEb,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAE,KAE9Da,WAAY,SAACC,EAAKpE,GAChB,OAAOA,GAETqE,SAAU,SAACD,EAAKpE,GACd,OAAOA,EAAEkE,WAAWZ,UAGxBgB,OAAQ,CACNjC,MAAO,SACPC,IAAK,YACLiC,GAAI,EACJhC,OAAQ,CACNiC,YAAa,CAACnB,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDmB,aAAc,CAAEpB,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzDoB,KAAM,CAAErB,KAAK,OAAQC,QAAQ,SAE/Be,SAAU,SAACD,EAAKpE,GACd,IAAIsB,EAAM,EACNqD,EAAYP,EAAItD,IAAI,SAACyC,EAAK3B,GAE5B,OADAN,EAAMM,EACC2B,IAGT,OADAoB,EAAUrD,GAAOtB,EAAEyE,aAAanB,QACzBqB,GAETR,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEwE,YAAYlB,QAAUc,EAAIA,EAAIpC,OAAS,GAClChC,IAGX4E,QAAS,CACPvC,MAAO,UACPC,IAAK,UACLiC,GAAI,EACJhC,OAAQ,GACR8B,SAAU,SAACD,EAAKpE,GACd,IAAI6E,EAAW,EAAET,EAAI,GAErB,OADAA,EAAItD,IAAI,SAAAyC,GAAQsB,GAAYtB,IACrB,CAACa,EAAI,GAAIvC,KAAKiD,MAAMD,KAE7BV,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGX+E,OAAQ,CACN1C,MAAO,SACPC,IAAK,YACLiC,GAAI,EACJhC,OAAQ,CACNyC,YAAa,CAAE3B,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACxD2B,aAAc,CAAE5B,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzD4B,YAAa,CAAE7B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,IAC3D6B,OAAQ,CAAE9B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,IACtD8B,QAAS,CAAE/B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,IACvD+B,SAAU,CAAEhC,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,IACxDgC,OAAQ,CAAEjC,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACnDoB,KAAM,CAAErB,KAAM,OAAQC,QAAQ,SAEhCe,SAAU,SAACD,EAAKpE,GACd,IAAMuF,EAAOnB,EAAI,GACXoB,EAAQ3D,KAAK4D,MAAM,GAAKF,EAAO,EAAIvF,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IAC/I,MAAO,CAACc,EAAI,GAAIpE,EAAEiF,aAAa3B,QAAQA,QAASkC,IAElDrB,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEgF,YAAY1B,QAAUc,EAAI,GACrBpE,IAGX0F,OAAQ,CACNrD,MAAO,SACPC,IAAK,YACLiC,GAAI,EACJhC,OAAQ,CACNyC,YAAa,CAAE3B,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACxD2B,aAAc,CAAE5B,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzD4B,YAAa,CAAE7B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,IAC9D6B,OAAQ,CAAE9B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,IACzD8B,QAAS,CAAE/B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,IAC1D+B,SAAU,CAAEhC,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,IAC3DgC,OAAQ,CAAEjC,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACnDoB,KAAM,CAAErB,KAAM,OAAQC,QAAQ,SAEhCe,SAAU,SAACD,EAAKpE,GACd,IAAM2F,EAAOvB,EAAI,GACXwB,EAAOxB,EAAI,GACXyB,EAAQhE,KAAK4D,MAAM,GAAKE,EAAO,EAAI3F,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IACzIwC,EAAQjE,KAAK4D,MAAM,GAAKG,EAAO,EAAI5F,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IAC/I,MAAO,CAACc,EAAI,GAAIpE,EAAEiF,aAAa3B,QAASuC,EAAOC,IAEjD3B,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEgF,YAAY1B,QAAUc,EAAI,GACrBpE,IAGX+F,OAAQ,CACN1D,MAAO,SACPC,IAAK,YACLiC,GAAI,EACJhC,OAAQ,CACNyC,YAAa,CAAE3B,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACxD2B,aAAc,CAAE5B,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzD4B,YAAa,CAAE7B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,EAAG,IACjE6B,OAAQ,CAAE9B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,EAAG,IAC5D8B,QAAS,CAAE/B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,EAAG,IAC7D+B,SAAU,CAAEhC,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,EAAG,IAC9DgC,OAAQ,CAAEjC,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACnDoB,KAAM,CAAErB,KAAM,OAAQC,QAAQ,SAEhCe,SAAU,SAACD,EAAKpE,GACd,IAAMgG,EAAO5B,EAAI,GACXuB,EAAOvB,EAAI,GACXwB,EAAOxB,EAAI,GACX6B,EAAQpE,KAAK4D,MAAM,GAAKO,EAAO,EAAIhG,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IACzIuC,EAAQhE,KAAK4D,MAAM,GAAKE,EAAO,EAAI3F,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IACzIwC,EAAQjE,KAAK4D,MAAM,GAAKG,EAAO,EAAI5F,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IAC/I,MAAO,CAACc,EAAI,GAAIpE,EAAEiF,aAAa3B,QAAS2C,EAAOJ,EAAOC,IAExD3B,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEgF,YAAY1B,QAAUc,EAAI,GACrBpE,IAGXkG,UAAW,CACT7D,MAAO,YACPC,IAAK,eACLiC,GAAI,EACJhC,OAAQ,CACN2C,YAAa,CAAE7B,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACxD6B,OAAQ,CAAE9B,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACnD8B,QAAS,CAAE/B,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACpD+B,SAAU,CAAEhC,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACrD6C,eAAgB,CAAE9C,KAAM,OAAQC,QAAQ,SACxC8C,UAAW,CAAE/C,KAAM,OAAQC,QAAQ,UAErCe,SAAU,SAACD,EAAKpE,GACd,IAAMuF,EAAOnB,EAAI,GACXoB,EAAQ3D,KAAK4D,MAAM,GAAKF,EAAO,EAAIvF,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IAC/I,MAAO,CAACc,EAAI,GAAIA,EAAI,GAAIoB,IAE1BrB,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXqG,UAAW,CACThE,MAAO,YACPC,IAAK,eACLiC,GAAI,EACJhC,OAAQ,CACN2C,YAAa,CAAE7B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,IAC9D6B,OAAQ,CAAE9B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,IACzD8B,QAAS,CAAE/B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,IAC1D+B,SAAU,CAAEhC,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,IAC3D6C,eAAgB,CAAE9C,KAAM,OAAQC,QAAQ,SACxC8C,UAAW,CAAE/C,KAAM,OAAQC,QAAQ,UAErCe,SAAU,SAACD,EAAKpE,GACd,IAAM2F,EAAOvB,EAAI,GACXwB,EAAOxB,EAAI,GACXyB,EAAQhE,KAAK4D,MAAM,GAAKE,EAAO,EAAI3F,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IACzIwC,EAAQjE,KAAK4D,MAAM,GAAKG,EAAO,EAAI5F,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IAC/I,MAAO,CAACc,EAAI,GAAIA,EAAI,GAAIyB,EAAOC,IAEjC3B,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXsG,UAAW,CACTjE,MAAO,YACPC,IAAK,eACLiC,GAAI,EACJhC,OAAQ,CACN2C,YAAa,CAAE7B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,EAAG,IACjE6B,OAAQ,CAAE9B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,EAAG,IAC5D8B,QAAS,CAAE/B,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,EAAG,IAC7D+B,SAAU,CAAEhC,KAAK,QAASW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,CAAC,EAAG,EAAG,IAC9D6C,eAAgB,CAAE9C,KAAM,OAAQC,QAAQ,SACxC8C,UAAW,CAAE/C,KAAM,OAAQC,QAAQ,UAErCe,SAAU,SAACD,EAAKpE,GACd,IAAMgG,EAAO5B,EAAI,GACXuB,EAAOvB,EAAI,GACXwB,EAAOxB,EAAI,GACX6B,EAAQpE,KAAK4D,MAAM,GAAKO,EAAO,EAAIhG,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IACzIuC,EAAQhE,KAAK4D,MAAM,GAAKE,EAAO,EAAI3F,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IACzIwC,EAAQjE,KAAK4D,MAAM,GAAKG,EAAO,EAAI5F,EAAEoF,QAAQ9B,QAAQ,GAAKtD,EAAEqF,SAAS/B,QAAQ,IAAMtD,EAAEkF,YAAY5B,QAAQ,GAAK,GAAK,GAAKtD,EAAEmF,OAAO7B,QAAQ,IAC/I,MAAO,CAACc,EAAI,GAAIA,EAAI,GAAI6B,EAAOJ,EAAOC,IAExC3B,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXuG,YAAa,CACXlE,MAAO,cACPC,IAAK,iBACLiC,GAAI,EACJhC,OAAQ,CACNiE,aAAc,CAAEnD,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzDmD,IAAK,CAAEpD,KAAK,SAAUW,IAAI,KAAMlC,IAAI,EAAGwB,QAAQ,MAC/CoD,SAAU,CAAErD,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,IACxDqD,OAAQ,CAAEtD,KAAM,OAAQC,QAAQ,QAChCsD,oBAAqB,CAAEvD,KAAM,OAAQC,QAAQ,SAE/Ce,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEwG,aAAalD,QAAUc,EAAI,GACtBpE,IAGX6G,YAAa,CACXxE,MAAO,cACPC,IAAK,iBACLiC,GAAI,EACJhC,OAAQ,CACNiE,aAAc,CAAEnD,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzDmD,IAAK,CAAEpD,KAAK,SAAUW,IAAI,KAAMlC,IAAI,EAAGwB,QAAQ,MAC/CoD,SAAU,CAAErD,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,IACxDqD,OAAQ,CAAEtD,KAAM,OAAQC,QAAQ,QAChCsD,oBAAqB,CAAEvD,KAAM,OAAQC,QAAQ,SAE/Ce,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEwG,aAAalD,QAAUc,EAAI,GACtBpE,IAGX8G,YAAa,CACXzE,MAAO,cACPC,IAAK,iBACLiC,GAAI,GACJhC,OAAQ,CACNiE,aAAc,CAAEnD,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzDmD,IAAK,CAAEpD,KAAK,SAAUW,IAAI,KAAMlC,IAAI,EAAGwB,QAAQ,MAC/CoD,SAAU,CAAErD,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,IACxDqD,OAAQ,CAAEtD,KAAM,OAAQC,QAAQ,QAChCsD,oBAAqB,CAAEvD,KAAM,OAAQC,QAAQ,SAE/Ce,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEwG,aAAalD,QAAUc,EAAI,GACtBpE,IAGX+G,UAAW,CACT1E,MAAO,YACPC,IAAK,eACLiC,GAAI,GACJhC,OAAQ,CACNyE,WAAY,CAAE3D,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvD2D,aAAc,CAAE5D,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzDmD,IAAK,CAAEpD,KAAK,SAAUW,IAAI,KAAMlC,IAAI,EAAGwB,QAAQ,MAC/CqD,OAAQ,CAAEtD,KAAM,OAAQC,QAAQ,SAElCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEiH,aAAa3D,QAAUc,EAAI,GACtBpE,IAGXkH,eAAgB,CACd7E,MAAO,iBACPC,IAAK,oBACLiC,GAAI,GACJhC,OAAQ,CACNiE,aAAc,CAAEnD,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzDmD,IAAK,CAAEpD,KAAK,SAAUW,IAAI,KAAMlC,IAAI,EAAGwB,QAAQ,MAC/CoD,SAAU,CAAErD,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,IACxDqD,OAAQ,CAAEtD,KAAM,OAAQC,QAAQ,SAChCsD,oBAAqB,CAAEvD,KAAM,OAAQC,QAAQ,UAE/Ce,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEwG,aAAalD,QAAUc,EAAI,GACtBpE,IAGXmH,eAAgB,CACd9E,MAAO,iBACPC,IAAK,oBACLiC,GAAI,GACJhC,OAAQ,CACNiE,aAAc,CAAEnD,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzDmD,IAAK,CAAEpD,KAAK,SAAUW,IAAI,KAAMlC,IAAI,EAAGwB,QAAQ,MAC/CoD,SAAU,CAAErD,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,IACxDqD,OAAQ,CAAEtD,KAAM,OAAQC,QAAQ,SAChCsD,oBAAqB,CAAEvD,KAAM,OAAQC,QAAQ,UAE/Ce,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEwG,aAAalD,QAAUc,EAAI,GACtBpE,IAGXoH,eAAgB,CACd/E,MAAO,iBACPC,IAAK,oBACLiC,GAAI,GACJhC,OAAQ,CACNiE,aAAc,CAAEnD,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACzDmD,IAAK,CAAEpD,KAAK,SAAUW,IAAI,KAAMlC,IAAI,EAAGwB,QAAQ,MAC/CoD,SAAU,CAAErD,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,IACxDqD,OAAQ,CAAEtD,KAAM,OAAQC,QAAQ,SAChCsD,oBAAqB,CAAEvD,KAAM,OAAQC,QAAQ,UAE/Ce,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEwG,aAAalD,QAAUc,EAAI,GACtBpE,IAGXqH,IAAK,CACHhF,MAAO,MACPC,IAAK,SACLiC,GAAI,GACJhC,OAAQ,CACN+E,WAAY,CAAEjE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDiE,YAAa,CAAElE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACxDkE,WAAY,CAAEnE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDmE,aAAc,CAAEpE,KAAM,SAAUqE,QAAQ,CAAC,OAAQ,QAASpE,QAAQ,QAClEoB,KAAM,CAAErB,KAAM,OAAQC,QAAQ,QAC9BqE,YAAa,CAAEtE,KAAM,OAAQC,QAAQ,SACrCsE,QAAS,CAAEvE,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDuE,cAAe,CAAExE,KAAM,OAAQC,QAAQ,UAEzCe,SAAU,SAACD,EAAKpE,GACd,IAAIsB,EAAM,EACNqD,EAAYP,EAAItD,IAAI,SAACyC,EAAK3B,GAE5B,OADAN,EAAMM,EACC2B,IAGT,OADAoB,EAAUrD,GAAOtB,EAAEuH,YAAYjE,QACxBqB,GAETR,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEsH,WAAWhE,QAAUc,EAAIA,EAAIpC,OAAO,GAC/BhC,IAGX8H,KAAM,CACJzF,MAAO,OACPC,IAAK,UACLiC,GAAI,GACJhC,OAAQ,CACN+E,WAAY,CAAEjE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDiE,YAAa,CAAElE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACxDkE,WAAY,CAAEnE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDoB,KAAM,CAAErB,KAAM,OAAQC,QAAQ,QAC9BqE,YAAa,CAAEtE,KAAM,OAAQC,QAAQ,SACrCsE,QAAS,CAAEvE,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDuE,cAAe,CAAExE,KAAM,OAAQC,QAAQ,UAEzCe,SAAU,SAACD,EAAKpE,GACd,IAAIsB,EAAM,EACNqD,EAAYP,EAAItD,IAAI,SAACyC,EAAK3B,GAE5B,OADAN,EAAMM,EACC2B,IAGT,OADAoB,EAAUrD,GAAOtB,EAAEuH,YAAYjE,QACxBqB,GAETR,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEsH,WAAWhE,QAAUc,EAAIA,EAAIpC,OAAO,GAC/BhC,IAGX+H,IAAK,CACH1F,MAAO,MACPC,IAAK,SACLiC,GAAI,GACJhC,OAAQ,CACN+E,WAAY,CAAEjE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDiE,YAAa,CAAElE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACxDkE,WAAY,CAAEnE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDoB,KAAM,CAAErB,KAAM,OAAQC,QAAQ,QAC9BqE,YAAa,CAAEtE,KAAM,OAAQC,QAAQ,SACrCsE,QAAS,CAAEvE,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDuE,cAAe,CAAExE,KAAM,OAAQC,QAAQ,UAEzCe,SAAU,SAACD,EAAKpE,GACd,IAAIsB,EAAM,EACNqD,EAAYP,EAAItD,IAAI,SAACyC,EAAK3B,GAE5B,OADAN,EAAMM,EACC2B,IAGT,OADAoB,EAAUrD,GAAOtB,EAAEuH,YAAYjE,QACxBqB,GAETR,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEsH,WAAWhE,QAAUc,EAAIA,EAAIpC,OAAO,GAC/BhC,IAGXgI,QAAS,CACP3F,MAAO,UACPC,IAAK,aACLiC,GAAI,GACJhC,OAAQ,CACN+E,WAAY,CAAEjE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDiE,YAAa,CAAElE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACxDoB,KAAM,CAAErB,KAAM,OAAQC,QAAQ,QAC9BmE,aAAc,CAAEpE,KAAM,SAAUqE,QAAQ,CAAC,OAAQ,QAASpE,QAAQ,SAEpEe,SAAU,SAACD,EAAKpE,GACd,IAAIsB,EAAM,EACNqD,EAAYP,EAAItD,IAAI,SAACyC,EAAK3B,GAE5B,OADAN,EAAMM,EACC2B,IAGT,OADAoB,EAAUrD,GAAOtB,EAAEuH,YAAYjE,QACxBqB,GAETR,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEsH,WAAWhE,QAAUc,EAAIA,EAAIpC,OAAO,GAC/BhC,IAGXiI,SAAU,CACR5F,MAAO,WACPC,IAAK,cACLiC,GAAI,GACJhC,OAAQ,CACN+E,WAAY,CAAEjE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDiE,YAAa,CAAElE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACxDoB,KAAM,CAAErB,KAAM,OAAQC,QAAQ,SAEhCe,SAAU,SAACD,EAAKpE,GACd,IAAIsB,EAAM,EACNqD,EAAYP,EAAItD,IAAI,SAACyC,EAAK3B,GAE5B,OADAN,EAAMM,EACC2B,IAGT,OADAoB,EAAUrD,GAAOtB,EAAEuH,YAAYjE,QACxBqB,GAETR,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEsH,WAAWhE,QAAUc,EAAIA,EAAIpC,OAAO,GAC/BhC,IAGXkI,QAAS,CACP7F,MAAO,UACPC,IAAK,aACLiC,GAAI,GACJhC,OAAQ,CACN+E,WAAY,CAAEjE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACvDiE,YAAa,CAAElE,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACxDoB,KAAM,CAAErB,KAAM,OAAQC,QAAQ,SAEhCe,SAAU,SAACD,EAAKpE,GACd,IAAIsB,EAAM,EACNqD,EAAYP,EAAItD,IAAI,SAACyC,EAAK3B,GAE5B,OADAN,EAAMM,EACC2B,IAGT,OADAoB,EAAUrD,GAAOtB,EAAEuH,YAAYjE,QACxBqB,GAETR,WAAY,SAACC,EAAKpE,GAEhB,OADAA,EAAEsH,WAAWhE,QAAUc,EAAIA,EAAIpC,OAAO,GAC/BhC,IAGX4H,QAAS,CACPvF,MAAO,UACPC,IAAK,aACLiC,GAAI,GACJhC,OAAQ,CACNvC,EAAG,CAAEqD,KAAK,SAAUW,IAAI,EAAGlC,IAAI,EAAGwB,QAAQ,IAC1C6E,QAAS,CAAE9E,KAAM,OAAQC,QAAQ,UAEnCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXoI,UAAW,CACT/F,MAAO,YACPC,IAAK,eACLiC,GAAI,GACJhC,OAAQ,CACNvC,EAAG,CAAEqD,KAAK,SAAUW,IAAI,EAAGlC,IAAI,EAAGwB,QAAQ,IAC1C6E,QAAS,CAAE9E,KAAM,OAAQC,QAAQ,UAEnCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXqI,UAAW,CACThG,MAAO,YACPC,IAAK,eACLiC,GAAI,GACJhC,OAAQ,CACNvC,EAAG,CAAEqD,KAAK,SAAUW,IAAI,EAAGlC,IAAI,EAAGwB,QAAQ,IAC1C6E,QAAS,CAAE9E,KAAM,OAAQC,QAAQ,UAEnCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXsI,aAAc,CACZjG,MAAO,eACPC,IAAK,kBACLiC,GAAI,GACJhC,OAAQ,CACNvC,EAAG,CAAEqD,KAAK,SAAUW,IAAI,EAAGlC,IAAI,EAAGwB,QAAQ,IAC1C6E,QAAS,CAAE9E,KAAM,OAAQC,QAAQ,UAEnCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXuI,IAAK,CACHlG,MAAO,MACPC,IAAK,SACLiC,GAAI,GACJhC,OAAQ,CACNiG,MAAO,CAAEnF,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACrD6E,QAAS,CAAE9E,KAAK,OAAQC,QAAQ,UAElCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXyI,WAAY,CACVpG,MAAO,aACPC,IAAK,gBACLiC,GAAI,GACJhC,OAAQ,CACNmG,MAAO,CAAErF,KAAK,SAAUW,KAAKC,IAAUnC,IAAImC,IAAUX,QAAQ,QAE/De,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGX2I,SAAU,CACRtG,MAAO,WACPC,IAAK,cACLiC,GAAI,GACJhC,OAAQ,CACNqG,QAAS,CAAEvF,KAAK,SAAUW,KAAKC,IAAUnC,IAAImC,IAAUX,SAAS,GAChEuF,QAAS,CAAExF,KAAK,SAAUW,KAAKC,IAAUnC,IAAImC,IAAUX,QAAQ,GAC/D6E,QAAS,CAAE9E,KAAK,OAAQC,QAAQ,UAElCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGX8I,UAAW,CACTzG,MAAO,YACPC,IAAK,eACLiC,GAAI,GACJhC,OAAQ,CACNwG,eAAgB,CAAE1F,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,KAC9D6E,QAAS,CAAE9E,KAAK,OAAQC,QAAQ,UAElCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXgJ,WAAY,CACV3G,MAAO,aACPC,IAAK,gBACLiC,GAAI,GACJhC,OAAQ,GACR8B,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXiJ,MAAO,CACL5G,MAAO,QACPC,IAAK,WACLiC,GAAI,GACJhC,OAAQ,CACN2G,eAAgB,CAAE7F,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GAC3D6F,KAAM,CAAE9F,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,MAEtDe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXoJ,KAAM,CACJ/G,MAAO,OACPC,IAAK,UACLiC,GAAI,GACJhC,OAAQ,CACN4F,QAAS,CAAE9E,KAAK,OAAQC,QAAQ,UAElCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXqJ,MAAO,CACLhH,MAAO,QACPC,IAAK,WACLiC,GAAI,GACJhC,OAAQ,CACN4F,QAAS,CAAE9E,KAAK,OAAQC,QAAQ,UAElCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXsJ,MAAO,CACLjH,MAAO,QACPC,IAAK,WACLiC,GAAI,GACJhC,OAAQ,CACNgH,MAAO,CAAElG,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,EAAE,GACvDkG,MAAO,CAAEnG,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,EAAE,GACvD6E,QAAS,CAAE9E,KAAK,OAAQC,QAAQ,UAElCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXyJ,KAAM,CACJpH,MAAO,OACPC,IAAK,UACLiC,GAAI,GACJhC,OAAQ,CACN4F,QAAS,CAAE9E,KAAK,OAAQC,QAAQ,UAElCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGX0J,KAAM,CACJrH,MAAO,OACPC,IAAK,UACLiC,GAAI,GACJhC,OAAQ,CACNiG,MAAO,CAAEnF,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACrD6E,QAAS,CAAE9E,KAAK,OAAQC,QAAQ,UAElCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGX2J,QAAS,CACPtH,MAAO,UACPC,IAAK,aACLiC,GAAI,GACJhC,OAAQ,GACR8B,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGX4J,SAAU,CACRvH,MAAO,WACPC,IAAK,cACLiC,GAAI,GACJhC,OAAQ,CACNsH,KAAM,CAAExG,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,GACpDwG,UAAW,CAAEzG,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,KAE3De,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGX+J,WAAY,CACV1H,MAAO,aACPC,IAAK,gBACLiC,GAAI,GACJhC,OAAQ,CACNmG,MAAO,CAAErF,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,KAEvDe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXgK,SAAU,CACR3H,MAAO,WACPC,IAAK,cACLiC,GAAI,GACJhC,OAAQ,GACR8B,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXiK,KAAM,CACJ5H,MAAO,OACPC,IAAK,UACLiC,GAAI,GACJhC,OAAQ,GACR8B,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXkK,WAAY,CACV7H,MAAO,aACPC,IAAK,gBACLiC,GAAI,GACJhC,OAAQ,GACR8B,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGX8J,UAAW,CACTzH,MAAO,YACPC,IAAK,eACLiC,GAAI,GACJhC,OAAQ,CACNuH,UAAW,CAAEzG,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,IACzD6G,MAAO,CAAE9G,KAAK,SAAUW,IAAI,EAAGlC,IAAImC,IAAUX,QAAQ,IACrD6E,QAAS,CAAE9E,KAAK,OAAQC,QAAQ,UAElCe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXoK,QAAS,CACP/H,MAAO,UACPC,IAAK,aACLiC,GAAI,GACJhC,OAAQ,CACN8H,IAAK,CAAEhH,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,SAAS,IAEnDe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXsK,QAAS,CACPjI,MAAO,UACPC,IAAK,aACLiC,GAAI,GACJhC,OAAQ,CACN8H,IAAK,CAAEhH,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,SAAS,IAEnDe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXuK,UAAW,CACTlI,MAAO,YACPC,IAAK,eACLiC,GAAI,GACJhC,OAAQ,GACR8B,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,IAGXwK,WAAY,CACVnI,MAAO,aACPC,IAAK,gBACLiC,GAAI,GACJhC,OAAQ,CACN8H,IAAK,CAAEhH,KAAK,MAAOW,IAAI,EAAGlC,IAAImC,IAAUX,SAAS,IAEnDe,SAAU,SAACD,EAAKpE,GACd,OAAOoE,GAETD,WAAY,SAACC,EAAKpE,GAChB,OAAOA,8FC5xBTyK,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAhK,OAAAiK,EAAA,EAAAjK,CAAAkK,KAAAJ,IACjBE,EAAAhK,OAAAmK,EAAA,EAAAnK,CAAAkK,KAAAlK,OAAAoK,EAAA,EAAApK,CAAA8J,GAAAO,KAAAH,KAAMH,KACDO,MAAQ,CACXd,WAAqBe,IAAdR,EAAMS,IAAoBT,EAAMU,KAAKC,QAAQX,EAAMS,KAAO,GAHlDR,wEAOV,IAAAW,EAAAT,KACCU,EAAYV,KAAKH,MAAjBa,QACApB,EAAUU,KAAKI,MAAfd,MACFqB,EAAQ3J,KAAK4J,KAAKZ,KAAKH,MAAMc,MAAMX,KAAKH,MAAMU,KAAKpJ,QAAU,KAEnE,OACE0J,EAAAC,EAAAC,cAAA,OAAKC,UAAWN,EAAQO,KAAMC,MAAO,CAACC,SAAS,WAC7CN,EAAAC,EAAAC,cAACK,EAAAN,EAAD,CACExB,MAAOA,EACP+B,SAAU,SAACC,EAAGhC,GACZmB,EAAKc,SAAS,CAAEjC,UACZmB,EAAKZ,MAAM2B,aAAaf,EAAKZ,MAAM2B,YAAYf,EAAKZ,MAAMU,KAAKjB,KAErEmC,UAAU,UACVf,QAAS,CAAEO,KAAMP,EAAQgB,SAAUC,UAAWjB,EAAQkB,eACtDC,eAAe,GAEb7B,KAAKH,MAAMU,KAAKtK,IAAI,SAAAqJ,GAClB,OACEuB,EAAAC,EAAAC,cAACe,EAAAhB,EAAD,CACEiB,eAAa,EACbrB,QAAS,CAAEO,KAAMP,EAAQsB,QAASC,SAAUvB,EAAQwB,aACpDC,MAAO7C,EACP4B,MAAO,CAACP,MAAOA,gBA/BNyB,IAAMC,WA8ClBC,uBA3FA,SAAAC,GAAK,MAAK,CACvBtB,KAAM,CACJuB,SAAU,EACVrB,SAAS,UAEXO,SAAU,CACRe,aAAc,qBAEhBb,cAAe,CACbc,gBAAiB,WAEnBV,QAAS,CACPW,cAAe,UACfC,SAAU,GACVC,WAAYN,EAAMO,WAAWC,kBAC7BC,YAAkC,EAArBT,EAAMU,QAAQC,KAC3BC,WAAY,CACV,gBACA,qBACA,aACA,SACA,mBACA,QACA,aACA,sBACA,mBACA,qBACAC,KAAK,KACPC,UAAW,CACTC,MAAO,UACPC,QAAS,GAEXC,gBAAiB,CACfF,MAAO,WAETG,UAAW,CACTH,MAAO,YAGXpB,YAAa,GACbY,WAAY,CACVvI,QAA8B,EAArBgI,EAAMU,QAAQC,QAkDZZ,CAAmB1C,+UCzBlC,SAAS8D,GAATC,GAAgD,IAAtBC,EAAsBD,EAAtBC,SAAa/D,EAAS/J,OAAA+N,GAAA,EAAA/N,CAAA6N,EAAA,cAC9C,OAAO9C,EAAAC,EAAAC,cAAA,MAAAjL,OAAAgO,OAAA,CAAKrM,IAAKmM,GAAc/D,IAmFjC,IAAMkE,GAAa,CACjBC,QAjFF,SAAiBnE,GACf,OACEgB,EAAAC,EAAAC,cAACkD,EAAAnD,EAADhL,OAAAgO,OAAA,CACEI,WAAS,EACTC,WAAY,CACVT,kBACAU,WAAWtO,OAAAuO,GAAA,EAAAvO,CAAA,CACTkL,UAAWnB,EAAMyE,YAAY5D,QAAQzH,MACrC2K,SAAU/D,EAAM0E,SAChBC,SAAU3E,EAAM2E,UACb3E,EAAM4E,cAGT5E,EAAMyE,YAAYI,kBAqE1BC,KAVF,SAAc9E,GACZ,OACEgB,EAAAC,EAAAC,cAAC6D,GAAA9D,EAADhL,OAAAgO,OAAA,CAAOe,QAAM,EAAC7D,UAAWnB,EAAMyE,YAAY5D,QAAQoE,OAAWjF,EAAM4E,YACjE5E,EAAM2E,WAQXO,WAzBF,SAAoBlF,GAClB,OACEgB,EAAAC,EAAAC,cAACiE,GAAAlE,EAAD,CACEmE,UAAW,EACX9C,MAAOtC,EAAM2E,SACbxD,UAAWkE,KAAWrF,EAAMyE,YAAY5D,QAAQyE,KAA3BrP,OAAAsP,EAAA,EAAAtP,CAAA,GAClB+J,EAAMyE,YAAY5D,QAAQ2E,YAAcxF,EAAMyF,YAEjDC,SAAU1F,EAAM2F,YAAYC,QAC5BC,WAAY7E,EAAAC,EAAAC,cAAC4E,GAAA7E,EAAejB,EAAM2F,gBAiBtCI,iBApGF,SAA0B/F,GACxB,OACEgB,EAAAC,EAAAC,cAAC8E,EAAA/E,EAADhL,OAAAgO,OAAA,CACER,MAAM,gBACNtC,UAAWnB,EAAMyE,YAAY5D,QAAQoF,kBACjCjG,EAAM4E,YAET5E,EAAM2E,WA8FXuB,OAnEF,SAAgBlG,GACd,OACEgB,EAAAC,EAAAC,cAACiF,EAAAlF,EAADhL,OAAAgO,OAAA,CACEmC,UAAWpG,EAAM0E,SACjBtC,SAAUpC,EAAMyF,UAChBY,UAAU,MACVhF,MAAO,CACL2B,WAAYhD,EAAMsG,WAAa,IAAM,MAEnCtG,EAAM4E,YAET5E,EAAM2E,WAyDX4B,YApDF,SAAqBvG,GACnB,OACEgB,EAAAC,EAAAC,cAAC8E,EAAA/E,EAADhL,OAAAgO,OAAA,CACER,MAAM,gBACNtC,UAAWnB,EAAMyE,YAAY5D,QAAQ2F,aACjCxG,EAAM4E,YAET5E,EAAM2E,WA8CX8B,YAzCF,SAAqBzG,GACnB,OACEgB,EAAAC,EAAAC,cAAC8E,EAAA/E,EAADhL,OAAAgO,OAAA,CAAY9C,UAAWnB,EAAMyE,YAAY5D,QAAQ6F,aAAiB1G,EAAM4E,YACrE5E,EAAM2E,WAuCXgC,eAlCF,SAAwB3G,GACtB,OAAOgB,EAAAC,EAAAC,cAAA,OAAKC,UAAWnB,EAAMyE,YAAY5D,QAAQ+F,gBAAiB5G,EAAM2E,YAoC7DkC,GAAb,SAAAC,GAEE,SAAAD,EAAY7G,GAAO,IAAAC,EAAA,OAAAhK,OAAAiK,EAAA,EAAAjK,CAAAkK,KAAA0G,IACjB5G,EAAAhK,OAAAmK,EAAA,EAAAnK,CAAAkK,KAAAlK,OAAAoK,EAAA,EAAApK,CAAA4Q,GAAAvG,KAAAH,KAAMH,KACDO,MAAQ,CACX3H,QAASoH,EAAMpH,SAEjBqH,EAAKjD,QAAUgD,EAAMhD,QAAQ5G,IAAI,SAAA2Q,GAAG,MAAK,CAAEtH,MAAMsH,EAAKzE,MAAMyE,KAC5D9G,EAAK1H,IAAMyH,EAAMzH,IANA0H,EAFrB,OAAAhK,OAAA+Q,EAAA,EAAA/Q,CAAA4Q,EAAAC,GAAA7Q,OAAAgR,EAAA,EAAAhR,CAAA4Q,EAAA,EAAAxR,IAAA,SAAAoK,MAAA,WAWW,IAAAmB,EAAAT,KAAA+G,EACoB/G,KAAKH,MAAxBa,EADDqG,EACCrG,QAAS6B,EADVwE,EACUxE,MAEXyE,EAAe,CACnB/N,MAAO,SAAAgO,GAAI,OAAAnR,OAAAuO,GAAA,EAAAvO,CAAA,GACNmR,EADM,CAET3D,MAAOf,EAAM2E,QAAQC,KAAKC,QAC1BC,UAAW,CACTC,KAAM,eAKZ,OACEzG,EAAAC,EAAAC,cAAA,OAAKC,UAAWN,EAAQO,MACtBJ,EAAAC,EAAAC,cAACwG,GAAAzG,EAAD,KACED,EAAAC,EAAAC,cAACyG,GAAA,EAAD,CACE9G,QAASA,EACT+G,OAAQT,EACRnK,QAASmD,KAAKnD,QACdkH,WAAYA,GACZzE,MAAO,CAAC6C,MAAMnC,KAAKI,MAAM3H,SACzB4N,YAAY,sBACZhF,SAAU,SAAAC,GACJA,GACFb,EAAKc,SAAS,CAAC9I,QAAQ6I,EAAEhC,QACrBmB,EAAKZ,MAAMwB,UAAUZ,EAAKZ,MAAMwB,SAASC,EAAEhC,SAE/CmB,EAAKc,SAAS,CAAC9I,QAAQ,KACnBgI,EAAKZ,MAAMwB,UAAUZ,EAAKZ,MAAMwB,SAAS,MAGjDqG,aAAW,UA3CvBhB,EAAA,CAAqCtE,IAAMC,WAwD5BC,wBAnNA,SAAAC,GAAK,MAAK,CACvBtB,KAAM,CACJuB,SAAU,EACVmF,OAAQ,IAEV1O,MAAO,CACL2O,QAAS,OACTrN,QAAS,GAEXkM,eAAgB,CACdmB,QAAS,OACTC,SAAU,OACVC,KAAM,EACNC,WAAY,SACZ5G,SAAU,UAEZgE,KAAM,CACJ6C,OAAM,GAAAC,OAAK1F,EAAMU,QAAQC,KAAO,EAA1B,OAAA+E,OAAiC1F,EAAMU,QAAQC,KAAO,EAAtD,OAERmC,YAAa,CACX3C,gBAAiBwF,qBACQ,UAAvB3F,EAAM2E,QAAQ1O,KAAmB+J,EAAM2E,QAAQiB,KAAK,KAAO5F,EAAM2E,QAAQiB,KAAK,KAC9E,MAGJrC,iBAAkB,CAChBvL,QAAO,GAAA0N,OAAK1F,EAAMU,QAAQC,KAAnB,OAAA+E,OAAkD,EAArB1F,EAAMU,QAAQC,KAA3C,OAETqD,YAAa,CACX6B,SAAU,IAEZ/B,YAAa,CACXgC,SAAU,WACVC,KAAM,EACNF,SAAU,IAEZtD,MAAO,CACLuD,SAAU,WACVE,OAAQ,EACRC,UAAWjG,EAAMU,QAAQC,KACzBoF,KAAM,EACNG,MAAO,GAETC,QAAS,CACPf,OAA6B,EAArBpF,EAAMU,QAAQC,QAuKQ,CAAEyF,WAAW,GAAhCrG,CAAwCoE,IC5LjDkC,GAAYC,yBAAe,CAC/B3B,QAAS,CACP1O,KAAM,QAERsK,WAAY,CAAEgG,iBAAiB,KAG3BC,GAAaF,yBAAe,CAChC3B,QAAS,CACP1O,KAAM,SAERsK,WAAY,CAAEgG,iBAAiB,KAGjCE,SAAOC,KAAKC,WAAa,UAGzB,IAAMC,GAAc,SAACtJ,GACnB,IAAIuJ,EAAMvJ,EAAMwJ,YAChB,OACExI,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAE3G,QAAQ,SAEpBsG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIG,MAAO,CAACsH,UAAU,QAAtB,eACA3H,EAAAC,EAAAC,cAACuI,EAAAxI,EAAD,KACED,EAAAC,EAAAC,cAACwI,EAAAzI,EAAD,CAAY0I,QAAQ,aAApB,WACA3I,EAAAC,EAAAC,cAAC0I,EAAA3I,EAAD,CACExB,MAAO8J,EAAIM,QACXtF,WAAY,CAAEhP,KAAK,iBAAkBsE,GAAG,aACxC2H,SAAU,SAACC,GACT,IAAI+H,EAAcxJ,EAAM8J,UAAUN,YAClCA,EAAYK,QAAUpI,EAAEsI,OAAOtK,MAC/BO,EAAMgK,UAAUR,KAGhBD,EAAIU,UAAU7T,IAAI,SAAA8T,GAChB,OACElJ,EAAAC,EAAAC,cAACiF,EAAAlF,EAAD,CAAUxB,MAAOyK,GAAUA,QAQvClJ,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAC8I,WAAW,SACtBnJ,EAAAC,EAAAC,cAAA,4BAEE,CACE,CAACkJ,EAAE,YAAaC,EAAE,cAClB,CAACD,EAAE,WAAYC,EAAE,cACjB,CAACD,EAAE,YAAaC,EAAE,eAClB,CAACD,EAAE,kBAAmBC,EAAE,qBACxBjU,IAAI,SAAAkU,GACJ,OACEtJ,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAD,CACEI,MAAO,CAAC8I,WAAW,GACnBK,QACExJ,EAAAC,EAAAC,cAACuJ,EAAAxJ,EAAD,CACEyJ,QAAS1K,EAAM2K,SAASL,EAAIF,GAC5B3G,MAAM,UACNjC,SAAU,SAAAC,GACR,IAAIkJ,EAAW3K,EAAM8J,UAAUa,SAC/BA,EAASL,EAAIF,IAAMO,EAASL,EAAIF,GAChCpK,EAAM4K,eAAeD,MAG3BrI,MAAOgI,EAAID,SAYrBQ,GAAU,SAAA7K,GAIVA,EAAMwJ,YAAYK,QAGtB,IAAMiB,EAAY9K,EAAM+I,UAAYgC,oBAAoB5B,SAExD,OACEnI,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAACkH,SAAS,KACpBvH,EAAAC,EAAAC,cAAC8J,EAAA,EAAD,CAAmBC,SAAS,SAAS5J,MAAOyJ,EAAWI,iBAAe,GAElElL,EAAMmL,QAUVC,GAAe,SAAApL,GAEnB,IAAIqL,EAAQrL,EAAMxI,WAAWwI,EAAMoC,UAEnC,GAAIiJ,EAAO,CAGT,IAAMxT,EAASwT,EAAM3T,MAAMG,OACvByT,EAAS,CAAEC,IAAM,GAAIC,OAAS,GAAIC,KAAO,GAAIC,MAAQ,GAAIC,OAAS,IAG5C,UAAtBN,EAAM3T,MAAMC,OACd2T,EAAOC,IAAIhV,KACTyK,EAAAC,EAAAC,cAACkD,EAAAnD,EAAD,CACEqB,MAAM,eACN3J,KAAK,SACLiT,QAAQ,WACRzD,OAAO,QACP9G,MAAO,CAACP,MAAM,QAAS+K,aAAa,OACpCpM,MAAO5H,EAAOwB,OAAOT,QACrB4I,SAAU,SAAAC,GACR,IACInM,EADa0K,EAAM8J,UAAUtS,WACdwI,EAAMoC,UACrBvK,EAASvC,EAAEoC,MAAMG,OACrBA,EAAOwB,OAAOT,QAAUzB,KAAKC,IAAID,KAAKmC,IAAImI,EAAEsI,OAAOtK,MAAO5H,EAAOwB,OAAOjC,KAAMS,EAAOwB,OAAOC,KACxFzB,EAAOwB,OAAOT,QAAUf,EAAO2B,WAAWZ,QAAQtB,OACpDO,EAAO2B,WAAWZ,QAAUf,EAAO2B,WAAWZ,QAAQkT,OAAO,EAAGjU,EAAOwB,OAAOT,SACrEf,EAAOwB,OAAOT,QAAUf,EAAO2B,WAAWZ,QAAQtB,QAC3DyU,MAAMC,KAAKD,MAAMlU,EAAOwB,OAAOT,QAAUf,EAAO2B,WAAWZ,QAAQtB,QAAQpB,QAAQE,IAAI,SAAAQ,GACrFiB,EAAO2B,WAAWZ,QAAQrC,KAAK,KAGnCyJ,EAAMiM,oBAAoBjM,EAAMoC,SAAU9M,OAKlDW,OAAOC,KAAK2B,GAAQzB,IAAI,SAAA8V,GACtB,IAAMC,EAAQtU,EAAOqU,GACrB,OAAOC,EAAMxT,MACX,IAAK,MACH2S,EAAOC,IAAIhV,KACTyK,EAAAC,EAAAC,cAACkD,EAAAnD,EAAD,CACEqB,MAAO4J,EACPvT,KAAK,SACLiT,QAAQ,WACRzD,OAAO,QACP9G,MAAO,CAACP,MAAM,QAAS+K,aAAa,OACpCpM,MAAO5H,EAAOqU,GAAUtT,QACxB4I,SAAU,SAAAC,GACR,IACInM,EADa0K,EAAM8J,UAAUtS,WACdwI,EAAMoC,UACrB+J,EAAQ7W,EAAEoC,MAAMG,OAAOqU,GAC3BC,EAAMvT,QAAUzB,KAAKC,IAAID,KAAKmC,IAAImI,EAAEsI,OAAOtK,MAAO0M,EAAM/U,KAAM+U,EAAM7S,KACpE0G,EAAMiM,oBAAoBjM,EAAMoC,SAAU9M,OAGhD,MACF,IAAK,SACHgW,EAAOE,OAAOjV,KACZyK,EAAAC,EAAAC,cAACkD,EAAAnD,EAAD,CACEqB,MAAO4J,EACPvT,KAAK,SACLiT,QAAQ,WACRzD,OAAO,QACP9G,MAAO,CAACP,MAAM,QAAS+K,aAAa,OACpCpM,MAAO5H,EAAOqU,GAAUtT,QACxB4I,SAAU,SAAAC,GACR,IACInM,EADa0K,EAAM8J,UAAUtS,WACdwI,EAAMoC,UACrB+J,EAAQ7W,EAAEoC,MAAMG,OAAOqU,GAC3BC,EAAMvT,QAAUzB,KAAKC,IAAID,KAAKmC,IAAImI,EAAEsI,OAAOtK,MAAO0M,EAAM/U,KAAM+U,EAAM7S,KACpE0G,EAAMiM,oBAAoBjM,EAAMoC,SAAU9M,OAGhD,MACF,IAAK,OACHgW,EAAOG,KAAKlV,KACVyK,EAAAC,EAAAC,cAACqJ,EAAAtJ,EAAD,CACEuJ,QACExJ,EAAAC,EAAAC,cAACuJ,EAAAxJ,EAAD,CACEyJ,QAA2B,SAAlByB,EAAMvT,QACf6K,MAAM,UACNjC,SAAU,SAAAC,GACR,IACInM,EADa0K,EAAM8J,UAAUtS,WACdwI,EAAMoC,UACrB+J,EAAQ7W,EAAEoC,MAAMG,OAAOqU,GACL,SAAlBC,EAAMvT,QACRuT,EAAMvT,QAAU,QAEhBuT,EAAMvT,QAAU,OAElBoH,EAAMiM,oBAAoBjM,EAAMoC,SAAU9M,MAGhDgN,MAAO4J,KAEX,MACF,IAAK,QACHZ,EAAOI,MAAMnV,KACXyK,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAC8I,WAAW,SACtBnJ,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,MAAIG,MAAO,CAAC8G,OAAO,QAAS+D,IAE/BC,EAAMvT,QAAQxC,IAAI,SAACyC,EAAK3B,GACtB,OACE8J,EAAAC,EAAAC,cAACkD,EAAAnD,EAAD,CACEqB,MAAO4J,EAAW,IAAMhV,EACxByB,KAAK,SACLiT,QAAQ,WACRzD,OAAO,QACP9G,MAAO,CAACP,MAAM,QAAS+K,aAAa,OACpCpM,MAAO5G,EACP2I,SAAU,SAAAC,GACR,IAAIjK,EAAawI,EAAM8J,UAAUtS,WAC7BlC,EAAIkC,EAAWwI,EAAMoC,UACrB+J,EAAQ3U,EAAWwI,EAAMoC,UAAU1K,MAAMG,OAAOqU,GACpDC,EAAMvT,QAAQ1B,GAASC,KAAKC,IAAID,KAAKmC,IAAImI,EAAEsI,OAAOtK,MAAO0M,EAAM/U,KAAM+U,EAAM7S,KAC3E0G,EAAMiM,oBAAoBjM,EAAMoC,SAAU9M,UAOxD,MACF,IAAK,SACHgW,EAAOK,OAAOpV,KACZyK,EAAAC,EAAAC,cAACuI,EAAAxI,EAAD,KACED,EAAAC,EAAAC,cAACwI,EAAAzI,EAAD,CAAY0I,QAAQ,eAAeuC,GACnClL,EAAAC,EAAAC,cAAC0I,EAAA3I,EAAD,CACExB,MAAO5H,EAAOqU,GAAUlP,QAAQ2D,QAAQ9I,EAAOqU,GAAUtT,SACzDyI,MAAO,CAACP,MAAM,QAAS+K,aAAa,OACpCrK,SAAU,SAACC,GACT,IACInM,EADa0K,EAAM8J,UAAUtS,WACdwI,EAAMoC,UACrB+J,EAAQ7W,EAAEoC,MAAMG,OAAOqU,GAC3BC,EAAMvT,QAAUuT,EAAMnP,QAAQyE,EAAEsI,OAAOtK,OACvCO,EAAMiM,oBAAoBjM,EAAMoC,SAAU9M,IAE5CiP,WAAY,CAAC1K,GAAG,gBAEdhC,EAAOqU,GAAUlP,QAAQ5G,IAAI,SAACgW,EAASC,GACrC,OACErL,EAAAC,EAAAC,cAACiF,EAAAlF,EAAD,CAAUxB,MAAO4M,GAAUD,WAY7C,IAAME,EAAUtM,EAAMwJ,YAAY+C,aAC9BC,EAAY,GAKhB,OAJAvW,OAAOC,KAAKoW,GAASlW,IAAI,SAAAqW,GACvBD,EAAUF,EAAQG,GAAS9U,OAAS8U,IAIpCzL,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAC3G,QAAQ,SAEnBsG,EAAAC,EAAAC,cAAA,WAEEF,EAAAC,EAAAC,cAAA,MAAIG,MAAO,CAACsH,UAAU,QAAtB,sBAEA3H,EAAAC,EAAAC,cAACwL,GAAD,CACE9T,QAASyS,EAAM3T,MAAMC,MACrBqF,QAAS/G,OAAOC,KAAKsW,GACrBhL,SAAU,SAAA3I,GACR,GAAIA,KAAO2T,EAAW,CACpB,IACIlX,EADa0K,EAAM8J,UAAUtS,WACdwI,EAAMoC,UACzB9M,EAAEoC,MAAQ4U,EAAQE,EAAU3T,IAC5BmH,EAAMiM,oBAAoBjM,EAAMoC,SAAU9M,OAIhD0L,EAAAC,EAAAC,cAACkD,EAAAnD,EAAD,CACEqB,MAAM,OACN7C,MAAO4L,EAAM9V,KACb4S,OAAO,QACP9G,MAAO,CAACP,MAAM,OACdU,SAAU,SAAAC,GACR,IACInM,EADa0K,EAAM8J,UAAUtS,WACdwI,EAAMoC,UACzB9M,EAAEC,KAAOkM,EAAEsI,OAAOtK,MAClBO,EAAMiM,oBAAoBjM,EAAMoC,SAAU9M,MAG9C0L,EAAAC,EAAAC,cAACyL,EAAA1L,EAAD,CACE2L,aAAW,SACXnJ,MAAOoJ,IAAI,KACXxL,MAAO,CACLyL,WAAW,GACXnE,UAAU,EACVlF,MAAMoJ,IAAI,MAEZjH,QAAS5F,EAAM+M,gBACf/L,EAAAC,EAAAC,cAAC8L,EAAA/L,EAAD,QAKJD,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAC8I,WAAW,SACtBnJ,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,WAAOoK,EAAOC,KACdvK,EAAAC,EAAAC,cAAA,WAAOoK,EAAOE,QACdxK,EAAAC,EAAAC,cAAA,WAAOoK,EAAOK,QACd3K,EAAAC,EAAAC,cAAA,WAAOoK,EAAOI,OACd1K,EAAAC,EAAAC,cAAA,WAAOoK,EAAOG,QAMpB,OACEzK,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAC0G,QAAQ,QAASjH,MAAM,OAAQgH,OAAO,SACjD9G,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAC0G,QAAQ,aAAckF,cAAc,SAAUC,UAAU,WAArE,mDASKC,GAAU,SAACnN,GACtB,OACEgB,EAAAC,EAAAC,cAACkM,EAAA,iBAAD,CAAkB1K,MAAO1C,EAAM+I,UAAYA,GAAYG,IACrDlI,EAAAC,EAAAC,cAACmM,EAAApM,EAAD,CACE2K,QAAQ,aACR0B,OAAO,OACPC,KAAMvN,EAAMuN,MAEZvM,EAAAC,EAAAC,cAAA,OACEsM,MAAM,cACNnM,MAAO,CACLoM,SAASzN,EAAM2K,SAAS+C,YACxBjK,MAAQzD,EAAM+I,UAAY,QAAU,UAGtC/H,EAAAC,EAAAC,cAAC8E,EAAA/E,EAAD,CAAY0M,cAAY,EAAC/B,QAAQ,KAAKvF,UAAU,KAAKhF,MAAO,CAAC3G,QAAQ,SAArE,iBAIAsG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC0M,EAAD,CACElN,KAAM,CAAC,WAAY,OAAQ,aAC3BD,IAAKT,EAAM2K,SAASlK,IACpBK,MAAO,IACPa,YAAa,SAAClC,GACZ,IAAIkL,EAAW3K,EAAM8J,UAAUa,SAC/BA,EAASlK,IAAMhB,EAEbkL,EAAS+C,YADG,SAAVjO,EACqB,IAEA,IAEzBO,EAAM4K,eAAeD,OAI3B3J,EAAAC,EAAAC,cAAA,OAAKsM,MAAM,YAAYnM,MAAO,CAACwB,gBAAiB7C,EAAM+I,UAAYgC,oBAAkB3B,KAAKC,WAAa,OAEpGrI,EAAAC,EAAAC,cAAA,WAE2B,aAAvBlB,EAAM2K,SAASlK,IAAqBO,EAAAC,EAAAC,cAAC2M,GAAD,CAClCrE,YAAaxJ,EAAMwJ,YACnBhS,WAAYwI,EAAMxI,WAClBsS,QAAS9J,EAAM8J,QACfE,UAAWhK,EAAMgK,UACjBW,SAAU3K,EAAM2K,SAChBC,eAAgB5K,EAAM4K,iBAAoB,KAGrB,SAAvB5K,EAAM2K,SAASlK,IAAiBO,EAAAC,EAAAC,cAAC4M,GAAD,CAC9BtE,YAAaxJ,EAAMwJ,YACnBhS,WAAYwI,EAAMxI,WAClBsS,QAAS9J,EAAM8J,QACfqB,KAAMnL,EAAMmL,KACZpC,UAAW/I,EAAM+I,YAAe,KAGX,cAAvB/I,EAAM2K,SAASlK,IAAsBO,EAAAC,EAAAC,cAAC6M,GAAD,CACnC3L,SAAUpC,EAAMoC,SAChBuI,SAAU3K,EAAM2K,SAChBnB,YAAaxJ,EAAMwJ,YACnBhS,WAAYwI,EAAMxI,WAClBsS,QAAS9J,EAAM8J,QACfiD,eAAgB/M,EAAM+M,eACtBd,oBAAqBjM,EAAMiM,sBAAyB,WC/ZhE+B,GAAO,CACXC,EAAG,MACHC,EAAG,MACHC,EAAG,MACHC,EAAG,OAGL,SAASC,GAAWC,GAClB,OAAOA,EAAIC,SAAS,IAGtB,SAASC,GAAWC,GAClB,OAAOC,SAASD,EAAK,IA4BvB,SAASE,GAAapW,EAAKb,GACzB,IAAIG,EAASH,EAAMG,OACb+W,EAAUrW,EAAIsW,MAAMb,GAAK,IAmB/B,OAlBA/X,OAAOC,KAAK2B,GAAQiX,OAAO1Y,IAAI,SAAC2Y,EAAMnY,GACpC,IAAIuV,EAAQtU,EAAOkX,GACbC,EAAIJ,EAAQhY,GACC,SAAfuV,EAAMxT,KACRwT,EAAMvT,QAAiB,MAANoW,EAAY,OAAS,QACd,UAAf7C,EAAMxT,KACfqW,EAAEH,MAAMb,GAAK,IAAI5X,IAAI,SAAC6Y,EAAMC,GAC1B/C,EAAMvT,QAAQsW,GAAQV,GAAWS,KAEX,WAAf9C,EAAMxT,KACfwT,EAAMvT,QAAUuT,EAAMnP,QAAQgS,GACN,QAAf7C,EAAMxT,KACfwT,EAAMvT,QAAU4V,GAAWQ,GAE3B7C,EAAMvT,QAAUoW,IAGpBtX,EAAMG,OAASA,EACRH,EAcT,SAASyX,GAAc5W,GACrB,IAAM6W,EAAY,CAChBnO,EAAG,OACHoJ,EAAG,MACHgF,EAAG,OACHjF,EAAG,QACHkF,EAAG,UAEDV,EAAUrW,EAAIsW,MAAMb,GAAK,IACzBxX,EAAU,GASd,OARAoY,EAAQxY,IAAI,SAAAmZ,GACI,KAAVA,IACF/Y,EAAQ+Y,EAAMzW,UAAU,EAAGyW,EAAMjY,OAAS,IAAM,CAC9CkY,OAAQJ,EAAUG,EAAMA,EAAMjY,OAAS,IACvC8B,MAAOgW,EAAUG,EAAMA,EAAMjY,OAAS,QAIrCd,EAGT,SAASiZ,GAAYna,EAAGD,GAUtB,IAAIkD,EAAM,GAAKlD,EAOf,OANAkD,GAAOyV,GAAK,GAAK1Y,EAAEC,KACnBgD,GAAOyV,GAAK,GAAKK,GAAWlX,KAAKiD,MAAM9E,EAAEoa,IAAIC,EAAE,KAC/CpX,GAAOyV,GAAK,GAAKK,GAAWlX,KAAKiD,MAAM9E,EAAEoa,IAAIE,EAAE,KAC/CrX,GAAOyV,GAAK,IAAwB,UAAlB1Y,EAAEoC,MAAMC,MAAoB,GAAK0W,GAAW/Y,EAAEoC,MAAMmC,KACtEtB,GAAOyV,GAAK,GA/Cd,SAAuBxX,GACrB,IAAI+B,EAAM,GAOV,OANAtC,OAAOC,KAAKM,GAASJ,IAAI,SAAAK,GACvB8B,GAAO8V,GAAW5X,GAAWD,EAAQC,GAAS+Y,OAAO,GAAKhZ,EAAQC,GAAS2C,MAAM,GAAK4U,GAAK,KAEzF/X,OAAOC,KAAKM,GAASc,OAAS,IAChCiB,EAAMA,EAAIO,UAAU,EAAGP,EAAIjB,OAAS0W,GAAK,GAAG1W,SAEvCiB,EAuCUsX,CAAcva,EAAEkB,SACjC+B,GAAOyV,GAAK,GAjGd,SAAsBnW,GACpB,IAAIU,EAAM,GAmBV,OAlBAtC,OAAOC,KAAK2B,GAAQiX,OAAO1Y,IAAI,SAAA2Y,GAC7B,IAAM5C,EAAQtU,EAAOkX,GACF,SAAf5C,EAAMxT,KACRJ,GAA0B,SAAlB4T,EAAMvT,QAAqB,IAAM,IACjB,UAAfuT,EAAMxT,MACfwT,EAAMvT,QAAQxC,IAAI,SAAA6Y,GAChB1W,GAAO8V,GAAWY,GAAQjB,GAAK,KAEjCzV,EAAMA,EAAIO,UAAU,EAAGP,EAAIjB,OAAS0W,GAAK,GAAG1W,SACpB,WAAf6U,EAAMxT,KACfJ,GAAO4T,EAAMnP,QAAQ2D,QAAQwL,EAAMvT,SACX,QAAfuT,EAAMxT,KACfJ,GAAO8V,GAAWlC,EAAMvT,SAExBL,GAAO4T,EAAMvT,QAEfL,GAAOyV,GAAK,KAEPzV,EAAIO,UAAU,EAAGP,EAAIjB,OAAS0W,GAAK,GAAG1W,QA6E5BwY,CAAaxa,EAAEoC,MAAMG,QAqCjC,SAASkY,GAAeR,GAE7B,IAAMX,GADNW,EAAQA,EAAM/Z,QAAQ,OAAQ,MACRqZ,MAAMb,GAAK,IAG3BgC,EAAU,CACdC,EAAG,CAAC5F,EAAE,UAAWiC,QAAQnT,IAIvB/D,EAAM,CACRyU,QAASmG,EAAQT,EAAM,IAAIlF,EAC3BkC,WAAYyD,EAAQT,EAAM,IAAIjD,QAC9BvD,UAAyB,MAAbwG,EAAM,GAClBW,SAAwB,MAAbX,EAAM,GACjBY,YAA2B,MAAbZ,EAAM,GACpBa,MAAO5B,GAAWI,EAAQ,IAC1ByB,WAAY,IAAMzB,EAAQ,GAC1B0B,YAAa,IAAM1B,EAAQ,IAIzB2B,EAAS,GACTjE,EAAUlX,EAAImX,aAClBtW,OAAOC,KAAKoW,GAASlW,IAAI,SAAAqW,GACvB8D,EAAOjE,EAAQG,GAAS5S,IAAM4S,IAIhC,IAAIjV,EAAa,GAejB,OAdAoX,EAAQ9C,OAAO,EAAG8C,EAAQtX,QAAQlB,IAAI,SAAAoa,GACpC,IAAMC,EAhEV,SAAqBlY,EAAKgY,EAAQhE,GAChC,IAAMqC,EAAUrW,EAAIsW,MAAMb,GAAK,IAG3B1Y,EAAI,CACNC,KAAMqZ,EAAQ,GACd8B,aAAc,GACdhB,IAAK,CACHC,EAA4B,GAAzBnB,GAAWI,EAAQ,IACtBgB,EAA4B,GAAzBpB,GAAWI,EAAQ,KAExBlX,MAAOiX,GAAaC,EAAQ,GAAIrC,IAA4B,KAAfqC,EAAQ,GAAY,QAAU2B,EAAO/B,GAAWI,EAAQ,OACrGpY,QAAS2Y,GAAcP,EAAQ,IAC/B+B,SAAS,GAEX,MAAO,CAAEtb,IAAIuZ,EAAQ,GAAItZ,EAAEA,GAiDRsb,CAAYJ,EAAaD,EAAQnb,EAAImX,YACtD/U,EAAWiZ,EAASpb,KAAOob,EAASnb,IAEtCF,EAAG,WAAiBoC,EAGpBvB,OAAOC,KAAKsB,GAAYpB,IAAI,SAAAf,GACU,UAAhCmC,EAAWnC,GAAKqC,MAAMC,QACxBH,EAAWnC,GAAKqC,MAAMG,OAAOwB,OAAOT,QAAUpB,EAAWnC,GAAKqC,MAAMG,OAAO2B,WAAWZ,QAAQtB,UAK3FlC,0BCtMT,SAASiZ,GAAWC,GAClB,OAAOA,EAAIC,SAAS,IAwBf,SAASsC,GAASC,EAASC,GAChC,IACIC,EAAM,qHACVA,GAAO,oBApBT,SAAe3B,GACbA,EAAIlY,KAAKmC,IAAI,GAAInC,KAAKC,IAAI,GAAIiY,GAAK,KACnC,IAAI9W,EAAM,GACJnD,EAAM,uCACR6b,EAAI,IAAIC,KAUZ,OATA3Y,GAAO8V,GAAWK,SAASuC,EAAEE,UAAU5C,WAAWzV,UAAU,KAC5DP,GAAO8V,GAAW4C,EAAEG,YACpB7Y,GAAO8V,GAAW4C,EAAEI,WACpB9Y,GAAO8V,GAAW4C,EAAEK,YACpB/Y,GAAO8V,GAAW4C,EAAEM,cACpBhZ,GAAO8V,GAAW4C,EAAEO,cACpBzF,MAAMC,KAAKD,MAAMsD,EAAI9W,EAAIjB,QAAQpB,QAAQE,IAAI,SAAAQ,GAC3C2B,GAAOnD,EAAI+B,KAAK4D,MAAM5D,KAAKsa,SAAWrc,EAAIkC,WAErCiB,EAIQmZ,GAGfV,GAAO,oBAAsBF,EAC7BE,GAAO,iBACPW,KAAMC,IAAIZ,GAAKa,KAAK,SAAAC,GAClB7Z,QAAQC,IAAI4Z,kRC9BVC,GAAc,CAClB,CAAEzP,MAAO,eACT,CAAEA,MAAO,iBACT,CAAEA,MAAO,WACT,CAAEA,MAAO,WACT,CAAEA,MAAO,kBACT,CAAEA,MAAO,WACT,CAAEA,MAAO,UACT,CAAEA,MAAO,YACT,CAAEA,MAAO,cACT,CAAEA,MAAO,uBACT,CAAEA,MAAO,aACT,CAAEA,MAAO,WACT,CAAEA,MAAO,SACT,CAAEA,MAAO,aACT,CAAEA,MAAO,WACT,CAAEA,MAAO,cACT,CAAEA,MAAO,WACT,CAAEA,MAAO,WACT,CAAEA,MAAO,cACT,CAAEA,MAAO,YACT,CAAEA,MAAO,WACT,CAAEA,MAAO,WACT,CAAEA,MAAO,UACT,CAAEA,MAAO,SACT,CAAEA,MAAO,WACT,CAAEA,MAAO,UACT,CAAEA,MAAO,mCACT,CAAEA,MAAO,oCACT,CAAEA,MAAO,0BACT,CAAEA,MAAO,YACT,CAAEA,MAAO,iBACT,CAAEA,MAAO,UACT,CAAEA,MAAO,kCACT,CAAEA,MAAO,sBACTlM,IAAI,SAAA4b,GAAU,MAAK,CACnBvS,MAAOuS,EAAW1P,MAClBA,MAAO0P,EAAW1P,SA+DpB,SAASuB,GAATC,GAAgD,IAAtBC,EAAsBD,EAAtBC,SAAa/D,EAAS/J,OAAA+N,GAAA,EAAA/N,CAAA6N,EAAA,cAC9C,OAAO9C,EAAAC,EAAAC,cAAA,MAAAjL,OAAAgO,OAAA,CAAKrM,IAAKmM,GAAc/D,IAmFjC,IAAMkE,GAAa,CACjBC,QAjFF,SAAiBnE,GACf,OACEgB,EAAAC,EAAAC,cAACkD,EAAAnD,EAADhL,OAAAgO,OAAA,CACEI,WAAS,EACTC,WAAY,CACVT,kBACAU,WAAWtO,OAAAuO,GAAA,EAAAvO,CAAA,CACTkL,UAAWnB,EAAMyE,YAAY5D,QAAQzH,MACrC2K,SAAU/D,EAAM0E,SAChBC,SAAU3E,EAAM2E,UACb3E,EAAM4E,cAGT5E,EAAMyE,YAAYI,kBAqE1BC,KAVF,SAAc9E,GACZ,OACEgB,EAAAC,EAAAC,cAAC6D,GAAA9D,EAADhL,OAAAgO,OAAA,CAAOe,QAAM,EAAC7D,UAAWnB,EAAMyE,YAAY5D,QAAQoE,OAAWjF,EAAM4E,YACjE5E,EAAM2E,WAQXO,WAzBF,SAAoBlF,GAClB,OACEgB,EAAAC,EAAAC,cAACiE,GAAAlE,EAAD,CACEmE,UAAW,EACX9C,MAAOtC,EAAM2E,SACbxD,UAAWkE,KAAWrF,EAAMyE,YAAY5D,QAAQyE,KAA3BrP,OAAAsP,EAAA,EAAAtP,CAAA,GAClB+J,EAAMyE,YAAY5D,QAAQ2E,YAAcxF,EAAMyF,YAEjDC,SAAU1F,EAAM2F,YAAYC,QAC5BC,WAAY7E,EAAAC,EAAAC,cAAC4E,GAAA7E,EAAejB,EAAM2F,gBAiBtCI,iBApGF,SAA0B/F,GACxB,OACEgB,EAAAC,EAAAC,cAAC8E,EAAA/E,EAADhL,OAAAgO,OAAA,CACER,MAAM,gBACNtC,UAAWnB,EAAMyE,YAAY5D,QAAQoF,kBACjCjG,EAAM4E,YAET5E,EAAM2E,WA8FXuB,OAnEF,SAAgBlG,GACd,OACEgB,EAAAC,EAAAC,cAACiF,EAAAlF,EAADhL,OAAAgO,OAAA,CACEmC,UAAWpG,EAAM0E,SACjBtC,SAAUpC,EAAMyF,UAChBY,UAAU,MACVhF,MAAO,CACL2B,WAAYhD,EAAMsG,WAAa,IAAM,MAEnCtG,EAAM4E,YAET5E,EAAM2E,WAyDX4B,YApDF,SAAqBvG,GACnB,OACEgB,EAAAC,EAAAC,cAAC8E,EAAA/E,EAADhL,OAAAgO,OAAA,CACER,MAAM,gBACNtC,UAAWnB,EAAMyE,YAAY5D,QAAQ2F,aACjCxG,EAAM4E,YAET5E,EAAM2E,WA8CX8B,YAzCF,SAAqBzG,GACnB,OACEgB,EAAAC,EAAAC,cAAC8E,EAAA/E,EAADhL,OAAAgO,OAAA,CAAY9C,UAAWnB,EAAMyE,YAAY5D,QAAQ6F,aAAiB1G,EAAM4E,YACrE5E,EAAM2E,WAuCXgC,eAlCF,SAAwB3G,GACtB,OAAOgB,EAAAC,EAAAC,cAAA,OAAKC,UAAWnB,EAAMyE,YAAY5D,QAAQ+F,gBAAiB5G,EAAM2E,YAoCpEsN,8MACJ1R,MAAQ,CACN2R,OAAQ,KACRC,MAAO,QAGTC,aAAe,SAAA7c,GAAI,OAAI,SAAAkK,GACrBQ,EAAKyB,SAALzL,OAAAsP,EAAA,EAAAtP,CAAA,GACGV,EAAOkK,8EAIH,IAAAyH,EACoB/G,KAAKH,MAAxBa,EADDqG,EACCrG,QAAS6B,EADVwE,EACUxE,MAEXyE,EAAe,CACnB/N,MAAO,SAAAgO,GAAI,OAAAnR,OAAAuO,GAAA,EAAAvO,CAAA,GACNmR,EADM,CAET3D,MAAOf,EAAM2E,QAAQC,KAAKC,QAC1BC,UAAW,CACTC,KAAM,eAKZ,OACEzG,EAAAC,EAAAC,cAAA,OAAKC,UAAWN,EAAQO,MACtBJ,EAAAC,EAAAC,cAACwG,GAAAzG,EAAD,KACED,EAAAC,EAAAC,cAACyG,GAAA,EAAD,CACE9G,QAASA,EACT+G,OAAQT,EACRnK,QAAS+U,GACT7N,WAAYA,GACZzE,MAAOU,KAAKI,MAAM2R,OAClB1Q,SAAUrB,KAAKiS,aAAa,UAC5B5L,YAAY,kCACZqB,aAAW,IAEb7G,EAAAC,EAAAC,cAAA,OAAKC,UAAWN,EAAQgI,UACxB7H,EAAAC,EAAAC,cAACyG,GAAA,EAAD,CACE9G,QAASA,EACT+G,OAAQT,EACRtC,eAAgB,CACdvC,MAAO,QACP+P,gBAAiB,CACfC,QAAQ,IAGZtV,QAAS+U,GACT7N,WAAYA,GACZzE,MAAOU,KAAKI,MAAM4R,MAClB3Q,SAAUrB,KAAKiS,aAAa,SAC5B5L,YAAY,4BACZ+L,SAAO,aArDKhQ,IAAMC,WAkEfC,qBA7NA,SAAAC,GAAK,MAAK,CACvBtB,KAAM,CACJuB,SAAU,EACVmF,OAAQ,KAEV1O,MAAO,CACL2O,QAAS,OACTrN,QAAS,GAEXkM,eAAgB,CACdmB,QAAS,OACTC,SAAU,OACVC,KAAM,EACNC,WAAY,SACZ5G,SAAU,UAEZgE,KAAM,CACJ6C,OAAM,GAAAC,OAAK1F,EAAMU,QAAQC,KAAO,EAA1B,OAAA+E,OAAiC1F,EAAMU,QAAQC,KAAO,EAAtD,OAERmC,YAAa,CACX3C,gBAAiBwF,qBACQ,UAAvB3F,EAAM2E,QAAQ1O,KAAmB+J,EAAM2E,QAAQiB,KAAK,KAAO5F,EAAM2E,QAAQiB,KAAK,KAC9E,MAGJrC,iBAAkB,CAChBvL,QAAO,GAAA0N,OAAK1F,EAAMU,QAAQC,KAAnB,OAAA+E,OAAkD,EAArB1F,EAAMU,QAAQC,KAA3C,OAETqD,YAAa,CACX6B,SAAU,IAEZ/B,YAAa,CACXgC,SAAU,WACVC,KAAM,EACNF,SAAU,IAEZtD,MAAO,CACLuD,SAAU,WACVE,OAAQ,EACRC,UAAWjG,EAAMU,QAAQC,KACzBoF,KAAM,EACNG,MAAO,GAETC,QAAS,CACPf,OAA6B,EAArBpF,EAAMU,QAAQC,QAiLQ,CAAEyF,WAAW,GAAhCrG,CAAwCwP,IClOvD,SAASO,GAAW/D,EAAKgE,EAAQC,GAC/B,IAAIC,EAAS,GAEb,OADAlE,EAAII,MAAM4D,GAAQrc,IAAI,SAAAyC,GAAQ8Z,GAAU9Z,EAAM6Z,IACvCC,EAAO7Z,UAAU,EAAG6Z,EAAOrb,OAASob,EAAYpb,YAgZ1Csb,eAzYb,SAAAA,EAAY5S,GAAO,IAAAC,EAAA,OAAAhK,OAAAiK,EAAA,EAAAjK,CAAAkK,KAAAyS,IACjB3S,EAAAhK,OAAAmK,EAAA,EAAAnK,CAAAkK,KAAAlK,OAAAoK,EAAA,EAAApK,CAAA2c,GAAAtS,KAAAH,KAAMH,KACDO,MAAQ,CACXsS,QAAS,CAAClD,EAAE,GAAIC,GAAG,IACnBzE,KAAM,GACN/I,SAAU,KACVgO,MAAO,EACP5Y,WAAY,GACZsb,YAAa,GACb9B,IAAK,GACLrG,SAAS,CACPlK,IAAK,WACLiN,YAAa,IACb3E,WAAW,EACXgK,WAAW,EACX7C,UAAU,EACVC,aAAa,EACb6C,iBAAiB,EACjB3C,WAAY,UACZC,YAAa,UACb2C,WAAW,EACXC,SAAU,cACVC,WAAYC,KAAK,MAEnB5J,YAAa,CACXK,QAAS,UACTI,UAAW,CAAE,WACbsC,WAAYpT,IAKhB8G,EAAKoT,QAAUC,OAAOC,SAASC,KAAK3E,MAAM,MAAM,GACF,MAA1C5O,EAAKoT,QAAQpT,EAAKoT,QAAQ/b,OAAS,KAAY2I,EAAKoT,SAAW,KACnEpT,EAAK7K,IAAM,GAGX6K,EAAKwT,aAAexT,EAAKwT,aAAaC,KAAlBzd,OAAA0d,EAAA,EAAA1d,QAAA0d,EAAA,EAAA1d,CAAAgK,KACpBA,EAAK2T,iBAAmB3T,EAAK2T,iBAAiBF,KAAtBzd,OAAA0d,EAAA,EAAA1d,QAAA0d,EAAA,EAAA1d,CAAAgK,KACxBA,EAAK8M,eAAiB9M,EAAK8M,eAAe2G,KAApBzd,OAAA0d,EAAA,EAAA1d,QAAA0d,EAAA,EAAA1d,CAAAgK,KACtBA,EAAK4T,SAAW5T,EAAK4T,SAASH,KAAdzd,OAAA0d,EAAA,EAAA1d,QAAA0d,EAAA,EAAA1d,CAAAgK,KAChBA,EAAK6T,iBAAmB7T,EAAK6T,iBAAiBJ,KAAtBzd,OAAA0d,EAAA,EAAA1d,QAAA0d,EAAA,EAAA1d,CAAAgK,KACxBA,EAAKgM,oBAAsBhM,EAAKgM,oBAAoByH,KAAzBzd,OAAA0d,EAAA,EAAA1d,QAAA0d,EAAA,EAAA1d,CAAAgK,KA1CVA,mFA+CC,IF1DA8Q,EE0DAnQ,EAAAT,KACdoP,EAAQ+D,OAAOC,SAASC,KAAK3E,MAAM1O,KAAKkT,SAAS,GAErD,GAAI9D,EAAMjZ,SAAS,MAAO,EAGpBqU,EAAWxK,KAAKI,MAAMoK,UACjBsI,WAAY,EACrBtI,EAASuI,SAAW,uBACpBvI,EAASwI,WAAaY,KAAI,KAC1B5T,KAAKuB,SAAS,CAACiJ,aAEf,IFtEgBoG,EEwER,SAAAiD,GAKJ,GAFAzE,EAAQyE,EADRzE,EAAQA,EAAMV,MAAM,MAAM,IAGf,CAET,IAAIoF,EAASlE,GADbR,EAAQiD,GAAWjD,EAAO,MAAO,MAIjC5E,EAAW/J,EAAKL,MAAMoK,SACtB,IAAInB,EAAc5I,EAAKL,MAAMiJ,YAC7BmB,EAAS5B,UAAYkL,EAAOlL,UAC5B4B,EAASuF,SAAW+D,EAAO/D,SAC3BvF,EAAS0F,WAAa4D,EAAO5D,WAC7B1F,EAAS2F,YAAc2D,EAAO3D,YAC9B3F,EAASwF,YAAc8D,EAAO9D,YAC9B3G,EAAYK,QAAUoK,EAAOpK,QAG7Bc,EAASsI,WAAY,EACrBtI,EAASuI,SAAW,wBACpBvI,EAASwI,WAAaC,KAAK,KAG3BxS,EAAKc,SAAS,CACZ0O,MAAM6D,EAAO7D,MACb5Y,WAAWyc,EAAOzc,WAClBmT,SAASA,EACTnB,YAAYA,GACX,WACD5I,EAAKkT,mBACLlT,EAAKiT,eFtGjBlC,KAAMC,IAAI,qHAAqHC,KAAK,SAAAC,GAClI,IAAI1c,EAAM,GACV0c,EAAIkC,KAAKE,KAAKC,MAAM/d,IAAI,SAAA+d,GACtB/e,EAAI+e,EAAMxc,MAAN,IAAqBwc,EAAMrD,QAAN,GAAoBjC,MAAM,aAAa,KAElEkC,EAAG3b,KEwGC,MAAMgf,GAEN,IAAIzJ,EADJ1S,QAAQC,IAAIkc,IACRzJ,EAAWxK,KAAKI,MAAMoK,UACjBsI,WAAY,EACrBtI,EAASuI,SAAW,0BACpBvI,EAASwI,WAAatG,IAAG,KACzB1M,KAAKuB,SAAS,CAAEiJ,mBAIlBxK,KAAK2T,mBACL3T,KAAK0T,8CAQP,IAAIQ,EAAS,KAC0B,YAAnClU,KAAKI,MAAMiJ,YAAYK,UAAuBwK,EAAShc,GAG3D8H,KAAKuB,SAAS,CAAEyJ,KAAKkJ,EAAOlU,KAAKI,MAAM/I,WAAY2I,KAAK/K,KAAO,sDAK9C,IAAAkf,EAAAnU,KAGb3I,EAAa2I,KAAKI,MAAM/I,WAG5B2I,KAAK/K,IAAMmC,EAAUC,GAGrB,IAAIzB,EAAU,GACdoK,KAAK/K,IAAIO,MAAMS,IAAI,SAAAf,GACmB,UAAhCif,EAAKlf,IAAIA,IAAIC,GAAKwB,YACpBW,EAAWnC,GAAKqb,aAAelZ,EAAWnC,GAAKqC,MAAMiC,SAAS,KAAMnC,EAAWnC,GAAKqC,MAAMG,QAC1F9B,EAAQQ,KAAKlB,MAKjB8K,KAAK/K,IAAIO,MAAMS,IAAI,SAAAf,GACjB,IAAKU,EAAQO,SAASjB,GAAM,CAC1B,IAAIkf,EAAU,KACdte,OAAOC,KAAKoe,EAAKlf,IAAIA,IAAIC,GAAKc,QAAQC,IAAI,SAAAgC,GACpCrC,EAAQO,SAAS8B,KAAUmc,EAAUnc,KAE3CZ,EAAWnC,GAAKqC,MAAMG,OAASL,EAAWnC,GAAKqC,MAAM+B,WAAWjC,EAAW+c,GAAS7D,aAAclZ,EAAWnC,GAAKqC,MAAMG,QACxHL,EAAWnC,GAAKqb,aAAelZ,EAAWnC,GAAKqC,MAAMiC,SAASnC,EAAW+c,GAAS7D,aAAclZ,EAAWnC,GAAKqC,MAAMG,QACtH9B,EAAQQ,KAAKlB,MAKjB8K,KAAKuB,SAAS,CAAElK,2DAKEnC,EAAKsV,GACvB,IAAInT,EAAa2I,KAAKI,MAAM/I,WAC5BA,EAAWnC,GAAOsV,EAClBxK,KAAKuB,SAAS,CAAElK,eAChB2I,KAAK2T,mBACL3T,KAAK0T,oDAIU,IAAAW,EAAArU,KACX3I,EAAa2I,KAAKI,MAAM/I,kBACrBA,EAAW2I,KAAKI,MAAM6B,UAC7BnM,OAAOC,KAAKsB,GAAYpB,IAAI,SAAAa,GACtBud,EAAKjU,MAAM6B,YAAY5K,EAAWP,GAAUT,gBACvCgB,EAAWP,GAAUT,QAAQge,EAAKjU,MAAM6B,YAGnDjC,KAAKuB,SAAS,CAAClK,aAAY4K,SAAS,OACpCjC,KAAK2T,mBACL3T,KAAK0T,kDAKL,IAAIrc,EAAa2I,KAAKI,MAAM/I,WAC5BA,EAAW,GAAK2I,KAAKI,MAAM6P,OAAS,CAClC7a,KAAM,GACNmb,aAAc,GACdhB,IAAK,CAACC,EAAExP,KAAKI,MAAMsS,QAAQlD,EAAGC,EAAEzP,KAAKI,MAAMsS,QAAQjD,EAAI,IACvDpZ,QAAS,GACTma,SAAS,EACTjZ,MAAOyI,KAAKI,MAAMiJ,YAAY+C,aAAa3S,QAE7CuG,KAAKuB,SAAS,CAAElK,aAAY4Y,MAAMjQ,KAAKI,MAAM6P,MAAQ,EAAGyC,QAAQ,CAAClD,EAAExP,KAAKI,MAAMsS,QAAQlD,EAAGC,EAAEzP,KAAKI,MAAMsS,QAAQjD,EAAI,MAClHzP,KAAK2T,mBACL3T,KAAK0T,oDAIUxe,GACf,IAAI+M,EAAWjC,KAAKI,MAAM6B,SACtB5K,EAAa2I,KAAKI,MAAM/I,WAC5B,GAAiB,OAAb4K,EACFA,EAAW/M,MACN,CACL,GAAI+M,IAAa/M,EAAK,CACpB,IAAIof,EAAKjd,EAAW4K,GAChB/M,KAAOof,EAAGje,eACLie,EAAGje,QAAQnB,GAElBof,EAAGje,QAAQnB,GAAO,CAChBma,OAAO,OACPpW,MAAM,QAIZgJ,EAAW,KAEbjC,KAAKuB,SAAS,CAAEU,WAAU5K,eAC1B2I,KAAK2T,mBACL3T,KAAK0T,4CAIE,IAAAa,EAAAvU,KACP,OACEa,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAACwB,gBAAiB1C,KAAKI,MAAMoK,SAAS5B,UAAY,QAAU,UAEtE/H,EAAAC,EAAAC,cAACyT,GAAD,CACEvS,SAAUjC,KAAKI,MAAM6B,SACrBmL,KAAMpN,KAAKI,MAAMoK,SAASwF,YAC1B3Y,WAAY2I,KAAKI,MAAM/I,WACvBmT,SAAUxK,KAAKI,MAAMoK,SACrBnB,YAAarJ,KAAKI,MAAMiJ,YACxBM,QAAS,WAAO,OAAO4K,EAAKnU,OAC5BqK,eAAgB,SAACD,GAAc+J,EAAKhT,SAAS,CAACiJ,cAC9CX,UAAW,SAACR,GAAiBkL,EAAKhT,SAAS,CAAC8H,iBAC5CuD,eAAgB5M,KAAK4M,eACrBhE,UAAW5I,KAAKI,MAAMoK,SAAS5B,UAC/BoC,KAAMhL,KAAKI,MAAM4K,KACjBc,oBAAqB9L,KAAK8L,sBAE5BjL,EAAAC,EAAAC,cAAC0T,EAAA,UAAD,CACExS,SAAUjC,KAAKI,MAAM6B,SACrB4Q,gBAAiB7S,KAAKI,MAAMoK,SAASqI,gBACrCpN,QAAS,SAAAnE,GAAMiT,EAAKhT,SAAS,CAAEU,SAAS,QACxCiO,WAAW,UACXC,YAAY,UACZjP,MAAO,CACLyG,OAAQ,QACRgF,WAAW3M,KAAKI,MAAMoK,SAAS+C,YAAcvN,KAAKI,MAAMoK,SAASwF,YAAc,KAC/EtN,gBAAiB1C,KAAKI,MAAMoK,SAAS5B,UAAY,QAAU,QAC3D8L,WAAW,CAAC,4BAA4B,oCAGxC5e,OAAOC,KAAKiK,KAAKI,MAAM/I,YAAYpB,IAAI,SAAAf,GACrC,IAAMgW,EAAQqJ,EAAKnU,MAAM/I,WAAWnC,GACpC,OACE2L,EAAAC,EAAAC,cAAC0T,EAAA,UAAD,CACEvf,IAAKA,EACLyf,KAAM,CAAEnF,EAAE,GAAIC,EAAE,IAChBmF,cAAe1J,EAAMqE,IACrBlZ,QAAS6U,EAAM7U,QACfoP,QAAS,WAAO8O,EAAKd,iBAAiBve,IACtC2f,UAAQ,EACRC,OAAQ,SAAAvF,GACN,IAAIlY,EAAakd,EAAKnU,MAAM/I,WAC5BA,EAAWnC,GAAKqa,IAAMA,EACtBgF,EAAKhT,SAAS,CAAElK,aAAYqb,QAAQnD,KAEtCrO,MAAO,CACLyG,OAAO,OACPoN,UAAWR,EAAKnU,MAAMoK,SAASoI,UAAY,IAAM,GACjDlQ,gBAAiB6R,EAAKnU,MAAMoK,SAAS5B,UAAY,QAAU,QAC3DoM,YAAa,QACbC,YAAaV,EAAKnU,MAAM6B,WAAa/M,EAAM,UAAY,UACvDggB,YAAa,MACbC,aAAc,MACdT,WAAY,+BAEd7T,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAACoC,MAAOiR,EAAKnU,MAAMoK,SAAS5B,UAAY,QAAU,QAAUjB,OAAO,SAC7E9G,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAC0G,QAAQ,QAASjH,MAAM,OAAQgH,OAAO,SACjD9G,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAC0G,QAAQ,aAAckF,cAAc,SAAUC,UAAU,WAEjEwH,EAAKnU,MAAMoK,SAASuF,SAAW7E,EAAM9V,KAAO8V,EAAM3T,MAAMC,QAK5D+c,EAAKnU,MAAMoK,SAASoI,UA/T1C,SAAkBwC,GAChB,IAAIhd,EAAM,IAMV,OALAgd,EAAMnf,IAAI,SAAAyC,GACRN,GAAOM,EAAM,MAEX0c,EAAMje,OAAS,IAAGiB,EAAMA,EAAIO,UAAU,EAAGP,EAAIjB,OAAS,IAC1DiB,GAAO,IAELyI,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAAC6L,UAAU,SAAUsI,cAAc,SAE3Cjd,GAqT8Ckd,CAASpK,EAAMqF,cAAgB,UAS7E1P,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CACRqU,OAAO,MACPjN,KAAKtI,KAAKI,MAAMoK,SAAS+C,YAAcvN,KAAKI,MAAMoK,SAASwF,YAAc,EAAI,KAC7E3H,SAAS,QACTqM,WAAY,uBAEd7T,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAACmU,cAAc,IACzBxU,EAAAC,EAAAC,cAACyU,GAAA1U,EAAD,CACEI,MAAO,CAACgI,WAAWuM,KAAS,KAAUnS,MAAM,UAAWiF,OAAO,EAAGmN,UAAU,QAC3EjJ,aAAW,MACXhH,QAAS,WAAO8O,EAAKjB,iBACrBzS,EAAAC,EAAAC,cAAC4U,GAAA7U,EAAD,QAGJD,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAACmU,cAAc,IACzBxU,EAAAC,EAAAC,cAACyU,GAAA1U,EAAD,CACEI,MAAO,CAACgI,WAAW0K,KAAI,KAAUtQ,MAAM,UAAWiF,OAAO,EAAGmN,UAAU,QACtEjJ,aAAW,YACXhH,QAAS,WACPmQ,KAAKrB,EAAKnU,MAAM4K,MAChB,IAAIR,EAAW+J,EAAKnU,MAAMoK,SAC1BA,EAASsI,WAAY,EACrBtI,EAASuI,SAAW,2BACpBvI,EAASwI,WAAaY,KAAI,KAC1BW,EAAKhT,SAAS,CAACiJ,eAEjB3J,EAAAC,EAAAC,cAAC8U,GAAA/U,EAAD,QAGJD,EAAAC,EAAAC,cAAA,OAAKG,MAAO,CAACmU,cAAc,IACzBxU,EAAAC,EAAAC,cAACyU,GAAA1U,EAAD,CACEI,MAAO,CAACgI,WAAW4M,KAAM,KAAUxS,MAAM,UAAWiF,OAAO,EAAGmN,UAAU,QACxEjJ,aAAW,YACXhH,QAAS,WACP,IAAIsQ,EHpPb,SAAsB1e,EAAY6Y,EAAYC,EAAaF,EAAOrH,EAAWoN,EAAWtM,EAASsG,GAEtG,IAAI5X,EAAM,GAAKsR,EAAQ,GASvB,OARAtR,GAAQwQ,EAAY,IAAM,IAC1BxQ,GAAQ4d,EAAY,IAAM,IAC1B5d,GAAQ4X,EAAc,IAAM,IAC5B5X,GAAOyV,GAAK,GAAKK,GAAW+B,GAC5B7X,GAAOyV,GAAK,GAAKqC,EAAWvX,UAAU,EAAGuX,EAAW/Y,QAAU0W,GAAK,GAAKsC,EAAYxX,UAAU,EAAGwX,EAAYhZ,QAC7GrB,OAAOC,KAAKsB,GAAYpB,IAAI,SAAAf,GAC1BkD,GAAOyV,GAAK,GAAKyB,GAAYjY,EAAWnC,GAAMA,KAEzCkD,EGyOqB6d,CACZ1B,EAAKnU,MAAM/I,WACXkd,EAAKnU,MAAMoK,SAAS0F,WACpBqE,EAAKnU,MAAMoK,SAAS2F,YACpBoE,EAAKnU,MAAM6P,MACXsE,EAAKnU,MAAMoK,SAAS5B,UACpB2L,EAAKnU,MAAMoK,SAASuF,SACpBwE,EAAKnU,MAAMiJ,YAAYK,QACvB6K,EAAKnU,MAAMoK,SAASwF,aAGtBU,GADAqF,EAAU1D,GAAW0D,EAAS,IAAK,UAWrClV,EAAAC,EAAAC,cAACmV,GAAApV,EAAD,QAGJD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyU,GAAA1U,EAAD,CACEI,MAAO,CAACgI,WAAWiN,KAAU,KAAU7S,MAAM,UAAWiF,OAAO,EAAGmN,UAAU,QAC5EjJ,aAAW,YACXhH,QAAS,WACP,IAAI+E,EAAW+J,EAAKnU,MAAMoK,SAC1BA,EAASwF,aAAexF,EAASwF,YACjCuE,EAAKhT,SAAS,CAACiJ,eAEjB3J,EAAAC,EAAAC,cAACqV,GAAAtV,EAAD,SAKND,EAAAC,EAAAC,cAACsV,GAAAvV,EAAD,CACEwV,iBAAkB,IAClBC,QAAS,WACP,IAAI/L,EAAW+J,EAAKnU,MAAMoK,SAC1BA,EAASsI,WAAY,EACrByB,EAAKhT,SAAS,CAAEiJ,cAElBgM,aAAc,CAACC,SAAU,SAAUC,WAAY,SAC/CtJ,KAAMpN,KAAKI,MAAMoK,SAASsI,WAC1BjS,EAAAC,EAAAC,cAAC4V,GAAA7V,EAAD,CACE8V,QAAS5W,KAAKI,MAAMoK,SAASuI,SAC7B7R,MAAO,CAACwB,gBAAgB1C,KAAKI,MAAMoK,SAASwI,WAAY1P,MAAM,oBAlYxDjB,aC9CEwU,QACW,cAA7B1D,OAAOC,SAAS0D,UAEe,UAA7B3D,OAAOC,SAAS0D,UAEhB3D,OAAOC,SAAS0D,SAASC,MACvB,2DCZNC,IAASC,OAAOpW,EAAAC,EAAAC,cAACmW,GAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAczhB,MAAM6b,KAAK,SAAA6F,GACjCA,EAAaC","file":"static/js/main.9cd03944.chunk.js","sourcesContent":["import React from 'react';\n\n\nexport function getPointName(lib, key) {\n  const p = lib[key]\n  return (p.name === '' ? ('p_' + key) : p.name).replace(/ /g, '_')\n}\n\n\nfunction prepPoints(flowpoints) {\n\n  // Helpers\n  var n_inputs = 0\n  var lib = {}\n\n  // Adding all keys to lib\n  Object.keys(flowpoints).map(key => {\n    const p = flowpoints[key];\n    lib[key] = {\n      specTitle: p.specs.title,\n      inputs: {},\n      outputs: {},\n      name: p.name,\n      ref: p.specs.ref,\n      params: p.specs.params,\n      index: null,\n      visited: false,\n      downstreamVisited: false,\n      ready: false,\n      statename: null,\n      needState: false,\n    }\n    if (p.specs.title === 'Input') {\n      lib[key].index = n_inputs;\n      lib[key].ready = true;\n      lib[key].statename = (p.name === '' ? ('input_' + n_inputs) : p.name);\n      n_inputs = n_inputs + 1\n    }\n  })\n\n  // Adding bidirectional connection pointers\n  Object.keys(flowpoints).map(key => {\n    var p = lib[key];\n    Object.keys(flowpoints[key].outputs).map(out_key => {\n      p.outputs[out_key] = lib[out_key]\n      if (!(out_key in lib)) {\n        console.log(out_key, lib)\n      } else {\n        lib[out_key].inputs[key] = lib[key]\n      }\n    })\n  })\n\n  // Returning\n  return lib\n\n}\n\n\n\nfunction recursive_isDownStream(lib, targetKey, myKey, depth, maxDepth) {\n\n  // Returning if matching\n  if (targetKey === myKey) return true\n\n  // Marking self as visited on this run\n  lib[myKey].downstreamVisited = true;\n\n  // Helper\n  var isDone = false;\n\n  // Testing outputs\n  if (depth < maxDepth) {\n    lib[myKey].outputs.map(out_key => {\n      if (!isDone && !lib[out_key].downstreamVisited) {\n        isDone = recursive_isDownStream(lib, targetKey, out_key, depth + 1, maxDepth);\n      }\n    })\n  }\n\n  // Returning\n  return isDone\n\n}\n\n\nfunction isDownStream(lib, targetKey, myKey) {\n\n  // Prepping lib\n  Object.keys(lib).map(key => {\n    lib[key].downstreamVisited = false;\n  })\n\n  // Testing\n  const isDone = recursive_isDownStream(lib, targetKey, myKey, 0, 100)\n\n  // Returning\n  return isDone\n\n}\n\n\nfunction isReady(lib, myKey) {\n  var ready = true;\n  Object.keys(lib[myKey].inputs).map(key => {\n    if (!lib[key].ready) ready = false\n  })\n  return ready\n}\n\n\nfunction recursive_getOrder(lib, myKey, order, depth, maxDepth) {\n\n  // Helper\n  var me = lib[myKey]\n\n  if (me) {\n    // Visited before? -> Return\n    if (me.visited) return order\n\n    // All inputs ready?\n    me.ready = isReady(lib, myKey)\n\n    // Visiting and continuing recursion downstream\n    if (me.ready) {\n      me.visited = true;\n      if (!order.includes(myKey)) order.push(myKey)\n      Object.keys(me.outputs).map(out_key => {\n        order = recursive_getOrder(lib, out_key, order, depth + 1, maxDepth)\n      })\n    }\n  }\n\n  // Returning\n  return order\n\n}\n\n\nfunction getLastUser(lib, order, target_key) {\n  var maxIndex = -1;\n  order.map((test_key, index) => {\n    if (target_key in lib[test_key].inputs) maxIndex = Math.max(maxIndex, index);\n  })\n  return order[maxIndex]\n}\n\n\nfunction getStateNames(lib, order) {\n  var states = {};\n  order.map((key, idx) => {\n    const p = lib[key];\n    if (!(key in states)) {\n      states[key] = getPointName(lib, key) + (p.specTitle === 'Input' ? '' : '_state');\n    }\n    const lastUser = getLastUser(lib, order, key);\n    if (lastUser) {\n      states[lastUser] = states[key]\n    }\n  })\n  states[order[order.length - 1]] = 'self.state'\n  return states\n}\n\n\nexport function FlowOrder(flowpoints) {\n\n  // Helpers\n  var order = []\n  var inputs = {}\n  var states = {}\n\n  // Prepping\n  var lib = prepPoints(flowpoints)\n\n  // Getting inputs\n  Object.keys(lib).map(key => {\n    if (lib[key].ready) {\n      order.push(key)\n      inputs[key] = lib[key];\n    }\n  })\n\n  // Testing inputs and downstream\n  Object.keys(inputs).map(inp_key => {\n    order = recursive_getOrder(lib, inp_key, order, 0, 100)\n  })\n\n  // Inputs always have their own states\n  var states = getStateNames(lib, order);\n\n  // Returning\n  return { lib:lib, order:order, states:states, inputs:Object.keys(inputs) }\n\n}\n","import React, { Component } from 'react';\n\nimport { getPointName } from '../../FlowOrder.js';\n\n\nfunction Initials() {\n  var msg = \"'''\"\n  msg += \"\\nCreated with https://mariusbrataas.github.io/flowpoints_ml/\"\n  msg += \"\\n\\nLICENSE:\"\n  msg += \"\\nhttps://github.com/mariusbrataas/flowpoints_ml/blob/master/LICENSE\"\n  msg += \"\\n'''\"\n  return msg\n}\n\n\nfunction Imports() {\n  var msg = \"# Importing torch tools\"\n  msg += \"\\nimport torch\"\n  msg += \"\\nfrom torch import nn, optim, cuda\"\n  msg += \"\\n\\n\"\n  msg += \"\\n# Importing other libraries\"\n  msg += \"\\nimport numpy as np\"\n  msg += \"\\nimport matplotlib.pyplot as plt\"\n  msg += \"\\nimport time\"\n  return msg\n}\n\n\nfunction Constructor(flowpoints, order) {\n\n  // Basics\n  var msg = \"# Model\"\n  msg += \"\\nclass neural_net(nn.Module):\"\n  msg += \"\\n\\n\\n    def __init__(self, optimizer=optim.SGD, alpha=0.01, criterion=nn.CrossEntropyLoss(), use_cuda=None):\"\n  msg += \"\\n\\n        # Basics\"\n  msg += \"\\n        super(neural_net, self).__init__()\"\n  msg += \"\\n\\n        # Settings\"\n  msg += \"\\n        self.optim_type = optimizer\"\n  msg += \"\\n        self.optimizer  = None\"\n  msg += \"\\n        self.alpha      = alpha\"\n  msg += \"\\n        self.criterion  = criterion\"\n  msg += \"\\n\\n        # Use CUDA?\"\n  msg += \"\\n        self.use_cuda = use_cuda if (use_cuda != None and cuda.is_available()) else cuda.is_available()\"\n  msg += \"\\n\\n        # Current loss and loss history\"\n  msg += \"\\n        self.train_loss      = 0\"\n  msg += \"\\n        self.valid_loss      = 0\"\n  msg += \"\\n        self.train_loss_hist = []\"\n  msg += \"\\n        self.valid_loss_hist = []\"\n  msg += \"\\n\\n        # State\"\n  msg += \"\\n        self.state = None\"\n\n  // Initializing modules\n  msg += \"\\n\\n        # Adding all modules\"\n  order.map(key => {\n    var p = flowpoints[key];\n    if (p.specs.title !== 'Input') {\n\n      // Getting longest param name\n      var max_l = 0;\n      Object.keys(p.specs.params).map(param_key => {max_l = Math.max(param_key.length, max_l)})\n\n      // Init object\n      msg += \"\\n        self.\" + getPointName(flowpoints, key) + \" = \" + p.specs.ref + '('\n\n      // Adding arguments\n      Object.keys(p.specs.params).map(param_key => {\n        msg += \"\\n            \" + param_key\n        for (var i = 0; i < max_l - param_key.length; i++) msg += ' '\n        msg += ' = '\n        if (p.specs.params[param_key].type === 'tuple') {\n          msg += '('\n          p.specs.params[param_key].current.map(val => {msg += val + ','})\n          msg = msg.substring(0, msg.length - 1) + ')'\n        } else if (p.specs.params[param_key].type === 'select') {\n          msg += \"'\" + p.specs.params[param_key].current + \"'\"\n        } else {\n          msg += p.specs.params[param_key].current\n        }\n      })\n      if (max_l > 0) msg += '\\n        '\n      msg += ')'\n    }\n  })\n\n  // Startup routines\n  msg += \"\\n\\n        # Running startup routines\"\n  msg += \"\\n        self.startup_routines()\"\n\n  // Returning\n  return msg\n\n}\n\n\n\nfunction StartupRoutines() {\n  var msg = \"    def startup_routines(self):\"\n  msg += \"\\n        self.optimizer = self.optim_type(self.parameters(), lr=self.alpha)\"\n  msg += \"\\n        if self.use_cuda:\"\n  msg += \"\\n            self.cuda()\"\n  return msg\n}\n\n\n\nfunction Forward(lib, states, order, inputs) {\n  var msg = \"    def forward(\"\n\n  // Adding inputs\n  inputs.map(key => { msg += states[key] + ', ' })\n  msg = msg.substring(0, msg.length - 2) + '):'\n\n  // Forwarding\n  order.map(key => {\n    const p = lib[key];\n    if (!(p.specTitle === 'Input')) {\n      msg += \"\\n        \" + states[key] + ' = '\n      msg += getPointName(lib, key) + '('\n      Object.keys(p.inputs).map(inp_key => { msg += states[inp_key] + ' + ' })\n      msg = msg.substring(0, msg.length - 3) + ') # ' + p.specTitle\n    }\n  })\n\n  // Adding return\n  msg += '\\n        return self.state'\n\n  // Returning\n  return msg\n\n}\n\n\nfunction FitStep() {\n  var msg = \"    def fit_step(self, train_loader):\"\n  msg += '\\n\\n        # Preparations for fit step'\n  msg += '\\n        self.train_loss = 0 # Resetting training loss'\n  msg += '\\n        self.train()        # Switching to autograd'\n  msg += '\\n\\n        # Looping through data'\n  msg += '\\n        for x, y in train_loader:'\n  msg += '\\n\\n            # Use CUDA?'\n  msg += '\\n            if self.use_cuda:'\n  msg += '\\n                x, y = x.cuda(), y.cuda()        # Moving tensors to GPU'\n  msg += '\\n\\n            # Performing calculations'\n  msg += '\\n            self.forward(x)                      # Forward pass'\n  msg += '\\n            loss = self.criterion(self.state, y) # Calculating loss'\n  msg += '\\n            self.train_loss += loss.item()       # Adding to epoch loss'\n  msg += '\\n            loss.backward()                      # Backward pass'\n  msg += '\\n            self.optimizer.step()                # Optimizing weights'\n  msg += '\\n            self.optimizer.zero_grad()           # Clearing gradients'\n  msg += '\\n\\n        # Adding loss to history'\n  msg += '\\n        self.train_loss_hist.append(self.train_loss / len(train_loader))'\n\n  // Returning\n  return msg\n}\n\n\nfunction ValidationStep() {\n  var msg = \"    def validation_step(self, validation_loader):\"\n  msg += '\\n\\n        # Preparations for validation step'\n  msg += '\\n        self.validation_loss = 0 # Resetting validation loss'\n  msg += '\\n\\n        # Swithing off autograd'\n  msg += '\\n        with torch.no_grad():'\n  msg += '\\n\\n            # Looping through data'\n  msg += '\\n            for x, y in validation_loader:'\n  msg += '\\n\\n                # Use CUDA?'\n  msg += '\\n                if self.use_cuda:'\n  msg += '\\n                    x, y = x.cuda(), y.cuda()        # Moving tensors to GPU'\n  msg += '\\n\\n                # Performing calculations'\n  msg += '\\n                self.forward(x)                      # Forward pass'\n  msg += '\\n                loss = self.criterion(self.state, y) # Calculating loss'\n  msg += '\\n                self.valid_loss += loss.item()       # Adding to epoch loss'\n  msg += '\\n\\n        # Adding loss to history'\n  msg += '\\n        self.valid_loss_hist.append(self.valid_loss / len(validation_loader))'\n\n  // Returning\n  return msg\n}\n\n\nfunction Fit() {\n  var msg = '    def fit(self, train_loader, validation_loader=None, epochs=10, show_progress=True):'\n  msg += '\\n\\n        # Possibly prepping progress message'\n  msg += '\\n        if show_progress:'\n  msg += '\\n            epoch_l = max(len(str(epochs)), 2)'\n  msg += \"\\n            print('Training model...')\"\n  msg += \"\\n            print('%sEpoch   Training loss   Validation loss   Duration' % ''.rjust(2 * epoch_l - 4, ' '))\"\n  msg += '\\n            t = time.time()'\n  msg += '\\n\\n        # Looping through epochs'\n  msg += '\\n        for epoch in range(epochs):'\n  msg += '\\n            self.fit_step(train_loader)                 # Optimizing weights'\n  msg += '\\n            if validation_loader != None:               # Perform validation?'\n  msg += '\\n                self.validation_step(validation_loader) # Calculating validation loss'\n  msg += '\\n\\n            # Possibly printing progress'\n  msg += '\\n            if show_progress:'\n  msg += \"\\n                print('%s/%s' % (str(epoch + 1).rjust(epoch_l, ' '), str(epochs).ljust(epoch_l, ' ')),\"\n  msg += \"\\n                    '| %s' % str(round(self.train_loss_hist[-1], 8)).ljust(13, ' '),\"\n  msg += \"\\n                    '| %s' % str(round(self.valid_loss_hist[-1], 8)).ljust(15, ' '),\"\n  msg += \"\\n                    '| %ss' % str(round(time.time() - t, 3)).rjust(7, ' '))\"\n  msg += '\\n                t = time.time()'\n\n  // Returning\n  return msg\n}\n\n\nfunction PlotHist() {\n  var msg = '    def plot_hist(self):'\n  msg += \"\\n\\n        # Adding plots\"\n  msg += \"\\n        plt.plot(self.train_loss_hist, color='blue', label='Training loss')\"\n  msg += \"\\n        plt.plot(self.valid_loss_hist, color='springgreen', label='Validation loss')\"\n  msg += \"\\n\\n        # Axis labels\"\n  msg += \"\\n        plt.xlabel('Epoch')\"\n  msg += \"\\n        plt.ylabel('Loss')\"\n  msg += \"\\n        plt.legend(loc='upper right')\"\n  msg += \"\\n\\n        # Displaying plot\"\n  msg += \"\\n        plt.show()\"\n\n  // Returning\n  return msg\n}\n\n\nfunction SaveLoad(lib, order) {\n  var msg = \"    def save(self, name='model.pth'):\"\n  msg += \"\\n        if not '.pth' in name: name += '.pth'\"\n  msg += \"\\n        torch.save({\"\n  order.map(key => {\n    const point = lib[key]\n    if (!(point.specTitle === 'Input')) {\n      const pointcode = getPointName(lib, key)\n      msg += \"\\n            '\" + pointcode + \"': self.\" + pointcode + ','\n    }\n  })\n  msg += \"\\n            'train_loss':      self.train_loss,\"\n  msg += \"\\n            'valid_loss':      self.valid_loss,\"\n  msg += \"\\n            'train_loss_hist': self.train_loss_hist,\"\n  msg += \"\\n            'valid_loss_hist': self.valid_loss_hist,\"\n  msg += \"\\n            'optim_type':      self.optim_type,\"\n  msg += \"\\n            'alpha':           self.alpha,\"\n  msg += \"\\n            'criterion':       self.criterion,\"\n  msg += \"\\n            'use_cuda':        self.use_cuda\"\n  msg += \"\\n        }, name)\"\n  msg += \"\\n\\n\\n    @staticmethod\"\n  msg += \"\\n    def load(name='model.pth'):\"\n  msg += \"\\n        if not '.pth' in name: name += '.pth'\"\n  msg += \"\\n        checkpoint = torch.load(name)\"\n  msg += \"\\n        model = neural_net(\"\n  msg += \"\\n            optimizer = checkpoint['optim_type'],\"\n  msg += \"\\n            alpha     = checkpoint['alpha'],\"\n  msg += \"\\n            criterion = checkpoint['criterion'],\"\n  msg += \"\\n            use_cuda  = checkpoint['use_cuda']\"\n  msg += \"\\n        )\"\n  order.map(key => {\n    const point = lib[key]\n    if (!(point.specTitle === 'Input')) {\n      const pointcode = getPointName(lib, key)\n      msg += \"\\n        model.\" + pointcode + \" = checkpoint['\" + pointcode + \"']\"\n    }\n  })\n  msg += \"\\n        model.train_loss      = checkpoint['train_loss']\"\n  msg += \"\\n        model.valid_loss      = checkpoint['valid_loss']\"\n  msg += \"\\n        model.train_loss_hist = checkpoint['train_loss_hist']\"\n  msg += \"\\n        model.valid_loss_hist = checkpoint['valid_loss_hist']\"\n  msg += '\\n        model.startup_routines()'\n  msg += \"\\n        return model\"\n\n  // Returning\n  return msg\n}\n\n\nfunction Flatten() {\n  var msg = '# Helper class for flattening'\n  msg += '\\nclass Flatten(nn.Module):'\n  msg += '\\n    def __init__(self):'\n  msg += '\\n        super(Flatten, self).__init__()'\n  msg += '\\n    def forward(self, x):'\n  msg += '\\n        return x.view(x.shape[0], -1)'\n  return msg\n}\n\n\nexport function PyTorchParser(flowpoints, lib) {\n\n  // Add flatten?\n  var addflatten = false;\n  Object.keys(flowpoints).map(key => {\n    if (flowpoints[key].specs.title === 'Flatten') addflatten = true;\n  })\n\n  // Helpers\n  const order = lib.order;\n  const states = lib.states;\n  const inputs = lib.inputs;\n\n  // Initials\n  var msg = Initials()\n  msg += '\\n\\n\\n' + Imports();\n\n  // Add flatten?\n  if (addflatten) msg += '\\n\\n\\n' + Flatten()\n\n  // Model\n  msg += '\\n\\n\\n' + Constructor(flowpoints, order, {});\n  msg += '\\n\\n\\n' + StartupRoutines();\n  msg += '\\n\\n\\n' + Forward(lib.lib, states, order, inputs);\n  msg += '\\n\\n\\n' + FitStep();\n  msg += '\\n\\n\\n' + ValidationStep();\n  msg += '\\n\\n\\n' + Fit();\n  msg += '\\n\\n\\n' + PlotHist();\n  msg += '\\n\\n\\n' + SaveLoad(lib.lib, order);\n\n  // Returning\n  return msg\n\n}\n","import React, { Component } from 'react';\n\nexport function PyTorchModules() {\n  return {\n    input: {\n      title: 'Input',\n      params: {\n        n_dims: { min:1, max:Infinity, current:2 },\n        dimensions: { type:'tuple', min:1, max:Infinity, current:[1,1] }\n      },\n      autoparams: (inp, p) => {\n        return p\n      },\n      outshape: (inp, p) => {\n        return p.dimensions.current\n      }\n    },\n    linear: {\n      title: 'Linear',\n      ref: 'nn.Linear',\n      id: 0,\n      params: {\n        in_features: {type:'int', min:1, max:Infinity, current:1 },\n        out_features: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type:'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        var idx = 0;\n        var out_shape = inp.map((val, index) => {\n          idx = index;\n          return val\n        });\n        out_shape[idx] = p.out_features.current;\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.in_features.current = inp[inp.length - 1]\n        return p\n      }\n    },\n    flatten: {\n      title: 'Flatten',\n      ref: 'Flatten',\n      id: 1,\n      params: {},\n      outshape: (inp, p) => {\n        var features = 1/inp[0]\n        inp.map(val => {features *= val})\n        return [inp[0], Math.round(features)]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    conv1d: {\n      title: 'Conv1d',\n      ref: 'nn.Conv1d',\n      id: 2,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const L_in = inp[2]\n        const L_out = Math.floor(1 + (L_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        return [inp[0], p.out_channels.current.current, L_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    conv2d: {\n      title: 'Conv2d',\n      ref: 'nn.Conv2d',\n      id: 3,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const H_in = inp[2]\n        const W_in = inp[3]\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        return [inp[0], p.out_channels.current, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    conv3d: {\n      title: 'Conv3d',\n      ref: 'nn.Conv3d',\n      id: 4,\n      params: {\n        in_channels: { type:'int', min:1, max:Infinity, current:1 },\n        out_channels: { type:'int', min:1, max:Infinity, current:1 },\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        groups: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        const D_in = inp[2]\n        const H_in = inp[3]\n        const W_in = inp[4]\n        const D_out = Math.floor(1 + (D_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[2] - p.dilation.current[2] * (p.kernel_size.current[2] - 1) - 1) / p.stride.current[2])\n        return [inp[0], p.out_channels.current, D_out, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        p.in_channels.current = inp[1]\n        return p\n      }\n    },\n    maxpool1d: {\n      title: 'MaxPool1d',\n      ref: 'nn.MaxPool1d',\n      id: 5,\n      params: {\n        kernel_size: { type:'int', min:1, max:Infinity, current:3 },\n        stride: { type:'int', min:1, max:Infinity, current:1 },\n        padding: { type:'int', min:0, max:Infinity, current:0 },\n        dilation: { type:'int', min:1, max:Infinity, current:1 },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const L_in = inp[2]\n        const L_out = Math.floor(1 + (L_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        return [inp[0], inp[0], L_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    maxpool2d: {\n      title: 'MaxPool2d',\n      ref: 'nn.MaxPool2d',\n      id: 6,\n      params: {\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1] },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const H_in = inp[2]\n        const W_in = inp[3]\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        return [inp[0], inp[1], H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    maxpool3d: {\n      title: 'MaxPool3d',\n      ref: 'nn.MaxPool3d',\n      id: 7,\n      params: {\n        kernel_size: { type:'tuple', min:1, max:Infinity, current:[3, 3, 3] },\n        stride: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        padding: { type:'tuple', min:0, max:Infinity, current:[0, 0, 0] },\n        dilation: { type:'tuple', min:1, max:Infinity, current:[1, 1, 1] },\n        return_indices: { type: 'bool', current:'False' },\n        ceil_mode: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        const D_in = inp[2]\n        const H_in = inp[3]\n        const W_in = inp[4]\n        const D_out = Math.floor(1 + (D_in + 2 * p.padding.current[0] - p.dilation.current[0] * (p.kernel_size.current[0] - 1) - 1) / p.stride.current[0])\n        const H_out = Math.floor(1 + (H_in + 2 * p.padding.current[1] - p.dilation.current[1] * (p.kernel_size.current[1] - 1) - 1) / p.stride.current[1])\n        const W_out = Math.floor(1 + (W_in + 2 * p.padding.current[2] - p.dilation.current[2] * (p.kernel_size.current[2] - 1) - 1) / p.stride.current[2])\n        return [inp[0], inp[1], D_out, H_out, W_out]\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    batchnorm1d: {\n      title: 'BatchNorm1d',\n      ref: 'nn.BatchNorm1d',\n      id: 8,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    batchnorm2d: {\n      title: 'BatchNorm2d',\n      ref: 'nn.BatchNorm2d',\n      id: 9,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    batchnorm3d: {\n      title: 'BatchNorm3d',\n      ref: 'nn.BatchNorm3d',\n      id: 10,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'True' },\n        track_running_stats: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    groupnorm: {\n      title: 'GroupNorm',\n      ref: 'nn.GroupNorm',\n      id: 11,\n      params: {\n        num_groups: { type:'int', min:1, max:Infinity, current:1 },\n        num_channels: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        affine: { type: 'bool', current:'True' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_channels.current = inp[1]\n        return p\n      }\n    },\n    instancenorm1d: {\n      title: 'InstanceNorm1d',\n      ref: 'nn.InstanceNorm1d',\n      id: 12,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    instancenorm2d: {\n      title: 'InstanceNorm2d',\n      ref: 'nn.InstanceNorm2d',\n      id: 13,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    instancenorm3d: {\n      title: 'InstanceNorm3d',\n      ref: 'nn.InstanceNorm3d',\n      id: 14,\n      params: {\n        num_features: { type:'int', min:1, max:Infinity, current:1 },\n        eps: { type:'double', min:1e-5, max:1, current:1e-5 },\n        momentum: { type:'double', min:0, max:Infinity, current:0.1 },\n        affine: { type: 'bool', current:'False' },\n        track_running_stats: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        p.num_features.current = inp[1]\n        return p\n      }\n    },\n    rnn: {\n      title: 'RNN',\n      ref: 'nn.RNN',\n      id: 15,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        nonlinearity: { type: 'select', options:['relu', 'tanh'], current:'tanh' },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    lstm: {\n      title: 'LSTM',\n      ref: 'nn.LSTM',\n      id: 16,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    gru: {\n      title: 'GRU',\n      ref: 'nn.GRU',\n      id: 17,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        num_layers: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        batch_first: { type: 'bool', current:'False' },\n        dropout: { type:'double', min:0, max:Infinity, current:0 },\n        bidirectional: { type: 'bool', current:'False' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    rnncell: {\n      title: 'RNNCell',\n      ref: 'nn.RNNCell',\n      id: 18,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n        nonlinearity: { type: 'select', options:['relu', 'tanh'], current:'tanh' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    lstmcell: {\n      title: 'LSTMCell',\n      ref: 'nn.LSTMCell',\n      id: 19,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    grucell: {\n      title: 'GRUCell',\n      ref: 'nn.GRUCell',\n      id: 20,\n      params: {\n        input_size: { type:'int', min:1, max:Infinity, current:1 },\n        hidden_size: { type:'int', min:1, max:Infinity, current:1 },\n        bias: { type: 'bool', current:'True' },\n      },\n      outshape: (inp, p) => {\n        var idx = 0\n        var out_shape = inp.map((val, index) => {\n          idx = index\n          return val\n        })\n        out_shape[idx] = p.hidden_size.current\n        return out_shape\n      },\n      autoparams: (inp, p) => {\n        p.input_size.current = inp[inp.length-1]\n        return p\n      }\n    },\n    dropout: {\n      title: 'Dropout',\n      ref: 'nn.Dropout',\n      id: 21,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    dropout2d: {\n      title: 'Dropout2d',\n      ref: 'nn.Dropout2d',\n      id: 22,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    dropout3d: {\n      title: 'Dropout3d',\n      ref: 'nn.Dropout3d',\n      id: 23,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    alphadropout: {\n      title: 'AlphaDropout',\n      ref: 'nn.AlphaDropout',\n      id: 24,\n      params: {\n        p: { type:'double', min:0, max:1, current:0.5 },\n        inplace: { type: 'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    elu: {\n      title: 'ELU',\n      ref: 'nn.ELU',\n      id: 25,\n      params: {\n        alpha: { type:'double', min:0, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    hardshrink: {\n      title: 'Hardshrink',\n      ref: 'nn.Hardshrink',\n      id: 26,\n      params: {\n        lambd: { type:'double', min:-Infinity, max:Infinity, current:'0.5' },\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    hardtanh: {\n      title: 'Hardtanh',\n      ref: 'nn.Hardtanh',\n      id: 27,\n      params: {\n        min_val: { type:'double', min:-Infinity, max:Infinity, current:-1 },\n        max_val: { type:'double', min:-Infinity, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    leakyrelu: {\n      title: 'LeakyReLU',\n      ref: 'nn.LeakyReLU',\n      id: 28,\n      params: {\n        negative_slope: { type:'double', min:0, max:Infinity, current:1e-2 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    logsigmoid: {\n      title: 'LogSigmoid',\n      ref: 'nn.LogSigmoid',\n      id: 29,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    prelu: {\n      title: 'PReLU',\n      ref: 'nn.PReLU',\n      id: 30,\n      params: {\n        num_parameters: { type:'int', min:0, max:Infinity, current:1 },\n        init: { type:'double', min:0, max:Infinity, current:0.25 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    relu: {\n      title: 'ReLU',\n      ref: 'nn.ReLU',\n      id: 31,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    relu6: {\n      title: 'ReLU6',\n      ref: 'nn.ReLU6',\n      id: 32,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    rrelu: {\n      title: 'RReLU',\n      ref: 'nn.RReLU',\n      id: 33,\n      params: {\n        lower: { type:'double', min:0, max:Infinity, current:1/8 },\n        upper: { type:'double', min:0, max:Infinity, current:1/3 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    selu: {\n      title: 'SELU',\n      ref: 'nn.SELU',\n      id: 34,\n      params: {\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    celu: {\n      title: 'CELU',\n      ref: 'nn.CELU',\n      id: 35,\n      params: {\n        alpha: { type:'double', min:0, max:Infinity, current:1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    sigmoid: {\n      title: 'Sigmoid',\n      ref: 'nn.Sigmoid',\n      id: 36,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softplus: {\n      title: 'Softplus',\n      ref: 'nn.Softplus',\n      id: 37,\n      params: {\n        beta: { type:'double', min:0, max:Infinity, current:1 },\n        threshold: { type:'double', min:0, max:Infinity, current:20 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softshrink: {\n      title: 'Softshrink',\n      ref: 'nn.Softshrink',\n      id: 38,\n      params: {\n        lambd: { type:'double', min:0, max:Infinity, current:0.5 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softsign: {\n      title: 'Softsign',\n      ref: 'nn.Softsign',\n      id: 39,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    tanh: {\n      title: 'Tanh',\n      ref: 'nn.Tanh',\n      id: 40,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    tanhshrink: {\n      title: 'Tanhshrink',\n      ref: 'nn.Tanhshrink',\n      id: 41,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    threshold: {\n      title: 'Threshold',\n      ref: 'nn.Threshold',\n      id: 42,\n      params: {\n        threshold: { type:'double', min:0, max:Infinity, current:0.1 },\n        value: { type:'double', min:0, max:Infinity, current:0.1 },\n        inplace: { type:'bool', current:'False' }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmin: {\n      title: 'Softmin',\n      ref: 'nn.Softmin',\n      id: 43,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmax: {\n      title: 'Softmax',\n      ref: 'nn.Softmax',\n      id: 44,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    softmax2d: {\n      title: 'Softmax2d',\n      ref: 'nn.Softmax2d',\n      id: 45,\n      params: {},\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n    logsoftmax: {\n      title: 'LogSoftmax',\n      ref: 'nn.LogSoftmax',\n      id: 46,\n      params: {\n        dim: { type:'int', min:0, max:Infinity, current:-1 }\n      },\n      outshape: (inp, p) => {\n        return inp\n      },\n      autoparams: (inp, p) => {\n        return p\n      }\n    },\n  }\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    overflow:'scroll',\n  },\n  tabsRoot: {\n    borderBottom: '1px solid #1890ff',\n  },\n  tabsIndicator: {\n    backgroundColor: '#1890ff',\n  },\n  tabRoot: {\n    textTransform: 'initial',\n    minWidth: 50,\n    fontWeight: theme.typography.fontWeightRegular,\n    marginRight: theme.spacing.unit * 0,\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:hover': {\n      color: '#40a9ff',\n      opacity: 1,\n    },\n    '&$tabSelected': {\n      color: '#1890ff',\n    },\n    '&:focus': {\n      color: '#40a9ff',\n    },\n  },\n  tabSelected: {},\n  typography: {\n    padding: theme.spacing.unit * 0,\n  },\n});\n\nclass TabContainer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.tab !== undefined ? props.tabs.indexOf(props.tab) : 0\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { value } = this.state;\n    const width = Math.ceil(this.props.width/this.props.tabs.length) + 'px'\n\n    return (\n      <div className={classes.root} style={{overflow:'hidden'}}>\n        <Tabs\n          value={value}\n          onChange={(e, value) => {\n            this.setState({ value });\n            if (this.props.onSelectTab) this.props.onSelectTab(this.props.tabs[value]);\n          }}\n          textColor=\"primary\"\n          classes={{ root: classes.tabsRoot, indicator: classes.tabsIndicator }}\n          scrollButtons={false}>\n          {\n            this.props.tabs.map(value => {\n              return (\n                <Tab\n                  disableRipple\n                  classes={{ root: classes.tabRoot, selected: classes.tabSelected }}\n                  label={value}\n                  style={{width: width}}\n                />\n              )\n            })\n          }\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nTabContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TabContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Select from 'react-select';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    height: 50,\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n      0.08,\n    ),\n  },\n  noOptionsMessage: {\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 2,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  },\n});\n\nfunction NoOptionsMessage(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.noOptionsMessage}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />;\n}\n\nfunction Control(props) {\n  return (\n    <TextField\n      fullWidth\n      InputProps={{\n        inputComponent,\n        inputProps: {\n          className: props.selectProps.classes.input,\n          inputRef: props.innerRef,\n          children: props.children,\n          ...props.innerProps,\n        },\n      }}\n      {...props.selectProps.textFieldProps}\n    />\n  );\n}\n\nfunction Option(props) {\n  return (\n    <MenuItem\n      buttonRef={props.innerRef}\n      selected={props.isFocused}\n      component=\"div\"\n      style={{\n        fontWeight: props.isSelected ? 500 : 400,\n      }}\n      {...props.innerProps}\n    >\n      {props.children}\n    </MenuItem>\n  );\n}\n\nfunction Placeholder(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.placeholder}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction SingleValue(props) {\n  return (\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction ValueContainer(props) {\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\n}\n\nfunction MultiValue(props) {\n  return (\n    <Chip\n      tabIndex={-1}\n      label={props.children}\n      className={classNames(props.selectProps.classes.chip, {\n        [props.selectProps.classes.chipFocused]: props.isFocused,\n      })}\n      onDelete={props.removeProps.onClick}\n      deleteIcon={<CancelIcon {...props.removeProps} />}\n    />\n  );\n}\n\nfunction Menu(props) {\n  return (\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n      {props.children}\n    </Paper>\n  );\n}\n\nconst components = {\n  Control,\n  Menu,\n  MultiValue,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nexport class SuggestiveField extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: props.current,\n    }\n    this.options = props.options.map(opt => ({ value:opt, label:opt }));\n    this.msg = props.msg;\n  }\n\n  render() {\n    const { classes, theme } = this.props;\n\n    const selectStyles = {\n      input: base => ({\n        ...base,\n        color: theme.palette.text.primary,\n        '& input': {\n          font: 'inherit',\n        },\n      }),\n    };\n\n    return (\n      <div className={classes.root}>\n        <NoSsr>\n          <Select\n            classes={classes}\n            styles={selectStyles}\n            options={this.options}\n            components={components}\n            value={{label:this.state.current}}\n            placeholder='Select an operation'\n            onChange={e => {\n              if (e) {\n                this.setState({current:e.value});\n                if (this.props.onChange) this.props.onChange(e.value);\n              } else {\n                this.setState({current:''})\n                if (this.props.onChange) this.props.onChange('')\n              }\n            }}\n            isClearable\n          />\n        </NoSsr>\n      </div>\n    );\n  }\n}\n\nSuggestiveField.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(SuggestiveField);\n","import React, { Component } from 'react';\n\nimport './Sidebar.css';\nimport { PyTorchParser } from './parsers/Parsers.js';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { github, atelierForestDark } from 'react-syntax-highlighter/dist/styles/hljs';\n\nimport Typography from '@material-ui/core/Typography';\nimport TabContainer from './TabContainer.js'\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Drawer from '@material-ui/core/Drawer';\n\nimport Snackbar from '@material-ui/core/Snackbar';\nimport green from '@material-ui/core/colors/green';\n\nimport Divider from '@material-ui/core/Divider';\nimport Chip from '@material-ui/core/Chip';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport red from '@material-ui/core/colors/red';\n\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Fab from '@material-ui/core/Fab';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\n\nimport SuggestiveField from './SuggestiveField.js';\n\nconst darktheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n  typography: { useNextVariants: true },\n});\n\nconst lighttheme = createMuiTheme({\n  palette: {\n    type: 'light',\n  },\n  typography: { useNextVariants: true },\n});\n\ngithub.hljs.background = '#ffffff';\n\n\nconst SettingsTab = (props) => {\n  var env = props.environment;\n  return (\n    <div style={{ padding:'15px' }}>\n\n      <div>\n        <h3 style={{marginTop:'0px'}}>Environment</h3>\n        <FormControl>\n          <InputLabel htmlFor='libSelect'>Library</InputLabel>\n          <Select\n            value={env.library}\n            inputProps={{ name:'library select', id:'libSelect'}}\n            onChange={(e) => {\n              var environment = props.refresh().environment;\n              environment.library = e.target.value;\n              props.updateEnv(environment)\n            }}>\n            {\n              env.libraries.map(libname => {\n                return (\n                  <MenuItem value={libname}>{libname}</MenuItem>\n                )\n              })\n            }\n          </Select>\n        </FormControl>\n      </div>\n\n      <div style={{paddingTop:'20px'}}>\n        <h3>Customize view</h3>\n        {\n          [\n            {r:'darktheme', t:'Dark theme'},\n            {r:'showName', t:'Show names'},\n            {r:'showShape', t:'Show shapes'},\n            {r:'avoidCollisions', t:'Avoid collisions'}\n          ].map(tmp => {\n            return (\n              <FormControlLabel\n                style={{paddingTop:0}}\n                control={\n                  <Switch\n                    checked={props.settings[tmp.r]}\n                    color='primary'\n                    onChange={e => {\n                      var settings = props.refresh().settings;\n                      settings[tmp.r] = !settings[tmp.r];\n                      props.updateSettings(settings)\n                    }}/>\n                }\n                label={tmp.t}/>\n            )\n          })\n        }\n      </div>\n\n    </div>\n  )\n}\n\n\n\nconst CodeTab = props => {\n\n  // Selecting parser\n  var parser = null\n  if (props.environment.library === 'PyTorch') parser = PyTorchParser;\n\n  // Selecting theme\n  const codetheme = props.darktheme ? atelierForestDark : github;\n\n  return (\n    <div style={{fontSize:12}}>\n      <SyntaxHighlighter language='python' style={codetheme} showLineNumbers>\n        {\n          props.code\n        }\n      </SyntaxHighlighter>\n    </div>\n  )\n\n}\n\n\n\nconst FlowpointTab = props => {\n\n  var point = props.flowpoints[props.selected];\n\n  if (point) {\n\n    // Helpers\n    const params = point.specs.params;\n    var fields = { 'int':[], 'double':[], 'bool':[], 'tuple':[], 'select':[] };\n\n    // Input?\n    if (point.specs.title === 'Input') {\n      fields.int.push(\n        <TextField\n          label='N dimensions'\n          type='number'\n          variant='outlined'\n          margin='dense'\n          style={{width:'155px', paddingRight:'5px'}}\n          value={params.n_dims.current}\n          onChange={e => {\n            var flowpoints = props.refresh().flowpoints;\n            var p = flowpoints[props.selected];\n            var params = p.specs.params;\n            params.n_dims.current = Math.max(Math.min(e.target.value, params.n_dims.max), params.n_dims.min);\n            if (params.n_dims.current < params.dimensions.current.length) {\n              params.dimensions.current = params.dimensions.current.splice(0, params.n_dims.current)\n            } else if (params.n_dims.current > params.dimensions.current.length) {\n              Array.from(Array(params.n_dims.current - params.dimensions.current.length).keys()).map(idx => {\n                params.dimensions.current.push(1)\n              })\n            }\n            props.updatePointSettings(props.selected, p)\n          }}/>\n      )\n    }\n\n    Object.keys(params).map(paramkey => {\n      const param = params[paramkey]\n      switch(param.type) {\n        case 'int':\n          fields.int.push(\n            <TextField\n              label={paramkey}\n              type='number'\n              variant='outlined'\n              margin='dense'\n              style={{width:'155px', paddingRight:'5px'}}\n              value={params[paramkey].current}\n              onChange={e => {\n                var flowpoints = props.refresh().flowpoints;\n                var p = flowpoints[props.selected];\n                var param = p.specs.params[paramkey];\n                param.current = Math.max(Math.min(e.target.value, param.max), param.min);\n                props.updatePointSettings(props.selected, p)\n              }}/>\n          )\n          break;\n        case 'double':\n          fields.double.push(\n            <TextField\n              label={paramkey}\n              type='number'\n              variant='outlined'\n              margin='dense'\n              style={{width:'155px', paddingRight:'5px'}}\n              value={params[paramkey].current}\n              onChange={e => {\n                var flowpoints = props.refresh().flowpoints;\n                var p = flowpoints[props.selected];\n                var param = p.specs.params[paramkey];\n                param.current = Math.max(Math.min(e.target.value, param.max), param.min);\n                props.updatePointSettings(props.selected, p)\n              }}/>\n          )\n          break;\n        case 'bool':\n          fields.bool.push(\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={param.current === 'True'}\n                  color='primary'\n                  onChange={e => {\n                    var flowpoints = props.refresh().flowpoints;\n                    var p = flowpoints[props.selected];\n                    var param = p.specs.params[paramkey];\n                    if (param.current === 'True') {\n                      param.current = 'False';\n                    } else {\n                      param.current = 'True';\n                    }\n                    props.updatePointSettings(props.selected, p)\n                  }}/>\n              }\n              label={paramkey}/>\n          )\n          break;\n        case 'tuple':\n          fields.tuple.push(\n            <div style={{paddingTop:'15px'}}>\n              <div><h5 style={{margin:'0px'}}>{paramkey}</h5></div>\n              {\n                param.current.map((val, index) => {\n                  return (\n                    <TextField\n                      label={paramkey + ' ' + index}\n                      type='number'\n                      variant='outlined'\n                      margin='dense'\n                      style={{width:'155px', paddingRight:'5px'}}\n                      value={val}\n                      onChange={e => {\n                        var flowpoints = props.refresh().flowpoints;\n                        var p = flowpoints[props.selected]\n                        var param = flowpoints[props.selected].specs.params[paramkey];\n                        param.current[index] = Math.max(Math.min(e.target.value, param.max), param.min);\n                        props.updatePointSettings(props.selected, p)\n                      }}/>\n                  )\n                })\n              }\n            </div>\n          )\n          break;\n        case 'select':\n          fields.select.push(\n            <FormControl>\n              <InputLabel htmlFor=\"selectfield\">{paramkey}</InputLabel>\n              <Select\n                value={params[paramkey].options.indexOf(params[paramkey].current)}\n                style={{width:'155px', paddingRight:'5px'}}\n                onChange={(e) => {\n                  var flowpoints = props.refresh().flowpoints;\n                  var p = flowpoints[props.selected];\n                  var param = p.specs.params[paramkey];\n                  param.current = param.options[e.target.value]\n                  props.updatePointSettings(props.selected, p)\n                }}\n                inputProps={{id:'selectfield'}}>\n                {\n                  params[paramkey].options.map((opt_val, opt_idx) => {\n                    return (\n                      <MenuItem value={opt_idx}>{opt_val}</MenuItem>\n                    )\n                  })\n                }\n              </Select>\n            </FormControl>\n          )\n          break;\n      }\n    })\n\n    // List of module types\n    const modules = props.environment.getModules()\n    var title2key = {}\n    Object.keys(modules).map(mod_key => {\n      title2key[modules[mod_key].title] = mod_key;\n    })\n\n    return (\n      <div style={{padding:'15px'}}>\n\n        <div>\n\n          <h2 style={{marginTop:'0px'}}>Flowpoint settings</h2>\n\n          <SuggestiveField\n            current={point.specs.title}\n            options={Object.keys(title2key)}\n            onChange={val => {\n              if (val in title2key) {\n                var flowpoints = props.refresh().flowpoints;\n                var p = flowpoints[props.selected];\n                p.specs = modules[title2key[val]];\n                props.updatePointSettings(props.selected, p)\n              }\n            }}/>\n\n          <TextField\n            label='Name'\n            value={point.name}\n            margin='tight'\n            style={{width:'80%'}}\n            onChange={e => {\n              var flowpoints = props.refresh().flowpoints;\n              var p = flowpoints[props.selected];\n              p.name = e.target.value;\n              props.updatePointSettings(props.selected, p)\n            }}/>\n\n          <IconButton\n            aria-label=\"Delete\"\n            color={red[500]}\n            style={{\n              marginLeft:10,\n              marginTop:5,\n              color:red[300]\n            }}\n            onClick={props.deleteSelected}>\n            <DeleteIcon />\n          </IconButton>\n\n        </div>\n\n        <div style={{paddingTop:'25px'}}>\n          <h3>Parameters</h3>\n          <div>{ fields.int    }</div>\n          <div>{ fields.double }</div>\n          <div>{ fields.select }</div>\n          <div>{ fields.tuple  }</div>\n          <div>{ fields.bool   }</div>\n        </div>\n\n      </div>\n    )\n  } else {\n    return (\n      <div style={{display:'table', width:'100%', height:'50px'}}>\n        <div style={{display:'table-cell', verticalAlign:'middle', textAlign:'center'}}>\n          Click on a flowpoint to display it's settings\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport const Sidebar = (props) => {\n  return (\n    <MuiThemeProvider theme={props.darktheme ? darktheme : lighttheme}>\n      <Drawer\n        variant='persistent'\n        anchor='left'\n        open={props.open}>\n\n        <div\n          class='fullSidebar'\n          style={{\n            maxWidth:props.settings.drawerWidth,\n            color: (props.darktheme ? 'white' : 'black')\n          }}>\n\n          <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{padding:'15px'}}>\n            Flowpoints ML\n          </Typography>\n\n          <div>\n            <TabContainer\n              tabs={['Settings', 'Code', 'Flowpoint']}\n              tab={props.settings.tab}\n              width={350}\n              onSelectTab={(value) => {\n                var settings = props.refresh().settings;\n                settings.tab = value;\n                if (value === 'Code') {\n                  settings.drawerWidth = 600\n                } else {\n                  settings.drawerWidth = 350\n                }\n                props.updateSettings(settings);\n              }}/>\n          </div>\n\n          <div class='scrollBox' style={{backgroundColor:(props.darktheme ? atelierForestDark.hljs.background : null)}}>\n\n            <div>\n              {\n                props.settings.tab === 'Settings' ? <SettingsTab\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  updateEnv={props.updateEnv}\n                  settings={props.settings}\n                  updateSettings={props.updateSettings}/> : null\n              }\n              {\n                props.settings.tab === 'Code' ? <CodeTab\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  code={props.code}\n                  darktheme={props.darktheme}/> : null\n              }\n              {\n                props.settings.tab === 'Flowpoint' ? <FlowpointTab\n                  selected={props.selected}\n                  settings={props.settings}\n                  environment={props.environment}\n                  flowpoints={props.flowpoints}\n                  refresh={props.refresh}\n                  deleteSelected={props.deleteSelected}\n                  updatePointSettings={props.updatePointSettings}/> : null\n              }\n            </div>\n\n          </div>\n\n        </div>\n\n      </Drawer>\n\n    </MuiThemeProvider>\n  )\n}\n","import React, { Component } from 'react';\nimport { PyTorchModules } from './libraries/pytorch.js';\n\n/*\nconst lvls = {\n  0: '%24',\n  1: '#',\n  2: '%2C',\n  3: '%'\n}*/\n/*\nconst lvls = {\n  0: 'MAIS',\n  1: 'FISK',\n  2: 'OST',\n  3: 'KORN'\n}*/\nconst lvls = {\n  0: 'IIA',\n  1: 'IIB',\n  2: 'IIC',\n  3: 'IID'\n}\n\nfunction num2string(num) {\n  return num.toString(36)\n}\n\nfunction string2num(str) {\n  return parseInt(str, 36)\n}\n\nfunction encodeParams(params) {\n  var msg = ''\n  Object.keys(params).sort().map(pkey => {\n    const param = params[pkey]\n    if (param.type === 'bool') {\n      msg += (param.current === 'True' ? 't' : 'f')\n    } else if (param.type === 'tuple') {\n      param.current.map(pval => {\n        msg += num2string(pval) + lvls[3]\n      })\n      msg = msg.substring(0, msg.length - lvls[3].length)\n    } else if (param.type === 'select') {\n      msg += param.options.indexOf(param.current)\n    } else if (param.type === 'int') {\n      msg += num2string(param.current)\n    } else {\n      msg += param.current\n    }\n    msg += lvls[2]\n  })\n  return msg.substring(0, msg.length - lvls[2].length)\n}\n//https://mariusbrataas.github.io/flowpoints_ml/?p=loadPDF_3_41e2f4_4164f4_0##5#5#0#1aa%2C2aa%2#t%2C1%2C1%2_1##p#5#0##t%2C1%2C1%2_2##p#c#0##t%2C1%2C1%2\n//https://mariusbrataas.github.io/flowpoints_ml/?p=loadPDF_3_41e2f4_4164f4_0##5#5#0#1aa%2C2aa%2#t%2C1%2C1%2_1##p#5#0##t%2C1%2C1%2_2##p#c#0##t%2C1%2C1%2\n\nfunction decodeParams(msg, specs) {\n  var params = specs.params;\n  const queries = msg.split(lvls[2])\n  Object.keys(params).sort().map((pkey, idx) => {\n    var param = params[pkey]\n    const q = queries[idx]\n    if (param.type === 'bool') {\n      param.current = (q === 't' ? 'True' : 'False')\n    } else if (param.type === 'tuple') {\n      q.split(lvls[3]).map((pval, pidx) => {\n        param.current[pidx] = string2num(pval)\n      })\n    } else if (param.type === 'select') {\n      param.current = param.options[q]\n    } else if (param.type === 'int') {\n      param.current = string2num(q)\n    } else {\n      param.current = q\n    }\n  })\n  specs.params = params\n  return specs\n}\n\nfunction encodeOutputs(outputs) {\n  var msg = ''\n  Object.keys(outputs).map(out_key => {\n    msg += num2string(out_key) + outputs[out_key].output[0] + outputs[out_key].input[0] + lvls[2]\n  })\n  if (Object.keys(outputs).length > 0) {\n    msg = msg.substring(0, msg.length - lvls[2].length)\n  }\n  return msg\n}\n\nfunction decodeOutputs(msg) {\n  const pos2title = {\n    a: 'auto',\n    t: 'top',\n    l: 'left',\n    r: 'right',\n    b: 'bottom'\n  }\n  var queries = msg.split(lvls[2])\n  var outputs = {}\n  queries.map(query => {\n    if (query !== '') {\n      outputs[query.substring(0, query.length - 2)] = {\n        output: pos2title[query[query.length - 2]],\n        input: pos2title[query[query.length - 1]]\n      }\n    }\n  })\n  return outputs\n}\n\nfunction encodePoint(p, key) {\n  /*\n  0: key\n  1: name\n  2: x\n  3: y\n  4: id\n  5: outputs\n  6: params\n  */\n  var msg = '' + key\n  msg += lvls[1] + p.name\n  msg += lvls[1] + num2string(Math.round(p.pos.x/10))\n  msg += lvls[1] + num2string(Math.round(p.pos.y/10))\n  msg += lvls[1] + (p.specs.title === 'Input' ? '' : num2string(p.specs.id))\n  msg += lvls[1] + encodeOutputs(p.outputs)\n  msg += lvls[1] + encodeParams(p.specs.params)\n  return msg\n}\n\nfunction decodePoint(msg, id2key, getModules) {\n  const queries = msg.split(lvls[1])\n\n  // Decoding some basics\n  var p = {\n    name: queries[1],\n    output_shape: [],\n    pos: {\n      x: string2num(queries[2]) * 10,\n      y: string2num(queries[3]) * 10,\n    },\n    specs: decodeParams(queries[6], getModules()[queries[4] === '' ? 'input' : id2key[string2num(queries[4])]]),\n    outputs: decodeOutputs(queries[5]),\n    isHover: false\n  }\n  return { key:queries[0], p:p }\n}\n\nexport function parseToQuery(flowpoints, inputColor, outputColor, count, darktheme, showNames, library, showSidebar) {\n  // LibraryTheme_Count_Incolor_Outcolor_point_point_\n  var msg = '' + library[0]\n  msg += (darktheme ? 'D' : 'L')\n  msg += (showNames ? 'T' : 'F')\n  msg += (showSidebar ? 'T' : 'F')\n  msg += lvls[0] + num2string(count)\n  msg += lvls[0] + inputColor.substring(1, inputColor.length) + lvls[0] + outputColor.substring(1, outputColor.length)\n  Object.keys(flowpoints).map(key => {\n    msg += lvls[0] + encodePoint(flowpoints[key], key)\n  })\n  return msg\n}\n\n\nexport function parseFromQuery(query) {\n  query = query.replace(/%20/g, ' ')\n  const queries = query.split(lvls[0])\n\n  // Helpers\n  const key2lib = {\n    P: {t:'PyTorch', modules:PyTorchModules}\n  }\n\n  // Creating lib\n  var lib = {\n    library: key2lib[query[0]].t,\n    getModules: key2lib[query[0]].modules,\n    darktheme: (query[1] === 'D' ? true : false),\n    showName: (query[2] === 'T' ? true : false),\n    showSidebar: (query[3] === 'T' ? true : false),\n    count: string2num(queries[1]),\n    inputColor: '#' + queries[2],\n    outputColor: '#' + queries[3]\n  }\n\n  // Id to module key\n  var id2key = {}\n  var modules = lib.getModules()\n  Object.keys(modules).map(mod_key => {\n    id2key[modules[mod_key].id] = mod_key\n  })\n\n  // Parsing all points\n  var flowpoints = {}\n  queries.splice(4, queries.length).map(point_query => {\n    const newpoint = decodePoint(point_query, id2key, lib.getModules);\n    flowpoints[newpoint.key] = newpoint.p\n  })\n  lib['flowpoints'] = flowpoints;\n\n  // Fixing inputs n_dims\n  Object.keys(flowpoints).map(key => {\n    if (flowpoints[key].specs.title === 'Input') {\n      flowpoints[key].specs.params.n_dims.current = flowpoints[key].specs.params.dimensions.current.length;\n    }\n  })\n\n  // Returning\n  return lib\n\n}\n","//var GoogleSpreadsheet = require('google-spreadsheet');\n//var request = require('request');\nimport axios from 'axios'\n\nfunction ReplaceAll(str, search, replacement) {\n  var msg = ''\n  str.split(search).map(sub => {\n    msg += sub + replacement\n  })\n  return msg.substring(0, msg.length - replacement.length)\n}\n\nfunction num2string(num) {\n  return num.toString(36)\n}\n//AIzaSyC2xSmTdMOwyfYJNWgRI0AZolpKgPft8a0\nfunction string2num(str) {\n  return parseInt(str, 36)\n}\n\nfunction getId(l) {\n  l = Math.min(20, Math.max(10, l || 15))\n  var msg = ''\n  const lib = 'abcdefghijklmnopqrstuvwxyz0123456789'\n  var d = new Date();\n  msg += num2string(parseInt(d.getYear().toString().substring(1)))\n  msg += num2string(d.getMonth())\n  msg += num2string(d.getDate())\n  msg += num2string(d.getHours())\n  msg += num2string(d.getMinutes())\n  msg += num2string(d.getSeconds())\n  Array.from(Array(l - msg.length).keys()).map(idx => {\n    msg += lib[Math.floor(Math.random() * lib.length)];\n  })\n  return msg\n}\n\nexport function postToDB(content, cb) {\n  const mod_id = getId();\n  var url = 'https://docs.google.com/forms/d/e/1FAIpQLSfTgXs4tTJ5drC44SVHCJaJoIwogOwK6WBrGT2-s85Ndaqz_g/formResponse?usp=pp_url'\n  url += '&entry.865206380=' + mod_id;\n  url += '&entry.854684610=' + content;\n  url += '&submit=Submit'\n  axios.get(url).then(res => {\n    console.log(res)\n  })\n}\n\nexport function getDB(cb) {\n  var res;\n  axios.get('https://spreadsheets.google.com/feeds/list/11Z7JHNLrE0ODKnGwU0NOblcV-OxRcbugr8ujNZDzTRA/od6/public/basic?alt=json').then(res => {\n    var lib = {}\n    res.data.feed.entry.map(entry => {\n      lib[entry.title['$t']] = entry.content['$t'].split('content: ')[1]\n    })\n    cb(lib)\n  })\n}\n\n/*function getDB(cb) {\n  var doc = new GoogleSpreadsheet('11Z7JHNLrE0ODKnGwU0NOblcV-OxRcbugr8ujNZDzTRA');\n  doc.getInfo((err, info) => {\n    console.log(err, info)\n    console.log(info.worksheets, err)\n    info.worksheets[0].getRows({offset:1, limit:1000, orderby:'col1'}, (err2, rows) => {\n      var db = {}\n      rows.map((row, idx) => {\n        db[row.ref] = row.content\n      })\n      cb(db)\n    })\n  })\n}*/\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Select from 'react-select';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Chip from '@material-ui/core/Chip';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\n\nconst suggestions = [\n  { label: 'Afghanistan' },\n  { label: 'Aland Islands' },\n  { label: 'Albania' },\n  { label: 'Algeria' },\n  { label: 'American Samoa' },\n  { label: 'Andorra' },\n  { label: 'Angola' },\n  { label: 'Anguilla' },\n  { label: 'Antarctica' },\n  { label: 'Antigua and Barbuda' },\n  { label: 'Argentina' },\n  { label: 'Armenia' },\n  { label: 'Aruba' },\n  { label: 'Australia' },\n  { label: 'Austria' },\n  { label: 'Azerbaijan' },\n  { label: 'Bahamas' },\n  { label: 'Bahrain' },\n  { label: 'Bangladesh' },\n  { label: 'Barbados' },\n  { label: 'Belarus' },\n  { label: 'Belgium' },\n  { label: 'Belize' },\n  { label: 'Benin' },\n  { label: 'Bermuda' },\n  { label: 'Bhutan' },\n  { label: 'Bolivia, Plurinational State of' },\n  { label: 'Bonaire, Sint Eustatius and Saba' },\n  { label: 'Bosnia and Herzegovina' },\n  { label: 'Botswana' },\n  { label: 'Bouvet Island' },\n  { label: 'Brazil' },\n  { label: 'British Indian Ocean Territory' },\n  { label: 'Brunei Darussalam' },\n].map(suggestion => ({\n  value: suggestion.label,\n  label: suggestion.label,\n}));\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    height: 250,\n  },\n  input: {\n    display: 'flex',\n    padding: 0,\n  },\n  valueContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    flex: 1,\n    alignItems: 'center',\n    overflow: 'hidden',\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  chipFocused: {\n    backgroundColor: emphasize(\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\n      0.08,\n    ),\n  },\n  noOptionsMessage: {\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\n  },\n  singleValue: {\n    fontSize: 16,\n  },\n  placeholder: {\n    position: 'absolute',\n    left: 2,\n    fontSize: 16,\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  },\n});\n\nfunction NoOptionsMessage(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.noOptionsMessage}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction inputComponent({ inputRef, ...props }) {\n  return <div ref={inputRef} {...props} />;\n}\n\nfunction Control(props) {\n  return (\n    <TextField\n      fullWidth\n      InputProps={{\n        inputComponent,\n        inputProps: {\n          className: props.selectProps.classes.input,\n          inputRef: props.innerRef,\n          children: props.children,\n          ...props.innerProps,\n        },\n      }}\n      {...props.selectProps.textFieldProps}\n    />\n  );\n}\n\nfunction Option(props) {\n  return (\n    <MenuItem\n      buttonRef={props.innerRef}\n      selected={props.isFocused}\n      component=\"div\"\n      style={{\n        fontWeight: props.isSelected ? 500 : 400,\n      }}\n      {...props.innerProps}\n    >\n      {props.children}\n    </MenuItem>\n  );\n}\n\nfunction Placeholder(props) {\n  return (\n    <Typography\n      color=\"textSecondary\"\n      className={props.selectProps.classes.placeholder}\n      {...props.innerProps}\n    >\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction SingleValue(props) {\n  return (\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\n      {props.children}\n    </Typography>\n  );\n}\n\nfunction ValueContainer(props) {\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\n}\n\nfunction MultiValue(props) {\n  return (\n    <Chip\n      tabIndex={-1}\n      label={props.children}\n      className={classNames(props.selectProps.classes.chip, {\n        [props.selectProps.classes.chipFocused]: props.isFocused,\n      })}\n      onDelete={props.removeProps.onClick}\n      deleteIcon={<CancelIcon {...props.removeProps} />}\n    />\n  );\n}\n\nfunction Menu(props) {\n  return (\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\n      {props.children}\n    </Paper>\n  );\n}\n\nconst components = {\n  Control,\n  Menu,\n  MultiValue,\n  NoOptionsMessage,\n  Option,\n  Placeholder,\n  SingleValue,\n  ValueContainer,\n};\n\nclass Testfield extends React.Component {\n  state = {\n    single: null,\n    multi: null,\n  };\n\n  handleChange = name => value => {\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  render() {\n    const { classes, theme } = this.props;\n\n    const selectStyles = {\n      input: base => ({\n        ...base,\n        color: theme.palette.text.primary,\n        '& input': {\n          font: 'inherit',\n        },\n      }),\n    };\n\n    return (\n      <div className={classes.root}>\n        <NoSsr>\n          <Select\n            classes={classes}\n            styles={selectStyles}\n            options={suggestions}\n            components={components}\n            value={this.state.single}\n            onChange={this.handleChange('single')}\n            placeholder=\"Search a country (start with a)\"\n            isClearable\n          />\n          <div className={classes.divider} />\n          <Select\n            classes={classes}\n            styles={selectStyles}\n            textFieldProps={{\n              label: 'Label',\n              InputLabelProps: {\n                shrink: true,\n              },\n            }}\n            options={suggestions}\n            components={components}\n            value={this.state.multi}\n            onChange={this.handleChange('multi')}\n            placeholder=\"Select multiple countries\"\n            isMulti\n          />\n        </NoSsr>\n      </div>\n    );\n  }\n}\n\nTestfield.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(Testfield);\n","import React, { Component } from 'react';\nimport './App.css';\n\nimport { Flowpoint, Flowspace } from 'flowpoints';\nimport { FlowOrder } from './sidebar/FlowOrder.js';\nimport { PyTorchParser } from './sidebar/parsers/Parsers.js';\nimport { PyTorchModules } from './libraries/pytorch.js';\nimport { Sidebar } from './sidebar/Sidebar.js';\nimport { parseToQuery, parseFromQuery } from './URLparser.js';\nimport { postToDB, getDB } from './DBhandler.js';\n\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\nimport LinkIcon from '@material-ui/icons/Link';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\n\nimport green from '@material-ui/core/colors/green';\nimport red from '@material-ui/core/colors/red';\nimport grey from '@material-ui/core/colors/grey';\nimport blue from '@material-ui/core/colors/blue';\nimport indigo from '@material-ui/core/colors/indigo';\nimport deepPurple from '@material-ui/core/colors/deepPurple';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport teal from '@material-ui/core/colors/teal';\nimport blueGrey from '@material-ui/core/colors/blueGrey';\n\nimport copy from 'copy-to-clipboard';\n\nimport Testfield from './sidebar/Testfield.js';\n\nfunction shapeBox(shape) {\n  var msg = '['\n  shape.map(val => {\n    msg += val + ','\n  })\n  if (shape.length > 0) msg = msg.substring(0, msg.length - 1)\n  msg += ']'\n  return (\n    <div style={{textAlign:'center', paddingBottom:'10px'}}>\n      {\n        msg\n      }\n    </div>\n  )\n}\n\nfunction ReplaceAll(str, search, replacement) {\n  var newstr = ''\n  str.split(search).map(val => {newstr += val + replacement})\n  return newstr.substring(0, newstr.length - replacement.length)\n}\n\n\n//mariusbrataas.github.io/flowpoints_ml/?p=load?PDT_9_41e2f4_4164f4_0&This%20is&9&9&&3aa,4aa,5aa,6aa,8aa&1%1,2_1&how%20I&9&g&&3aa,4aa,5aa,6aa,8aa&1%1,2_3&imagine&12&l&0&6aa,8aa&t,1,1_4&learning&12&z&0&1aa,6aa,8aa&t,1,1_5&deep&12&s&0&6aa,8aa&t,1,1_6&models%20in&1v&13&0&&t,1,1_8&my%20mind&1v&1a&0&&t,1,1\n//mariusbrataas.github.io/flowpoints_ml/?p=load?PDT_9_41e2f4_4164f4_0&This%20is&&3aa%2C4aa%2C5aa%2C6aa%2C8aa&1%251%2C2_1&how%20I&g&1%251%2C2_3&imagine&l&6aa%2C8aa&t%2C1%2C1_4&learning&z&1aa%2C6aa%2C8aa&t%2C1%2C1_5&deep&s&t%2C1%2C1_6&models%20in&1v&t%2C1%2C1_8&my%20mind&1a&t%2C1%2C1\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lastPos: {x:50, y:-40},\n      code: '',\n      selected: null,\n      count: 0,\n      flowpoints: {},\n      current_url: '',\n      url: '',\n      settings:{\n        tab: 'Settings',\n        drawerWidth: 350,\n        darktheme: true,\n        showShape: false,\n        showName: false,\n        showSidebar: true,\n        avoidCollisions: true,\n        inputColor: '#41e2f4',\n        outputColor: '#4164f4',\n        snackshow: false,\n        snackmsg: 'Hello world',\n        snackcolor: green['A700'],\n      },\n      environment: {\n        library: 'PyTorch',\n        libraries: [ 'PyTorch' ],\n        getModules: PyTorchModules\n      }\n    }\n\n    // Helpers\n    this.baseUrl = window.location.href.split('/?')[0]\n    if (this.baseUrl[this.baseUrl.length - 1] !== '/') this.baseUrl += '/'\n    this.lib = {}\n\n    // Binding class methods\n    this.addFlowpoint = this.addFlowpoint.bind(this);\n    this.handleClickPoint = this.handleClickPoint.bind(this);\n    this.deleteSelected = this.deleteSelected.bind(this);\n    this.prepCode = this.prepCode.bind(this);\n    this.prepOutputShapes = this.prepOutputShapes.bind(this);\n    this.updatePointSettings = this.updatePointSettings.bind(this);\n\n  }\n\n\n  componentDidMount() {\n    var query = window.location.href.split(this.baseUrl)[1]\n\n    if (query.includes('p=')) {\n\n      // Snack message\n      var settings = this.state.settings;\n      settings.snackshow = true;\n      settings.snackmsg = 'Trying to load model';\n      settings.snackcolor = blue['A700'];\n      this.setState({settings})\n\n      try {\n\n        getDB(data => {\n\n          query = query.split('p=')[1]\n          query = data[query]\n\n          if (query) {\n            query = ReplaceAll(query, 'lll', '.')\n            var newlib = parseFromQuery(query)\n\n            // Updating settings and env\n            settings = this.state.settings;\n            var environment = this.state.environment;\n            settings.darktheme = newlib.darktheme;\n            settings.showName = newlib.showName;\n            settings.inputColor = newlib.inputColor;\n            settings.outputColor = newlib.outputColor;\n            settings.showSidebar = newlib.showSidebar;\n            environment.library = newlib.library;\n\n            // Snack message\n            settings.snackshow = true;\n            settings.snackmsg = 'Loaded model from URL';\n            settings.snackcolor = green['A700'];\n\n            // Updating self\n            this.setState({\n              count:newlib.count,\n              flowpoints:newlib.flowpoints,\n              settings:settings,\n              environment:environment\n            }, () => {\n              this.prepOutputShapes();\n              this.prepCode();\n            })\n\n          }\n\n        })\n\n      } catch(err) {\n        console.log(err)\n        var settings = this.state.settings;\n        settings.snackshow = true;\n        settings.snackmsg = 'Failed to load from URL';\n        settings.snackcolor = red['A400'];\n        this.setState({ settings });\n      }\n\n    } else {\n      this.prepOutputShapes();\n      this.prepCode();\n    }\n  }\n\n\n  prepCode() {\n\n    // Selecting parser\n    var parser = null;\n    if (this.state.environment.library === 'PyTorch') parser = PyTorchParser;\n\n    // Parsing code and updating state\n    this.setState({ code:parser(this.state.flowpoints, this.lib) + '\\n\\n\\n' })\n\n  }\n\n\n  prepOutputShapes() {\n\n    // Helper\n    var flowpoints = this.state.flowpoints;\n\n    // Getting floworder and updating lib\n    this.lib = FlowOrder(flowpoints)\n\n    // Setting output-shapes of inputs\n    var visited = []\n    this.lib.order.map(key => {\n      if (this.lib.lib[key].specTitle === 'Input') {\n        flowpoints[key].output_shape = flowpoints[key].specs.outshape(null, flowpoints[key].specs.params)\n        visited.push(key)\n      }\n    })\n\n    // Setting all output-shapes\n    this.lib.order.map(key => {\n      if (!visited.includes(key)) {\n        var bestInp = null\n        Object.keys(this.lib.lib[key].inputs).map(inp_key => {\n          if (visited.includes(inp_key)) bestInp = inp_key\n        })\n        flowpoints[key].specs.params = flowpoints[key].specs.autoparams(flowpoints[bestInp].output_shape, flowpoints[key].specs.params)\n        flowpoints[key].output_shape = flowpoints[key].specs.outshape(flowpoints[bestInp].output_shape, flowpoints[key].specs.params)\n        visited.push(key)\n      }\n    })\n\n    // Updating state\n    this.setState({ flowpoints })\n\n  }\n\n\n  updatePointSettings(key, settings) {\n    var flowpoints = this.state.flowpoints;\n    flowpoints[key] = settings;\n    this.setState({ flowpoints });\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  deleteSelected() {\n    var flowpoints = this.state.flowpoints;\n    delete flowpoints[this.state.selected]\n    Object.keys(flowpoints).map(test_key => {\n      if (this.state.selected in flowpoints[test_key].outputs) {\n        delete flowpoints[test_key].outputs[this.state.selected];\n      }\n    })\n    this.setState({flowpoints, selected:null});\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  addFlowpoint() {\n    var flowpoints = this.state.flowpoints;\n    flowpoints['' + this.state.count] = {\n      name: '',\n      output_shape: [],\n      pos: {x:this.state.lastPos.x, y:this.state.lastPos.y + 90},\n      outputs: {},\n      isHover: false,\n      specs: this.state.environment.getModules().linear\n    }\n    this.setState({ flowpoints, count:this.state.count + 1, lastPos:{x:this.state.lastPos.x, y:this.state.lastPos.y + 90} })\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  handleClickPoint(key) {\n    var selected = this.state.selected\n    var flowpoints = this.state.flowpoints\n    if (selected === null) {\n      selected = key\n    } else {\n      if (selected !== key) {\n        var p1 = flowpoints[selected]\n        if (key in p1.outputs) {\n          delete p1.outputs[key]\n        } else {\n          p1.outputs[key] = {\n            output:'auto',\n            input:'auto',\n          }\n        }\n      }\n      selected = null\n    }\n    this.setState({ selected, flowpoints })\n    this.prepOutputShapes();\n    this.prepCode();\n  }\n\n\n  render() {\n    return (\n      <div style={{backgroundColor:(this.state.settings.darktheme ? 'black' : 'white')}}>\n\n        <Sidebar\n          selected={this.state.selected}\n          open={this.state.settings.showSidebar}\n          flowpoints={this.state.flowpoints}\n          settings={this.state.settings}\n          environment={this.state.environment}\n          refresh={() => {return this.state}}\n          updateSettings={(settings) => {this.setState({settings})}}\n          updateEnv={(environment) => {this.setState({environment})}}\n          deleteSelected={this.deleteSelected}\n          darktheme={this.state.settings.darktheme}\n          code={this.state.code}\n          updatePointSettings={this.updatePointSettings}/>\n\n        <Flowspace\n          selected={this.state.selected}\n          avoidCollisions={this.state.settings.avoidCollisions}\n          onClick={e => {this.setState({ selected:null })}}\n          inputColor='#41e2f4'\n          outputColor='#4164f4'\n          style={{\n            height: '100vh',\n            marginLeft:this.state.settings.drawerWidth * this.state.settings.showSidebar + 'px',\n            backgroundColor:(this.state.settings.darktheme ? 'black' : 'white'),\n            transition:['margin-left 0.4s ease-out','background-color 0.2s ease-out']\n          }}>\n          {\n            Object.keys(this.state.flowpoints).map(key => {\n              const point = this.state.flowpoints[key];\n              return (\n                <Flowpoint\n                  key={key}\n                  snap={{ x:10, y:10 }}\n                  startPosition={point.pos}\n                  outputs={point.outputs}\n                  onClick={() => {this.handleClickPoint(key)}}\n                  noShadow\n                  onDrag={pos => {\n                    var flowpoints = this.state.flowpoints;\n                    flowpoints[key].pos = pos;\n                    this.setState({ flowpoints, lastPos:pos })\n                  }}\n                  style={{\n                    height:'auto',\n                    maxHeight: this.state.settings.showShape ? 150 : 50,\n                    backgroundColor: this.state.settings.darktheme ? 'black' : 'white',\n                    borderStyle: 'solid',\n                    borderColor: this.state.selected === key ? '#ff9721' : '#4164f4',\n                    borderWidth: '1px',\n                    borderRadius: '5px',\n                    transition: 'border-color 0.4s ease-out'\n                  }}>\n                  <div style={{color:(this.state.settings.darktheme ? 'white' : 'black'), height:'auto'}}>\n                    <div style={{display:'table', width:'100%', height:'50px'}}>\n                      <div style={{display:'table-cell', verticalAlign:'middle', textAlign:'center'}}>\n                        {\n                          this.state.settings.showName ? point.name : point.specs.title\n                        }\n                      </div>\n                    </div>\n                    {\n                      this.state.settings.showShape ? shapeBox(point.output_shape) : null\n                    }\n                  </div>\n                </Flowpoint>\n              )\n            })\n          }\n        </Flowspace>\n\n        <div style={{\n            bottom:'5px',\n            left:this.state.settings.drawerWidth * this.state.settings.showSidebar + 5 + 'px',\n            position:'fixed',\n            transition: 'left 0.4s ease-out'\n          }}>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:lightBlue['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Add\"\n              onClick={() => {this.addFlowpoint()}}>\n              <AddIcon />\n            </Fab>\n          </div>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:blue['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Copy code\"\n              onClick={() => {\n                copy(this.state.code)\n                var settings = this.state.settings;\n                settings.snackshow = true;\n                settings.snackmsg = 'Copied code to clipboard';\n                settings.snackcolor = blue['A400'];\n                this.setState({settings})\n              }}>\n              <FileCopyIcon />\n            </Fab>\n          </div>\n          <div style={{paddingBottom:4}}>\n            <Fab\n              style={{background:indigo['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Copy code\"\n              onClick={() => {\n                var new_url = parseToQuery(\n                  this.state.flowpoints,\n                  this.state.settings.inputColor,\n                  this.state.settings.outputColor,\n                  this.state.count,\n                  this.state.settings.darktheme,\n                  this.state.settings.showName,\n                  this.state.environment.library,\n                  this.state.settings.showSidebar\n                )\n                new_url = ReplaceAll(new_url, '.', 'lll')\n                postToDB(new_url, (mod_id) => {\n                  new_url = this.baseUrl + '?_p=' + mod_id;\n                  copy(new_url)\n                  var settings = this.state.settings;\n                  settings.snackshow = true;\n                  settings.snackmsg = 'Copied link to clipboard';\n                  settings.snackcolor = indigo['A400'];\n                  this.setState({settings})\n                })\n              }}>\n              <LinkIcon />\n            </Fab>\n          </div>\n          <div>\n            <Fab\n              style={{background:deepPurple['A400'], color:'#ffffff', zIndex:6, boxShadow:'none'}}\n              aria-label=\"Hide/Show\"\n              onClick={() => {\n                var settings = this.state.settings;\n                settings.showSidebar = !settings.showSidebar;\n                this.setState({settings})\n              }}>\n              <MenuIcon />\n            </Fab>\n          </div>\n        </div>\n\n        <Snackbar\n          autoHideDuration={3000}\n          onClose={() => {\n            var settings = this.state.settings;\n            settings.snackshow = false\n            this.setState({ settings })\n          }}\n          anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}\n          open={this.state.settings.snackshow}>\n          <SnackbarContent\n            message={this.state.settings.snackmsg}\n            style={{backgroundColor:this.state.settings.snackcolor, color:'black'}}/>\n        </Snackbar>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}